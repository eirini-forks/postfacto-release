{"version":3,"sources":["redux/actions/main_actions.js","redux/actions/router_actions.js","redux/actions/api_actions.js","helpers/logger.js","Application.jsx","components/shared/header.jsx","api/retro_client.js","helpers/analytics_client.js","components/shared/constants.js","images/icon-locked.svg","images/icon-eye.svg","components/retro-create/retro_create_page.jsx","components/shared/footer.jsx","components/retros-list/retro_tile.jsx","components/retros-list/list_retros_page.jsx","components/retro-show/emoji_selector.jsx","components/retro-show/retro_column_input.jsx","components/retro-show/formatted_interval.jsx","components/retro-show/countdown_timer.jsx","components/retro-show/retro_item_edit_view.jsx","components/retro-show/retro_column_item.jsx","images/happy.svg","images/meh.svg","images/sad.svg","components/retro-show/retro_column.jsx","images/action-tick-checked.svg","images/action-tick-unchecked.svg","components/retro-show/retro_actions_column_item.jsx","components/retro-show/retro_actions_column.jsx","components/retro-show/retro_action_panel.jsx","components/retro-show/retro_cable.js","components/retro-show/retro_websocket.jsx","components/shared/legal_banner.jsx","components/retro-show/retro_legal_banner.jsx","components/shared/retro_menu.jsx","components/retro-show/retro_heading.jsx","components/shared/empty_page.jsx","components/retro-show/archive_retro_dialog.jsx","components/retro-show/share_retro_dialog.jsx","components/retro-show/show_retro_page.jsx","components/retro-settings/show_retro_settings_page.jsx","components/retro-settings/show_retro_password_settings_page.jsx","components/retro-login/login_to_retro_page.jsx","images/face-dead.svg","components/server-lost/api_server_not_found_page.jsx","components/retro-not-found/retro_not_found_page.jsx","components/not-found/not_found_page.jsx","components/terms/new_terms_page.jsx","components/home/login_form.jsx","components/home/home_legal_banner.jsx","components/home/home_page.jsx","components/retro-archives/list_retro_archives_page.jsx","components/shared/alert.jsx","components/registration/registration_page.jsx","components/router.jsx","redux/middleware/message_middleware.js","redux/reducers/retro_reducer.js","redux/reducers/message_reducer.js","redux/reducers/user_reducer.js","redux/reducers/config_reducer.js","redux/middleware/archive_retro_middleware.js","redux/middleware/router_middleware.js","redux/middleware/auth_middleware.js","redux/middleware/analytics_middleware.js","redux/middleware/api_middleware.js","redux/middleware/logging_middleware.js","redux/store.js","components/session_cable.js","components/session_websocket.jsx","index.jsx","redux/actions/analytics_actions.js","helpers/websockets.js"],"names":["currentRetroUpdated","retro","type","payload","currentRetroItemUpdated","item","currentRetroActionItemUpdated","actionItem","currentRetroActionItemDeleted","currentRetroItemDeleted","currentRetroItemDoneUpdated","itemId","done","currentRetroSendArchiveEmailUpdated","status","currentRetroHighlightCleared","retrosUpdated","retros","getRetros","errorsUpdated","errors","clearErrors","showDialog","dialog","clearDialog","showAlert","alert","clearAlert","setNotFound","notFound","updateWebsocketSession","session","updateCurrentArchivedRetro","updateRetroArchives","updateFeatureFlags","featureFlags","signOut","forceRelogin","originatorId","retroId","navigate","url","home","newRetro","showRetro","slug","showRetroForId","retro_id","retroLogin","retroRelogin","retroArchives","retroArchive","archiveId","retroSettings","retroPasswordSettings","registration","accessToken","email","name","retroCreate","getRetro","id","joinRetro","joinToken","getRetroSettings","getRetroLogin","loginToRetro","password","createRetroItem","category","description","updateRetroItem","deleteRetroItem","voteRetroItem","nextRetroItem","highlightRetroItem","unhighlightRetroItem","doneRetroItem","undoneRetroItem","extendTimer","archiveRetro","createRetroActionItem","doneRetroActionItem","actionItemId","deleteRetroActionItem","editRetroActionItem","getRetroArchive","getRetroArchives","createUser","companyName","fullName","createSession","updateRetroSettings","retroName","newSlug","oldSlug","isPrivate","requestUuid","videoLink","isMagicLinkEnabled","updateRetroPassword","currentPassword","newPassword","retrieveConfig","Logger","message","log","reduxStore","muiTheme","getMuiTheme","fontFamily","router","Grapnel","pushState","retroClient","RetroClient","global","Retro","config","api_base_url","localStorage","getItem","dispatch","api_server_not_found","analyticsClient","AnalyticsClient","enable_analytics","makeReduxStore","Application","handleResize","width","window","innerWidth","isMobile640","isMobile1030","info","addEventListener","this","removeEventListener","props","store","className","websocketUrl","websocketSessionDataReceived","React","Component","ConnectedHeader","connect","state","currentRetro","title","link","apiLocationGetter","tokenGetter","apiServerNotFound","data","fetchJson","apiBaseUrl","method","headers","body","JSON","stringify","is_private","is_magic_link_enabled","token","request_uuid","video_link","join_token","item_id","transition","send_archive_email","action_item_id","archive_id","company_name","full_name","access_token","current_password","new_password","options","acceptHeaders","authorizationHeaders","authorization","augmentedOptions","credentials","fetch","then","response","Promise","all","json","catch","POSTFACTO_TEAM_ANALYTICS_TOKEN","enableAnalyticsFn","event","initialized","Mixpanel","init","track","Object","assign","timestamp","Date","toJSON","VALID_SLUG_REGEX","DEFAULT_TOGGLE_STYLE","trackStyle","trackSwitchedStyle","labelStyle","thumbStyle","thumbSwitchedStyle","iconStyle","RetroCreatePage","validateName","value","validateSlug","length","match","validatePassword","togglePrivate","setState","oldState","toggleMagicLinkEnabled","bind","submit","onChangeName","onChange","onChangeSlug","onChangePassword","redirectToHome","nextProps","location","origin","split","field","e","target","accessPrivate","src","iconLockedSvg","alt","accessPublic","iconEyeSvg","toggle","style","placeholder","getCurrentHost","htmlFor","label","labelPosition","toggled","onToggle","renderAccessInstruction","paddingLeft","paddingRight","onClick","defaultProps","ConnectedRetroCreatePage","messages","Footer","href","contact","terms","rel","privacy","RetroTile","callback","ListRetrosPage","handleNewRetroButtonClicked","handleSignOutButtonClicked","navigateTo","retroListItems","map","handleRetroListItemClicked","backgroundColor","labelColor","ConnectedListRetrosPage","EmojiSelector","points","Array","isArray","String","fromCodePoint","values","onSelect","emoji","fromPoints","onMouseDown","ranges","renderCodepointRange","inputHasContent","trim","RetroColumnInput","textarea","createRef","inputText","isFocused","multiline","submitRetroItem","inputFocus","inputBlur","onKeyPress","onResize","key","shiftKey","preventDefault","isSelectingEmoji","aria-hidden","current","focus","start","selectionStart","end","selectionEnd","newInputText","substring","onEmojiButtonClick","hidden","onEmojiSelect","classes","resolveInputBoxClass","resolvePlaceholder","onFocus","onBlur","required","autoComplete","ref","renderEmojiButton","renderDoneButton","renderEmojiSelector","formatInterval","secondsRemaining","roundedSeconds","Math","max","floor","stringSeconds","substr","FormattedInterval","CountdownTimer","getCurrentTimestampInMs","now","startTimer","clearInterval","interval","setInterval","updateRemainingTime","remainingTimeInMs","getRemainingTimeInMs","endTimestampInMs","onExtendTimerClicked","stopPropagation","renderTimerInformation","RetroItemEditView","editedText","saveDisabled","onTextChanged","onDeleteClicked","onSaveClicked","onEmojiButtonClicked","onEmojiSelected","originalText","saveItem","deleteItem","autoFocus","renderTextInput","renderDeleteButton","renderSaveButton","RetroColumnItem","domId","isEditing","onItemCancelClicked","onItemDoneClicked","onItemVoteClicked","onItemEditClicked","saveRetroItem","onItemClicked","prevProps","highlighted_item_id","wasHighlighted","isHighlighted","windowH","document","getBoundingClientRect","height","itemH","ReactDOM","findDOMNode","offsetHeight","scrollTo","offset","delay","smooth","duration","archives","isDone","toggleHighlight","isMobile","isEnabled","retro_item_end_time","parse","vote_count","itemContent","renderVote","renderDescription","renderTimer","renderFooter","renderEdit","renderDiscussed","getPrimaryClass","Scroll","scroller","imageMap","Map","set","happySvg","mehSvg","sadSvg","RetroColumn","items","filter","sort","a","b","created_at","get","renderColumnHeader","renderInput","renderRetroItems","RetroActionsColumnItem","onActionTickClicked","onActionEditClicked","saveActionItem","tick","action_item","actionTickCheckedSvg","actionTickUncheckedSvg","actionContent","renderTick","renderEditButton","monthNames","dateToMillis","date","getTime","RetroActionsColumn","action_items","that","createdAt","lastWeekDate","getDateOfLatestItemThatIsNotToday","isToday","isSameDate","getFullYear","getMonth","getDate","timestamps","setHours","renderCurrentDateString","renderLastWeekDateString","renderDate","renderActionItems","RetroActionPanel","columns","col","renderActionColumnTitle","RetroCable","subscription","cable","websocketRetroDataReceived","initialize","connection","close","allowReconnect","subscriptions","remove","subscribe","api_token","create","channel","received","disconnected","onDisconnected","RetroWebsocket","ActionCable","createConsumer","LegalBanner","onDismiss","display","getDismissedIds","retroBannersDismissed","RetroLegalBanner","push","markAsDismissed","hasBeenDismissed","includes","PureComponent","RetroMenu","anchorEl","open","renderMenuItem","handleMenuClick","handleRequestClose","currentTarget","menuItem","call","button","primaryText","animated","anchorOrigin","horizontal","vertical","targetOrigin","onRequestClose","renderMenuItems","RetroHeading","onArchivesButtonClicked","handleArchiveRetro","handleShareRetro","handleViewArchives","handleRetroSettings","routeToRetroArchives","icon","viewedMagicLink","routeToRetroSettings","requireRetroLogin","isApplicable","renderBackButton","renderShareButton","getMenuItems","EmptyPage","ArchiveRetroDialog","handleArchiveEmailPreferenceChange","handleArchiveRetroConfirmation","toggleSendArchiveEmail","onClose","archiveButton","archiveEmails","cancelButton","actions","actionsContainerClassName","contentClassName","ShareRetroDialog","retroUrl","copyRetroUrl","textToCopy","querySelector","select","setSelectionRange","execCommand","copiedMagicLink","closeButton","readOnly","getItemArchiveTime","archived_at","ShowRetroPage","currentMobileCategory","filtered_retro_archive","moveToNextItem","retro_archives","fetchRetros","initializeArchivesState","filterRetroArchives","archivesTimestamps","time","latestTimestamp","filterItemByTimestamp","hideDialog","renderDialog","onMobileTabClick","renderColumnMobile","retroContainerClasses","keyHandlers","keyMap","handlers","environment","retro_object","renderMobile","renderDesktop","ConnectedShowRetroPage","currentArchivedRetro","send","command","originator_id","getStateUpdateFor","stateUpdate","ShowRetroSettingsPage","handleBackButtonClicked","onChangeVideo","handleChangePasswordClick","handleRetroSettingsSubmit","getSettings","routeToRetroPasswordSettings","ConnectedShowRetroSettingsPage","user","websocketSession","ShowRetroPasswordSettingsPage","confirm_new_password","onCurrentPasswordChange","onNewPasswordChange","onConfirmPasswordChange","handleSubmitButtonClicked","fontSize","ConnectedShowRetroPasswordSettingsPage","LoginToRetroPage","inputStyle","onInputFocus","onInputChange","onLoginClicked","login_error_message","force_relogin","marginTop","pageTitle","ConnectedLoginToRetroPage","ApiServerNotFoundPage","resetApiServerNotFound","faceDeadSvg","ConnectedApiServerNotFoundPage","RetroNotFoundPage","onCreateNewRetroClicked","redirectToRetroCreatePage","resetRetroNotFound","ConnectedRetroNotFoundPage","retro_not_found","NotFoundPage","navigateNewRetro","resetNotFound","ConnectedNotFoundPage","not_found","NewTermsPage","LoginForm","onMockLogin","onSuccess","mock_google_auth","profileObj","onFailure","google_oauth_client_id","onClickCapture","clientId","hostedDomain","google_oauth_hosted_domain","marginRight","HomeLegalBanner","homeTermsDismissed","HomePage","onSignIn","homePageShownAnalytics","googleUser","paddingTop","onGoogleLoginFailure","ConnectedHomePage","homePageShown","makeDateString","year","day","toLocaleDateString","monthName","month","createdAtDesc","ListRetroArchivesPage","onCurrentRetroClicked","routeToRetroArchive","menuItems","onArchiveClicked","ConnectedListRetroArchivesPage","Alert","checkIcon","RegistrationPage","handleNameChange","handleCompanyNameChange","register","disabled","ConnectedRegistrationPage","Router","req","params","setPage","listRetros","listRetroArchives","showRetroArchive","showRetroSettings","showRetroPasswordSettings","showNotFound","showTerms","reloginToRetro","showHome","isUserLoggedIn","showRegistration","Page","additionalProps","page","prevState","ConnectedRouter","alertTimeout","initialState","RetroReducer","action","updatedItems","i","existingItems","position","findIndex","concat","existingActionItems","updatedActionItems","MessageReducer","UserReducer","ConfigReducer","ArchiveMiddleware","next","allDone","getState","every","find","completedRetroItem","RouterMiddleware","AuthMiddleware","clear","AnalyticsMiddleware","MessageMiddleware","clearTimeout","setTimeout","getApiToken","setApiToken","setItem","ApiMiddleware","createRetro","createdRetro","doneActionItem","undoneActionItem","archive_emails","auth_token","new_user","archivedRetro","createdRetroItem","warn","visitedRetroMagicLink","removeItem","clearApiToken","visitedRetro","updateRetro","oldRetroId","newRetroId","LoggingMiddleware","console","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","getReduxStore","createStore","combineReducers","applyMiddleware","SessionCable","onRecieved","SessionWebsocket","render","getElementById","websocket_port","createElement","websocket_url","port"],"mappings":"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KZW,OAAS,CACd,CACEtO,KAAM,oBACNiO,OAAQ,CACN,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,CAAC,OAAS,MAAQ,KAAQ,OAAS,OACnC,OACA,OACA,OACA,SAGJ,CACEjO,KAAM,gBACNiO,OAAQ,CACN,OACA,OACA,OACA,KACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,OACA,OACA,OACA,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,CAAC,OAAS,KAAQ,QAClB,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,MAAQ,KAAQ,KAAQ,OAClC,CAAC,OAAS,MAAQ,KAAQ,KAAQ,OAClC,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,OACA,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,OACA,CAAC,OAAS,KAAQ,KAAQ,O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A,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,SAGJ,CACEjO,KAAM,eACNiO,OAAQ,CACN,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SAGJ,CACEjO,KAAM,kBACNiO,OAAQ,CACN,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,KACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,KACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,MACA,OACA,OACA,OACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,OACA,OACA,SAGJ,CACEjO,KAAM,aACNiO,OAAQ,CACN,OACA,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SAGJ,CACEjO,KAAM,UACNiO,OAAQ,CACN,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,IACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,KACA,OACA,KACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,SAGJ,CACEjO,KAAM,UACNiO,OAAQ,CACN,OACA,OACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,MACA,KACA,KACA,MACA,KACA,KACA,KACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,KACA,OACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,IACA,IACA,KACA,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,CAAC,GAAQ,MAAQ,MACjB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,KACA,OACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SAGJ,CACEjO,KAAM,QACNiO,OAAQ,CACN,OACA,OACA,OACA,OACA,OACA,CAAC,OAAS,MAAQ,KAAQ,QAC1B,CAAC,OAAS,KAAQ,KAAQ,OAC1B,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC,OAAS,QACV,CAAC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","file":"static/js/main.06461504.chunk.js","sourcesContent":["/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nexport function currentRetroUpdated(retro) {\n  return {\n    type: 'CURRENT_RETRO_UPDATED',\n    payload: retro,\n  };\n}\n\nexport function currentRetroItemUpdated(item) {\n  return {\n    type: 'CURRENT_RETRO_ITEM_UPDATED',\n    payload: item,\n  };\n}\n\n\nexport function currentRetroActionItemUpdated(actionItem) {\n  return {\n    type: 'CURRENT_RETRO_ACTION_ITEM_UPDATED',\n    payload: actionItem,\n  };\n}\n\nexport function currentRetroActionItemDeleted(actionItem) {\n  return {\n    type: 'CURRENT_RETRO_ACTION_ITEM_DELETED',\n    payload: actionItem,\n  };\n}\n\nexport function currentRetroItemDeleted(item) {\n  return {\n    type: 'CURRENT_RETRO_ITEM_DELETED',\n    payload: item,\n  };\n}\n\nexport function currentRetroItemDoneUpdated(itemId, done) {\n  return {\n    type: 'CURRENT_RETRO_ITEM_DONE_UPDATED',\n    payload: {itemId, done},\n  };\n}\n\n\nexport function currentRetroSendArchiveEmailUpdated(status) {\n  return {\n    type: 'CURRENT_RETRO_SEND_ARCHIVE_EMAIL_UPDATED',\n    payload: status,\n  };\n}\n\nexport function currentRetroHighlightCleared() {\n  return {\n    type: 'CURRENT_RETRO_HIGHLIGHT_CLEARED',\n  };\n}\n\nexport function retrosUpdated(retros) {\n  return {\n    type: 'RETROS_UPDATED',\n    payload: retros,\n  };\n}\n\nexport function getRetros() {\n  return {\n    type: 'GET_RETROS',\n  };\n}\n\nexport function errorsUpdated(errors) {\n  return {\n    type: 'ERRORS_UPDATED',\n    payload: errors,\n  };\n}\n\nexport function clearErrors() {\n  return {\n    type: 'CLEAR_ERRORS',\n  };\n}\n\nexport function showDialog(dialog) {\n  return {\n    type: 'SHOW_DIALOG',\n    payload: dialog,\n  };\n}\n\nexport function clearDialog() {\n  return {\n    type: 'CLEAR_DIALOG',\n  };\n}\n\n\nexport function showAlert(alert) {\n  return {\n    type: 'SHOW_ALERT',\n    payload: alert,\n  };\n}\n\nexport function clearAlert() {\n  return {\n    type: 'CLEAR_ALERT',\n  };\n}\n\nexport function setNotFound(notFound) {\n  return {\n    type: 'SET_NOT_FOUND',\n    payload: notFound,\n  };\n}\n\nexport function updateWebsocketSession(session) {\n  return {\n    type: 'WEBSOCKET_SESSION_UPDATED',\n    payload: session,\n  };\n}\n\nexport function updateCurrentArchivedRetro(retro) {\n  return {\n    type: 'CURRENT_ARCHIVED_RETRO_UPDATED',\n    payload: retro,\n  };\n}\n\nexport function updateRetroArchives(retros) {\n  return {\n    type: 'RETRO_ARCHIVES_UPDATED',\n    payload: retros,\n  };\n}\n\nexport function updateFeatureFlags(featureFlags) {\n  return {\n    type: 'FEATURE_FLAGS_UPDATED',\n    payload: featureFlags,\n  };\n}\n\nexport function signOut() {\n  return {\n    type: 'SIGN_OUT',\n  };\n}\n\nexport function forceRelogin(originatorId, retroId) {\n  return {\n    type: 'FORCE_RELOGIN',\n    payload: {\n      originatorId,\n      retroId,\n    },\n  };\n}\n","\nconst navigate = (url) => ({\n  type: 'SET_ROUTE',\n  payload: url,\n});\n\nconst home = () => navigate('/');\nconst newRetro = () => navigate('/retros/new');\nconst showRetro = (retro) => navigate(`/retros/${retro.slug}`);\nconst showRetroForId = (retro_id) => navigate(`/retros/${retro_id}`);\nconst retroLogin = (retro_id) => navigate(`/retros/${retro_id}/login`);\nconst retroRelogin = (retro_id) => navigate(`/retros/${retro_id}/relogin`);\nconst retroArchives = (retroId) => navigate(`/retros/${retroId}/archives`);\nconst retroArchive = (retroId, archiveId) => navigate(`/retros/${retroId}/archives/${archiveId}`);\nconst retroSettings = (retroId) => navigate(`/retros/${retroId}/settings`);\nconst retroPasswordSettings = (retroId) => navigate(`/retros/${retroId}/settings/password`);\nconst registration = (accessToken, email, name) => navigate(`/registration/${accessToken}/${email}/${name}`);\n\nexport {\n  home,\n  newRetro,\n  showRetro,\n  retroLogin,\n  retroRelogin,\n  showRetroForId,\n  retroArchives,\n  retroArchive,\n  retroSettings,\n  retroPasswordSettings,\n  registration,\n};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst retroCreate = (newRetro) => ({\n  type: 'RETRO_CREATE',\n  payload: newRetro,\n});\nconst getRetro = (id) => ({\n  type: 'GET_RETRO',\n  payload: id,\n});\nconst joinRetro = (retroId, joinToken) => ({\n  type: 'JOIN_RETRO',\n  payload: {retroId, joinToken},\n});\nconst getRetroSettings = (id) => ({\n  type: 'GET_RETRO_SETTINGS',\n  payload: id,\n});\nconst getRetroLogin = (retroId) => ({\n  type: 'GET_RETRO_LOGIN',\n  payload: retroId,\n});\nconst loginToRetro = (retroId, password) => ({\n  type: 'LOGIN_TO_RETRO',\n  payload: {retroId, password},\n});\nconst createRetroItem = (retroId, category, description) => ({\n  type: 'CREATE_RETRO_ITEM',\n  payload: {retroId, category, description},\n});\nconst updateRetroItem = (retroId, item, description) => ({\n  type: 'UPDATE_RETRO_ITEM',\n  payload: {retroId, item, description},\n});\nconst deleteRetroItem = (retroId, item) => ({\n  type: 'DELETE_RETRO_ITEM',\n  payload: {retroId, item},\n});\nconst voteRetroItem = (retroId, item) => ({\n  type: 'VOTE_RETRO_ITEM',\n  payload: {retroId, item},\n});\nconst nextRetroItem = (retro) => ({\n  type: 'NEXT_RETRO_ITEM',\n  payload: retro,\n});\nconst highlightRetroItem = (retroId, item) => ({\n  type: 'HIGHLIGHT_RETRO_ITEM',\n  payload: {retroId, item},\n});\nconst unhighlightRetroItem = (retroId) => ({\n  type: 'UNHIGHLIGHT_RETRO_ITEM',\n  payload: retroId,\n});\nconst doneRetroItem = (retroId, item) => ({\n  type: 'DONE_RETRO_ITEM',\n  payload: {retroId, item},\n});\nconst undoneRetroItem = (retroId, item) => ({\n  type: 'UNDONE_RETRO_ITEM',\n  payload: {retroId, item},\n});\nconst extendTimer = (retroId) => ({\n  type: 'EXTEND_TIMER',\n  payload: retroId,\n});\nconst archiveRetro = (retro) => ({\n  type: 'ARCHIVE_RETRO',\n  payload: retro,\n});\nconst createRetroActionItem = (retroId, description) => ({\n  type: 'CREATE_RETRO_ACTION_ITEM',\n  payload: {retroId, description},\n});\nconst doneRetroActionItem = (retroId, actionItemId, done) => ({\n  type: 'DONE_RETRO_ACTION_ITEM',\n  payload: {retroId, actionItemId, done},\n});\nconst deleteRetroActionItem = (retroId, actionItem) => ({\n  type: 'DELETE_RETRO_ACTION_ITEM',\n  payload: {retroId, actionItem},\n});\nconst editRetroActionItem = (retroId, actionItemId, description) => ({\n  type: 'EDIT_RETRO_ACTION_ITEM',\n  payload: {retroId, actionItemId, description},\n});\nconst getRetroArchive = (retroId, archiveId) => ({\n  type: 'GET_RETRO_ARCHIVE',\n  payload: {retroId, archiveId},\n});\nconst getRetroArchives = (retroId) => ({\n  type: 'GET_RETRO_ARCHIVES',\n  payload: retroId,\n});\nconst createUser = (accessToken, companyName, fullName) => ({\n  type: 'CREATE_USER',\n  payload: {accessToken, companyName, fullName},\n});\nconst createSession = (accessToken, email, name) => ({\n  type: 'CREATE_SESSION',\n  payload: {accessToken, email, name},\n});\nconst updateRetroSettings = (retroId, retroName, newSlug, oldSlug, isPrivate, requestUuid, videoLink, isMagicLinkEnabled) => ({\n  type: 'UPDATE_RETRO_SETTINGS',\n  payload: {retroId, retroName, newSlug, oldSlug, isPrivate, requestUuid, videoLink, isMagicLinkEnabled},\n});\nconst updateRetroPassword = (retroId, currentPassword, newPassword, requestUuid) => ({\n  type: 'UPDATE_RETRO_PASSWORD',\n  payload: {retroId, currentPassword, newPassword, requestUuid},\n});\nconst retrieveConfig = () => ({\n  type: 'RETRIEVE_CONFIG',\n  payload: {},\n});\n\nexport {\n  retroCreate,\n  getRetro,\n  joinRetro,\n  getRetroSettings,\n  getRetroLogin,\n  loginToRetro,\n  createRetroItem,\n  updateRetroItem,\n  deleteRetroItem,\n  voteRetroItem,\n  nextRetroItem,\n  highlightRetroItem,\n  unhighlightRetroItem,\n  doneRetroItem,\n  undoneRetroItem,\n  extendTimer,\n  archiveRetro,\n  createRetroActionItem,\n  doneRetroActionItem,\n  deleteRetroActionItem,\n  editRetroActionItem,\n  getRetroArchive,\n  getRetroArchives,\n  createUser,\n  createSession,\n  updateRetroSettings,\n  updateRetroPassword,\n  retrieveConfig,\n};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default class Logger {\n  static debug(message) {\n    Logger.log(message, 'DEBUG');\n  }\n\n  static info(message) {\n    Logger.log(message, 'INFO');\n  }\n\n  static warn(message) {\n    Logger.log(message, 'WARN');\n  }\n\n  static log() {\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport {Provider} from 'react-redux';\nimport Grapnel from 'grapnel';\nimport {ConnectedRouter} from './components/router';\nimport {ConnectedHeader} from './components/shared/header';\nimport Logger from './helpers/logger';\n\nimport SessionWebsocket from './components/session_websocket';\nimport {setNotFound, updateWebsocketSession} from './redux/actions/main_actions';\nimport {retrieveConfig} from './redux/actions/api_actions';\nimport makeReduxStore from './redux/store';\nimport RetroClient from './api/retro_client';\nimport AnalyticsClient from './helpers/analytics_client';\nimport {websocketUrl} from './helpers/websockets';\n\nconst muiTheme = getMuiTheme({\n  fontFamily: 'Karla',\n});\n\nlet reduxStore;\n\nconst router = new Grapnel({pushState: true});\nconst retroClient = new RetroClient(\n  () => global.Retro.config.api_base_url,\n  () => localStorage.getItem('authToken'),\n  () => reduxStore.dispatch(setNotFound({api_server_not_found: true})),\n);\n\nconst analyticsClient = new AnalyticsClient(() => global.Retro.config.enable_analytics);\nreduxStore = makeReduxStore(router, retroClient, analyticsClient);\n\nclass Application extends React.Component {\n  static propTypes = {\n    config: types.object.isRequired,\n  };\n\n  componentDidMount() {\n    Logger.info('Application started');\n    reduxStore.dispatch(retrieveConfig());\n\n    window.addEventListener('resize', this.handleResize);\n    this.handleResize();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleResize = () => {\n    const width = window.innerWidth;\n    reduxStore.dispatch({\n      type: 'WINDOW_SIZE_UPDATED',\n      payload: {\n        isMobile640: width < 640,\n        isMobile1030: width <= 1030,\n      },\n    });\n  };\n\n  updateWebsocketSession = (session) => {\n    reduxStore.dispatch(updateWebsocketSession(session));\n  };\n\n  render() {\n    const {config} = this.props;\n    return (\n      <Provider store={reduxStore}>\n        <MuiThemeProvider muiTheme={muiTheme}>\n          <div className=\"retro-application\">\n\n            <ConnectedHeader config={config}/>\n            <ConnectedRouter config={config} router={router}/>\n            <SessionWebsocket url={websocketUrl(config)} websocketSessionDataReceived={this.updateWebsocketSession}/>\n          </div>\n        </MuiThemeProvider>\n      </Provider>\n    );\n  }\n}\n\nexport default Application;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport {Helmet} from 'react-helmet';\nimport {connect} from 'react-redux';\n\nconst Header = ({config, retro}) => (\n  <Helmet\n    title={retro.name ? retro.name + ' - ' + config.title : config.title}\n    link={[\n      {'rel': 'icon', 'href': '/images/favicon.png?v=2'},\n      {'type': 'text/plain', 'rel': 'author', 'href': '/humans.txt'},\n    ]}\n  />\n);\n\nHeader.propTypes = {\n  retro: types.object.isRequired,\n  config: types.object.isRequired,\n};\n\n\nconst mapStateToProps = (state) => ({\n  retro: state.retro.currentRetro,\n});\n\nconst ConnectedHeader = connect(mapStateToProps)(Header);\n\nexport {ConnectedHeader, Header};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n\nexport default class RetroClient {\n  constructor(apiLocationGetter, tokenGetter = () => localStorage.getItem('authToken'), apiServerNotFound) {\n    this.apiLocationGetter = apiLocationGetter;\n    this.tokenGetter = tokenGetter;\n    this.apiServerNotFound = apiServerNotFound;\n  }\n\n  apiBaseUrl() {\n    return this.apiLocationGetter();\n  }\n\n  createRetro(data) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros`, {\n      method: 'POST',\n      headers: {\n        'X-AUTH-TOKEN': this.tokenGetter(),\n      },\n      body: JSON.stringify({\n        retro: {\n          name: data.name,\n          slug: data.slug,\n          password: data.password,\n          is_private: data.isPrivate,\n          is_magic_link_enabled: data.isMagicLinkEnabled,\n        },\n      }),\n    });\n  }\n\n  updateRetro(id, name, slug, token, is_private, request_uuid, video_link, is_magic_link_enabled) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${id}`, {\n      method: 'PATCH',\n      accessToken: token,\n      body: JSON.stringify({\n        retro: {\n          name,\n          slug,\n          is_private,\n          video_link,\n          is_magic_link_enabled,\n        },\n        request_uuid,\n      }),\n    });\n  }\n\n  getRetro(id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${id}`, {accessToken: token});\n  }\n\n  getRetros() {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros`, {\n      method: 'GET',\n      headers: {\n        'X-AUTH-TOKEN': this.tokenGetter(),\n      },\n    });\n  }\n\n  getRetroSettings(id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${id}/settings`, {accessToken: token});\n  }\n\n  getRetroLogin(id) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${id}/sessions/new`);\n  }\n\n  loginToRetro({retro_id, password}) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/sessions`, {\n      method: 'POST',\n      body: JSON.stringify({retro: {password}}),\n    });\n  }\n\n  joinRetro({retro_id, join_token}) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/sessions`, {\n      method: 'POST',\n      body: JSON.stringify({retro: {join_token}}),\n    });\n  }\n\n  createRetroItem(retro_id, category, description, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/items`, {\n      method: 'POST',\n      accessToken: token,\n      body: JSON.stringify({description, category}),\n    });\n  }\n\n  updateRetroItem(retro_id, item_id, description, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/items/${item_id}`, {\n      method: 'PATCH',\n      accessToken: token,\n      body: JSON.stringify({description}),\n    });\n  }\n\n  deleteRetroItem(retro_id, item_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/items/${item_id}`, {\n      method: 'DELETE',\n      accessToken: token,\n    });\n  }\n\n  voteRetroItem(retro_id, item_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/items/${item_id}/vote`, {\n      method: 'POST',\n      accessToken: token,\n    });\n  }\n\n  nextRetroItem(retro_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/discussion/transitions`, {\n      method: 'POST',\n      accessToken: token,\n      body: JSON.stringify({transition: 'NEXT'}),\n    });\n  }\n\n  highlightRetroItem(retro_id, item_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/discussion`, {\n      method: 'POST',\n      accessToken: token,\n      body: JSON.stringify({item_id}),\n    });\n  }\n\n  unhighlightRetroItem(retro_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/discussion`, {\n      method: 'DELETE',\n      accessToken: token,\n    });\n  }\n\n  doneRetroItem(retro_id, item_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/items/${item_id}/done`, {\n      method: 'PATCH',\n      accessToken: token,\n    });\n  }\n\n  undoneRetroItem(retro_id, item_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/items/${item_id}/done`, {\n      method: 'PATCH',\n      accessToken: token,\n      body: JSON.stringify({done: false}),\n    });\n  }\n\n  extendTimer(retro_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/discussion`, {\n      method: 'PATCH',\n      accessToken: token,\n    });\n  }\n\n  archiveRetro(retro_id, token, send_archive_email) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/archive`, {\n      method: 'PUT',\n      accessToken: token,\n      body: JSON.stringify({send_archive_email}),\n    });\n  }\n\n  createRetroActionItem(retro_id, description, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/action_items`, {\n      method: 'POST',\n      accessToken: token,\n      body: JSON.stringify({description}),\n    });\n  }\n\n  deleteRetroActionItem(retro_id, action_item_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/action_items/${action_item_id}`, {\n      method: 'DELETE',\n      accessToken: token,\n    });\n  }\n\n  doneRetroActionItem(retro_id, action_item_id, done, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/action_items/${action_item_id}`, {\n      method: 'PATCH',\n      accessToken: token,\n      body: JSON.stringify({done}),\n    });\n  }\n\n  editRetroActionItem(retro_id, action_item_id, description, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/action_items/${action_item_id}`, {\n      method: 'PATCH',\n      accessToken: token,\n      body: JSON.stringify({description}),\n    });\n  }\n\n  getRetroArchive(retro_id, archive_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/archives/${archive_id}`, {accessToken: token});\n  }\n\n  getRetroArchives(retro_id, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/archives`, {accessToken: token});\n  }\n\n  createUser(token, company_name, full_name) {\n    return this.fetchJson(`${this.apiBaseUrl()}/users`, {\n      method: 'POST',\n      body: JSON.stringify({access_token: token, company_name, full_name}),\n    });\n  }\n\n  createSession(token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/sessions`, {\n      method: 'POST',\n      body: JSON.stringify({access_token: token}),\n    });\n  }\n\n  updateRetroPassword(retro_id, current_password, new_password, request_uuid, token) {\n    return this.fetchJson(`${this.apiBaseUrl()}/retros/${retro_id}/password`, {\n      method: 'PATCH',\n      accessToken: token,\n      body: JSON.stringify({\n        current_password,\n        new_password,\n        request_uuid,\n      }),\n    });\n  }\n\n  retrieveConfig() {\n    return this.fetchJson(`${this.apiBaseUrl()}/config`);\n  }\n\n  fetchJson(url, {accessToken, headers, ...options} = {}) {\n    const acceptHeaders = {'accept': 'application/json', 'Content-Type': 'application/json'};\n    const authorizationHeaders = accessToken ? {authorization: `Bearer ${accessToken}`} : {};\n    const augmentedOptions = {\n      credentials: 'same-origin',\n      headers: {...acceptHeaders, ...authorizationHeaders, ...headers},\n      ...options,\n    };\n\n    return fetch(url, augmentedOptions)\n      .then((response) => {\n        if (response.status === 204) {\n          return [response.status, ''];\n        }\n        return Promise.all([response.status, response.json()]);\n      })\n      .catch(() => {\n        this.apiServerNotFound();\n        return [];\n      });\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nimport Mixpanel from 'mixpanel-browser';\n\nconst POSTFACTO_TEAM_ANALYTICS_TOKEN = 'd4de349453cc697734eced9ebedcdb22';\n\nexport default class AnalyticsClient {\n  static initialized = false;\n\n  enableAnalyticsFn;\n\n  constructor(enableAnalyticsFn) {\n    this.enableAnalyticsFn = enableAnalyticsFn;\n  }\n\n  track(event, options = {}) {\n    if (this.enableAnalyticsFn()) {\n      if (!AnalyticsClient.initialized) {\n        Mixpanel.init(POSTFACTO_TEAM_ANALYTICS_TOKEN);\n        AnalyticsClient.initialized = true;\n      }\n\n      Mixpanel.track(event, Object.assign({\n        timestamp: (new Date()).toJSON(),\n      }, options));\n    }\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport const MAX_SLUG_LENGTH = 236;\nexport const VALID_SLUG_REGEX = /^[A-Za-z0-9-]+$/;\nexport const DEFAULT_TOGGLE_STYLE = {\n  trackStyle: {\n    'backgroundColor': '#C7C7C7',\n    'borderRadius': '3px',\n    'height': '2.125rem',\n    'width': '5rem',\n  },\n  trackSwitchedStyle: {\n    'backgroundColor': '#FEC722',\n    'borderRadius': '3px',\n  },\n  labelStyle: {\n    'marginLeft': '1.2rem',\n    'paddingTop': '0.5rem',\n    'fontWeight': 'bold',\n  },\n  thumbStyle: {\n    'backgroundColor': 'white',\n    'borderRadius': '3px',\n    'marginTop': '0.6rem',\n    'marginLeft': '0.6rem',\n  },\n  thumbSwitchedStyle: {\n    'backgroundColor': 'white',\n  },\n  iconStyle: {\n    'width': '4.5rem',\n  },\n};\n","export default __webpack_public_path__ + \"static/media/icon-locked.fe7374c7.svg\";","export default __webpack_public_path__ + \"static/media/icon-eye.64dd90fc.svg\";","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport Toggle from 'material-ui/Toggle';\nimport types from 'prop-types';\nimport {connect} from 'react-redux';\nimport {DEFAULT_TOGGLE_STYLE, MAX_SLUG_LENGTH, VALID_SLUG_REGEX} from '../shared/constants';\nimport iconLockedSvg from '../../images/icon-locked.svg';\nimport iconEyeSvg from '../../images/icon-eye.svg';\nimport {retroCreate} from '../../redux/actions/api_actions';\nimport {home} from '../../redux/actions/router_actions';\nimport {clearErrors} from '../../redux/actions/main_actions';\n\nclass RetroCreatePage extends React.Component {\n  static propTypes = {\n    errors: types.shape({\n      slug: types.string,\n    }),\n    redirectToHome: types.func.isRequired,\n    clearErrors: types.func.isRequired,\n    retroCreate: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    errors: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      slug: '',\n      password: '',\n      isPrivate: true,\n      isMagicLinkEnabled: false,\n      errors: {\n        name: '',\n        slug: '',\n        password: '',\n      },\n    };\n\n    this.togglePrivate = this.togglePrivate.bind(this);\n    this.submit = this.submit.bind(this);\n    this.onChangeName = this.onChange.bind(this, 'name');\n    this.onChangeSlug = this.onChange.bind(this, 'slug');\n    this.onChangePassword = this.onChange.bind(this, 'password');\n  }\n\n  UNSAFE_componentWillMount() {\n    if (!localStorage.getItem('authToken')) {\n      this.props.redirectToHome();\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: {\n          slug: nextProps.errors.slug,\n        },\n      });\n    } else {\n      this.setState({errors: {}});\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.clearErrors();\n  }\n\n  submit() {\n    const errors = {};\n    errors.name = this.validateName(this.state.name);\n    errors.slug = this.validateSlug(this.state.slug);\n    errors.password = this.validatePassword(this.state.password);\n\n    this.setState({errors});\n\n    if (!errors.name && !errors.slug && !errors.password) {\n      this.props.retroCreate({\n        name: this.state.name,\n        slug: this.state.slug,\n        password: this.state.password,\n        isPrivate: this.state.isPrivate,\n        isMagicLinkEnabled: this.state.isMagicLinkEnabled,\n      });\n    }\n  }\n\n  getCurrentHost() {\n    return window.location.origin.split('://')[1];\n  }\n\n  validateName = (value) => {\n    if (!value) {\n      return 'Your project needs a team name!';\n    }\n    return '';\n  };\n\n  validateSlug = (value) => {\n    if (!value) {\n      return 'Your project needs a URL!';\n    }\n\n    if (value.length > MAX_SLUG_LENGTH) {\n      return 'Your URL is too long!';\n    }\n\n    if (!value.match(VALID_SLUG_REGEX)) {\n      return 'Your URL should only contain letters, numbers or hyphens!';\n    }\n\n    return '';\n  };\n\n  validatePassword = (value) => {\n    if (!value) {\n      return 'Your project needs a password!';\n    }\n    return '';\n  };\n\n  onChange(field, e) {\n    const value = e.target.value;\n\n    const errors = {};\n\n    if (field === 'name') {\n      errors.name = this.validateName(value);\n    }\n\n    if (field === 'slug') {\n      errors.slug = this.validateSlug(value);\n    }\n\n    if (field === 'password') {\n      errors.password = this.validatePassword(value);\n    }\n\n    this.setState((oldState) => ({\n      [field]: value,\n      errors: Object.assign({}, oldState.errors, errors),\n    }));\n  }\n\n  togglePrivate = () => {\n    this.setState((oldState) => ({\n      isPrivate: !oldState.isPrivate,\n    }));\n  };\n\n  toggleMagicLinkEnabled = () => {\n    this.setState((oldState) => ({\n      isMagicLinkEnabled: !oldState.isMagicLinkEnabled,\n    }));\n  };\n\n  renderAccessInstruction() {\n    const accessPrivate = (\n      <div>\n        <img className=\"icon-locked\" src={iconLockedSvg} alt=\"Locked\"/>\n        {' '}The password is needed to view or participate.\n      </div>\n    );\n    const accessPublic = (\n      <div>\n        <img className=\"icon-locked\" src={iconEyeSvg} alt=\"Unlocked\"/>\n        {' '}Anyone can view or participate <strong>without</strong> entering password.\n      </div>\n    );\n\n    return (\n      <div className=\"access-instruction\">\n        {this.state.isPrivate ? accessPrivate : accessPublic}\n\n        <br/>\n        Password is always required to: <br/>\n        <img className=\"icon-locked\" src={iconLockedSvg} alt=\"Locked\"/> Access archives<br/>\n        <img className=\"icon-locked\" src={iconLockedSvg} alt=\"Locked\"/> Edit settings\n\n      </div>\n    );\n  }\n\n  render() {\n    const {name, slug, password, isPrivate, isMagicLinkEnabled, errors} = this.state;\n    const toggle = DEFAULT_TOGGLE_STYLE;\n\n    return (\n      <div className=\"new-retro-page\">\n        <div>\n          <div className=\"medium-6 small-12 columns new-retro-msg new-retro-column\">\n            <div className=\"medium-centered small-centered\">Time to make your team retro!</div>\n          </div>\n          <div className=\"medium-6 small-12 columns new-retro-column\">\n\n            <div className=\"medium-centered small-centered\" style={{width: '30rem'}}>\n              <div className=\"row\">\n                <label className=\"label\">What's your team called?</label>\n                <input\n                  id=\"retro_name\"\n                  value={name}\n                  type=\"text\"\n                  name=\"name\"\n                  className={`form-input ${errors.name ? 'input-error' : ''}`}\n                  onChange={this.onChangeName}\n                  placeholder=\"Team name\"\n                />\n                <div className=\"error-message\">{errors.name}</div>\n              </div>\n              <div className=\"row\">\n                <label className=\"label\">Choose a team URL</label>\n                <div className=\"input-group retro-url\">\n                  <span className=\"input-group-label retro-url-prefix\">{this.getCurrentHost()}/retros/</span>\n                  <input\n                    id=\"retro_url\"\n                    value={slug}\n                    type=\"text\"\n                    name=\"slug\"\n                    className={`input-group-field form-input ${errors.slug ? 'input-error' : ''}`}\n                    onChange={this.onChangeSlug}\n                    placeholder=\"team-name\"\n                  />\n                </div>\n                <div className=\"error-message\">{errors.slug}</div>\n              </div>\n              <div className=\"row\">\n                <label className=\"label\">Create a team password</label>\n                <input\n                  id=\"retro_password\"\n                  value={password}\n                  type=\"password\"\n                  name=\"password\"\n                  className={`form-input ${errors.password ? 'input-error' : ''}`}\n                  onChange={this.onChangePassword}\n                  placeholder=\"Create password\"\n                />\n                <div className=\"error-message\">{errors.password}</div>\n              </div>\n              <div className=\"row\">\n                <label className=\"label\" htmlFor=\"retro_is_private\">Do people need the password to <strong>access</strong> this retro?</label>\n\n                <Toggle\n                  id=\"retro_is_private\"\n                  name=\"isPrivate\"\n                  label={isPrivate ? 'Yes' : 'No'}\n                  labelPosition=\"right\"\n                  toggled={isPrivate}\n                  onToggle={this.togglePrivate}\n                  trackStyle={toggle.trackStyle}\n                  trackSwitchedStyle={toggle.trackSwitchedStyle}\n                  labelStyle={toggle.labelStyle}\n                  thumbStyle={toggle.thumbStyle}\n                  thumbSwitchedStyle={toggle.thumbSwitchedStyle}\n                  iconStyle={toggle.iconStyle}\n                />\n                {this.renderAccessInstruction()}\n              </div>\n\n              <div className=\"row\">\n                <label className=\"label\" htmlFor=\"retro_is_magic_link_enabled\">Can participants share this retro using a magic link?</label>\n\n                <Toggle\n                  id=\"retro_is_magic_link_enabled\"\n                  name=\"isMagicLinkEnabled\"\n                  label={isMagicLinkEnabled ? 'Yes' : 'No'}\n                  labelPosition=\"right\"\n                  toggled={isMagicLinkEnabled}\n                  onToggle={this.toggleMagicLinkEnabled}\n                  trackStyle={toggle.trackStyle}\n                  trackSwitchedStyle={toggle.trackSwitchedStyle}\n                  labelStyle={toggle.labelStyle}\n                  thumbStyle={toggle.thumbStyle}\n                  thumbSwitchedStyle={toggle.thumbSwitchedStyle}\n                  iconStyle={toggle.iconStyle}\n                />\n\n                <div className=\"access-instruction\">\n                  This will provide a magic link that allows users to access this retro\n                  without being prompted for a password. This is not the same as making a retro public.\n                </div>\n\n              </div>\n\n              <div className=\"row\">\n                <div className=\"medium-6 small-12 columns\" style={{paddingLeft: '0', paddingRight: '0'}}>\n                  <input\n                    type=\"submit\"\n                    className=\"retro-form-submit expanded button\"\n                    id=\"create_new_retro\"\n                    value=\"Create Retro\"\n                    onClick={this.submit}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  errors: state.messages.errors,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  redirectToHome: () => dispatch(home()),\n  clearErrors: () => dispatch(clearErrors()),\n  retroCreate: (newRetro) => dispatch(retroCreate(newRetro)),\n});\n\nconst ConnectedRetroCreatePage = connect(mapStateToProps, mapDispatchToProps)(RetroCreatePage);\nexport {RetroCreatePage, ConnectedRetroCreatePage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\n\nexport default function Footer({config}) {\n  return (\n    <div className=\"footer\">\n      <div className=\"links\">\n        <a href={config.contact}>Contact Us</a>\n        <a target=\"_blank\" href={config.terms} rel=\"noopener noreferrer\">Terms & Conditions</a>\n        <a target=\"_blank\" href={config.privacy} rel=\"noopener noreferrer\">Privacy Policy</a>\n      </div>\n    </div>\n  );\n}\n\nFooter.propTypes = {\n  config: types.shape({\n    contact: types.string.isRequired,\n    terms: types.string.isRequired,\n    privacy: types.string.isRequired,\n  }).isRequired,\n};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function RetroTile({callback, retro}) {\n  return <div className=\"retro-list-tile\" onClick={callback}>{retro.name}</div>;\n}\n\nRetroTile.propTypes = {\n  retro: PropTypes.object.isRequired,\n  callback: PropTypes.func,\n};\n\nRetroTile.defaultProps = {\n  callback: null,\n};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {RaisedButton} from 'material-ui';\nimport types from 'prop-types';\nimport {connect} from 'react-redux';\nimport RetroFooter from '../shared/footer';\nimport RetroTile from './retro_tile';\nimport {newRetro, showRetro} from '../../redux/actions/router_actions';\nimport {signOut, getRetros} from '../../redux/actions/main_actions';\n\nclass ListRetrosPage extends React.Component {\n  static propTypes = {\n    retros: types.array.isRequired,\n    config: types.object.isRequired,\n    navigateTo: types.func.isRequired,\n    getRetros: types.func.isRequired,\n    signOut: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.handleNewRetroButtonClicked = this.handleNewRetroButtonClicked.bind(this);\n    this.handleSignOutButtonClicked = this.handleSignOutButtonClicked.bind(this);\n  }\n\n  UNSAFE_componentWillMount() {\n    this.props.getRetros();\n  }\n\n  handleRetroListItemClicked(retro) {\n    this.props.navigateTo(showRetro(retro));\n  }\n\n  handleNewRetroButtonClicked() {\n    this.props.navigateTo(newRetro());\n  }\n\n  handleSignOutButtonClicked() {\n    this.props.signOut();\n  }\n\n  render() {\n    const {config, retros} = this.props;\n\n    const retroListItems = retros.map((retro) => (\n      <RetroTile key={retro.slug} callback={() => this.handleRetroListItemClicked(retro)} retro={retro}/>\n    ));\n\n    return (\n      <div className=\"list-retros-page full-height\">\n        <div className=\"retro-heading\">\n          <span className=\"retro-heading-content\">\n            <div className=\"retro-name\">\n              <h1>My Retros</h1>\n            </div>\n            <div className=\"retro-heading-buttons\">\n              <RaisedButton\n                className=\"new-retro\"\n                backgroundColor=\"#2574a9\"\n                labelColor=\"#f8f8f8\"\n                label=\"NEW RETRO\"\n                onClick={this.handleNewRetroButtonClicked}\n              />\n\n              <RaisedButton\n                className=\"sign-out\"\n                backgroundColor=\"#2574a9\"\n                labelColor=\"#f8f8f8\"\n                label=\"SIGN OUT\"\n                onClick={this.handleSignOutButtonClicked}\n              />\n            </div>\n          </span>\n        </div>\n\n        <div className=\"retro-tiles-container\">\n          <div className=\"retro-tiles\">\n            {retroListItems}\n          </div>\n        </div>\n\n        <RetroFooter config={config}/>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => ({\n  retros: state.retro.retros,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  navigateTo: (location) => dispatch(location),\n  signOut: () => dispatch(signOut()),\n  getRetros: () => dispatch(getRetros()),\n});\n\nconst ConnectedListRetrosPage = connect(mapStateToProps, mapDispatchToProps)(ListRetrosPage);\nexport {ListRetrosPage, ConnectedListRetrosPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport * as PropTypes from 'prop-types';\n\nexport default class EmojiSelector extends React.Component {\n  static propTypes = {\n    onSelect: PropTypes.func.isRequired,\n  };\n\n  static ranges = [\n    {\n      name: 'Smileys & Emotion',\n      values: [\n        0x1f600,\n        0x1f603,\n        0x1f604,\n        0x1f601,\n        0x1f606,\n        0x1f605,\n        0x1f923,\n        0x1f602,\n        0x1f642,\n        0x1f643,\n        0x1f609,\n        0x1f60a,\n        0x1f607,\n        0x1f970,\n        0x1f60d,\n        0x1f929,\n        0x1f618,\n        0x1f617,\n        0x1f61a,\n        0x1f619,\n        0x1f60b,\n        0x1f61b,\n        0x1f61c,\n        0x1f92a,\n        0x1f61d,\n        0x1f911,\n        0x1f917,\n        0x1f92d,\n        0x1f92b,\n        0x1f914,\n        0x1f910,\n        0x1f928,\n        0x1f610,\n        0x1f611,\n        0x1f636,\n        0x1f60f,\n        0x1f612,\n        0x1f644,\n        0x1f62c,\n        0x1f925,\n        0x1f60c,\n        0x1f614,\n        0x1f62a,\n        0x1f924,\n        0x1f634,\n        0x1f637,\n        0x1f912,\n        0x1f915,\n        0x1f922,\n        0x1f92e,\n        0x1f927,\n        0x1f975,\n        0x1f976,\n        0x1f974,\n        0x1f635,\n        0x1f92f,\n        0x1f920,\n        0x1f973,\n        0x1f60e,\n        0x1f913,\n        0x1f9d0,\n        0x1f615,\n        0x1f61f,\n        0x1f641,\n        0x2639,\n        0x1f62e,\n        0x1f62f,\n        0x1f632,\n        0x1f633,\n        0x1f97a,\n        0x1f626,\n        0x1f627,\n        0x1f628,\n        0x1f630,\n        0x1f625,\n        0x1f622,\n        0x1f62d,\n        0x1f631,\n        0x1f616,\n        0x1f623,\n        0x1f61e,\n        0x1f613,\n        0x1f629,\n        0x1f62b,\n        0x1f624,\n        0x1f621,\n        0x1f620,\n        0x1f92c,\n        0x1f608,\n        0x1f47f,\n        0x1f480,\n        0x2620,\n        0x1f4a9,\n        0x1f921,\n        0x1f479,\n        0x1f47a,\n        0x1f47b,\n        0x1f47d,\n        0x1f47e,\n        0x1f916,\n        0x1f63a,\n        0x1f638,\n        0x1f639,\n        0x1f63b,\n        0x1f63c,\n        0x1f63d,\n        0x1f640,\n        0x1f63f,\n        0x1f63e,\n        0x1f648,\n        0x1f649,\n        0x1f64a,\n        0x1f48b,\n        0x1f48c,\n        0x1f498,\n        0x1f49d,\n        0x1f496,\n        0x1f497,\n        0x1f493,\n        0x1f49e,\n        0x1f495,\n        0x1f49f,\n        0x2763,\n        0x1f494,\n        0x2764,\n        0x1f9e1,\n        0x1f49b,\n        0x1f49a,\n        0x1f499,\n        0x1f49c,\n        0x1f5a4,\n        0x1f4af,\n        0x1f4a2,\n        0x1f4a5,\n        0x1f4ab,\n        0x1f4a6,\n        0x1f4a8,\n        0x1f573,\n        0x1f4a3,\n        0x1f4ac,\n        [0x1f441, 0xfe0f, 0x200d, 0x1f5e8, 0xfe0f],\n        0x1f5e8,\n        0x1f5ef,\n        0x1f4ad,\n        0x1f4a4,\n      ],\n    },\n    {\n      name: 'People & Body',\n      values: [\n        0x1f44b,\n        0x1f91a,\n        0x1f590,\n        0x270b,\n        0x1f596,\n        0x1f44c,\n        0x270c,\n        0x1f91e,\n        0x1f91f,\n        0x1f918,\n        0x1f919,\n        0x1f448,\n        0x1f449,\n        0x1f446,\n        0x1f595,\n        0x1f447,\n        0x261d,\n        0x1f44d,\n        0x1f44e,\n        0x270a,\n        0x1f44a,\n        0x1f91b,\n        0x1f91c,\n        0x1f44f,\n        0x1f64c,\n        0x1f450,\n        0x1f932,\n        0x1f91d,\n        0x1f64f,\n        0x270d,\n        0x1f485,\n        0x1f933,\n        0x1f4aa,\n        0x1f9b5,\n        0x1f9b6,\n        0x1f442,\n        0x1f443,\n        0x1f9e0,\n        0x1f9b7,\n        0x1f9b4,\n        0x1f440,\n        0x1f441,\n        0x1f445,\n        0x1f444,\n        0x1f476,\n        0x1f9d2,\n        0x1f466,\n        0x1f467,\n        0x1f9d1,\n        0x1f471,\n        0x1f468,\n        0x1f9d4,\n        [0x1f471, 0x200d, 0x2642, 0xfe0f],\n        [0x1f468, 0x200d, 0x1f9b0],\n        [0x1f468, 0x200d, 0x1f9b1],\n        [0x1f468, 0x200d, 0x1f9b3],\n        [0x1f468, 0x200d, 0x1f9b2],\n        0x1f469,\n        [0x1f471, 0x200d, 0x2640, 0xfe0f],\n        [0x1f469, 0x200d, 0x1f9b0],\n        [0x1f469, 0x200d, 0x1f9b1],\n        [0x1f469, 0x200d, 0x1f9b3],\n        [0x1f469, 0x200d, 0x1f9b2],\n        0x1f9d3,\n        0x1f474,\n        0x1f475,\n        0x1f64d,\n        [0x1f64d, 0x200d, 0x2642, 0xfe0f],\n        [0x1f64d, 0x200d, 0x2640, 0xfe0f],\n        0x1f64e,\n        [0x1f64e, 0x200d, 0x2642, 0xfe0f],\n        [0x1f64e, 0x200d, 0x2640, 0xfe0f],\n        0x1f645,\n        [0x1f645, 0x200d, 0x2642, 0xfe0f],\n        [0x1f645, 0x200d, 0x2640, 0xfe0f],\n        0x1f646,\n        [0x1f646, 0x200d, 0x2642, 0xfe0f],\n        [0x1f646, 0x200d, 0x2640, 0xfe0f],\n        0x1f481,\n        [0x1f481, 0x200d, 0x2642, 0xfe0f],\n        [0x1f481, 0x200d, 0x2640, 0xfe0f],\n        0x1f64b,\n        [0x1f64b, 0x200d, 0x2642, 0xfe0f],\n        [0x1f64b, 0x200d, 0x2640, 0xfe0f],\n        0x1f647,\n        [0x1f647, 0x200d, 0x2642, 0xfe0f],\n        [0x1f647, 0x200d, 0x2640, 0xfe0f],\n        0x1f926,\n        [0x1f926, 0x200d, 0x2642, 0xfe0f],\n        [0x1f926, 0x200d, 0x2640, 0xfe0f],\n        0x1f937,\n        [0x1f937, 0x200d, 0x2642, 0xfe0f],\n        [0x1f937, 0x200d, 0x2640, 0xfe0f],\n        [0x1f468, 0x200d, 0x2695, 0xfe0f],\n        [0x1f469, 0x200d, 0x2695, 0xfe0f],\n        [0x1f468, 0x200d, 0x1f393],\n        [0x1f469, 0x200d, 0x1f393],\n        [0x1f468, 0x200d, 0x1f3eb],\n        [0x1f469, 0x200d, 0x1f3eb],\n        [0x1f468, 0x200d, 0x2696, 0xfe0f],\n        [0x1f469, 0x200d, 0x2696, 0xfe0f],\n        [0x1f468, 0x200d, 0x1f33e],\n        [0x1f469, 0x200d, 0x1f33e],\n        [0x1f468, 0x200d, 0x1f373],\n        [0x1f469, 0x200d, 0x1f373],\n        [0x1f468, 0x200d, 0x1f527],\n        [0x1f469, 0x200d, 0x1f527],\n        [0x1f468, 0x200d, 0x1f3ed],\n        [0x1f469, 0x200d, 0x1f3ed],\n        [0x1f468, 0x200d, 0x1f4bc],\n        [0x1f469, 0x200d, 0x1f4bc],\n        [0x1f468, 0x200d, 0x1f52c],\n        [0x1f469, 0x200d, 0x1f52c],\n        [0x1f468, 0x200d, 0x1f4bb],\n        [0x1f469, 0x200d, 0x1f4bb],\n        [0x1f468, 0x200d, 0x1f3a4],\n        [0x1f469, 0x200d, 0x1f3a4],\n        [0x1f468, 0x200d, 0x1f3a8],\n        [0x1f469, 0x200d, 0x1f3a8],\n        [0x1f468, 0x200d, 0x2708, 0xfe0f],\n        [0x1f469, 0x200d, 0x2708, 0xfe0f],\n        [0x1f468, 0x200d, 0x1f680],\n        [0x1f469, 0x200d, 0x1f680],\n        [0x1f468, 0x200d, 0x1f692],\n        [0x1f469, 0x200d, 0x1f692],\n        0x1f46e,\n        [0x1f46e, 0x200d, 0x2642, 0xfe0f],\n        [0x1f46e, 0x200d, 0x2640, 0xfe0f],\n        0x1f575,\n        [0x1f575, 0xfe0f, 0x200d, 0x2642, 0xfe0f],\n        [0x1f575, 0xfe0f, 0x200d, 0x2640, 0xfe0f],\n        0x1f482,\n        [0x1f482, 0x200d, 0x2642, 0xfe0f],\n        [0x1f482, 0x200d, 0x2640, 0xfe0f],\n        0x1f477,\n        [0x1f477, 0x200d, 0x2642, 0xfe0f],\n        [0x1f477, 0x200d, 0x2640, 0xfe0f],\n        0x1f934,\n        0x1f478,\n        0x1f473,\n        [0x1f473, 0x200d, 0x2642, 0xfe0f],\n        [0x1f473, 0x200d, 0x2640, 0xfe0f],\n        0x1f472,\n        0x1f9d5,\n        0x1f935,\n        0x1f470,\n        0x1f930,\n        0x1f931,\n        0x1f47c,\n        0x1f385,\n        0x1f936,\n        0x1f9b8,\n        [0x1f9b8, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9b8, 0x200d, 0x2640, 0xfe0f],\n        0x1f9b9,\n        [0x1f9b9, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9b9, 0x200d, 0x2640, 0xfe0f],\n        0x1f9d9,\n        [0x1f9d9, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9d9, 0x200d, 0x2640, 0xfe0f],\n        0x1f9da,\n        [0x1f9da, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9da, 0x200d, 0x2640, 0xfe0f],\n        0x1f9db,\n        [0x1f9db, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9db, 0x200d, 0x2640, 0xfe0f],\n        0x1f9dc,\n        [0x1f9dc, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9dc, 0x200d, 0x2640, 0xfe0f],\n        0x1f9dd,\n        [0x1f9dd, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9dd, 0x200d, 0x2640, 0xfe0f],\n        0x1f9de,\n        [0x1f9de, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9de, 0x200d, 0x2640, 0xfe0f],\n        0x1f9df,\n        [0x1f9df, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9df, 0x200d, 0x2640, 0xfe0f],\n        0x1f486,\n        [0x1f486, 0x200d, 0x2642, 0xfe0f],\n        [0x1f486, 0x200d, 0x2640, 0xfe0f],\n        0x1f487,\n        [0x1f487, 0x200d, 0x2642, 0xfe0f],\n        [0x1f487, 0x200d, 0x2640, 0xfe0f],\n        0x1f6b6,\n        [0x1f6b6, 0x200d, 0x2642, 0xfe0f],\n        [0x1f6b6, 0x200d, 0x2640, 0xfe0f],\n        0x1f3c3,\n        [0x1f3c3, 0x200d, 0x2642, 0xfe0f],\n        [0x1f3c3, 0x200d, 0x2640, 0xfe0f],\n        0x1f483,\n        0x1f57a,\n        0x1f574,\n        0x1f46f,\n        [0x1f46f, 0x200d, 0x2642, 0xfe0f],\n        [0x1f46f, 0x200d, 0x2640, 0xfe0f],\n        0x1f9d6,\n        [0x1f9d6, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9d6, 0x200d, 0x2640, 0xfe0f],\n        0x1f9d7,\n        [0x1f9d7, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9d7, 0x200d, 0x2640, 0xfe0f],\n        0x1f93a,\n        0x1f3c7,\n        0x26f7,\n        0x1f3c2,\n        0x1f3cc,\n        [0x1f3cc, 0xfe0f, 0x200d, 0x2642, 0xfe0f],\n        [0x1f3cc, 0xfe0f, 0x200d, 0x2640, 0xfe0f],\n        0x1f3c4,\n        [0x1f3c4, 0x200d, 0x2642, 0xfe0f],\n        [0x1f3c4, 0x200d, 0x2640, 0xfe0f],\n        0x1f6a3,\n        [0x1f6a3, 0x200d, 0x2642, 0xfe0f],\n        [0x1f6a3, 0x200d, 0x2640, 0xfe0f],\n        0x1f3ca,\n        [0x1f3ca, 0x200d, 0x2642, 0xfe0f],\n        [0x1f3ca, 0x200d, 0x2640, 0xfe0f],\n        0x26f9,\n        [0x26f9, 0xfe0f, 0x200d, 0x2642, 0xfe0f],\n        [0x26f9, 0xfe0f, 0x200d, 0x2640, 0xfe0f],\n        0x1f3cb,\n        [0x1f3cb, 0xfe0f, 0x200d, 0x2642, 0xfe0f],\n        [0x1f3cb, 0xfe0f, 0x200d, 0x2640, 0xfe0f],\n        0x1f6b4,\n        [0x1f6b4, 0x200d, 0x2642, 0xfe0f],\n        [0x1f6b4, 0x200d, 0x2640, 0xfe0f],\n        0x1f6b5,\n        [0x1f6b5, 0x200d, 0x2642, 0xfe0f],\n        [0x1f6b5, 0x200d, 0x2640, 0xfe0f],\n        0x1f938,\n        [0x1f938, 0x200d, 0x2642, 0xfe0f],\n        [0x1f938, 0x200d, 0x2640, 0xfe0f],\n        0x1f93c,\n        [0x1f93c, 0x200d, 0x2642, 0xfe0f],\n        [0x1f93c, 0x200d, 0x2640, 0xfe0f],\n        0x1f93d,\n        [0x1f93d, 0x200d, 0x2642, 0xfe0f],\n        [0x1f93d, 0x200d, 0x2640, 0xfe0f],\n        0x1f93e,\n        [0x1f93e, 0x200d, 0x2642, 0xfe0f],\n        [0x1f93e, 0x200d, 0x2640, 0xfe0f],\n        0x1f939,\n        [0x1f939, 0x200d, 0x2642, 0xfe0f],\n        [0x1f939, 0x200d, 0x2640, 0xfe0f],\n        0x1f9d8,\n        [0x1f9d8, 0x200d, 0x2642, 0xfe0f],\n        [0x1f9d8, 0x200d, 0x2640, 0xfe0f],\n        0x1f6c0,\n        0x1f6cc,\n        [0x1f9d1, 0x200d, 0x1f91d, 0x200d, 0x1f9d1],\n        0x1f46d,\n        0x1f46b,\n        0x1f46c,\n        0x1f48f,\n        [0x1f469, 0x200d, 0x2764, 0xfe0f, 0x200d, 0x1f48b, 0x200d, 0x1f468],\n        [0x1f468, 0x200d, 0x2764, 0xfe0f, 0x200d, 0x1f48b, 0x200d, 0x1f468],\n        [0x1f469, 0x200d, 0x2764, 0xfe0f, 0x200d, 0x1f48b, 0x200d, 0x1f469],\n        0x1f491,\n        [0x1f469, 0x200d, 0x2764, 0xfe0f, 0x200d, 0x1f468],\n        [0x1f468, 0x200d, 0x2764, 0xfe0f, 0x200d, 0x1f468],\n        [0x1f469, 0x200d, 0x2764, 0xfe0f, 0x200d, 0x1f469],\n        0x1f46a,\n        [0x1f468, 0x200d, 0x1f469, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f469, 0x200d, 0x1f467],\n        [0x1f468, 0x200d, 0x1f469, 0x200d, 0x1f467, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f469, 0x200d, 0x1f466, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f469, 0x200d, 0x1f467, 0x200d, 0x1f467],\n        [0x1f468, 0x200d, 0x1f468, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f468, 0x200d, 0x1f467],\n        [0x1f468, 0x200d, 0x1f468, 0x200d, 0x1f467, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f468, 0x200d, 0x1f466, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f468, 0x200d, 0x1f467, 0x200d, 0x1f467],\n        [0x1f469, 0x200d, 0x1f469, 0x200d, 0x1f466],\n        [0x1f469, 0x200d, 0x1f469, 0x200d, 0x1f467],\n        [0x1f469, 0x200d, 0x1f469, 0x200d, 0x1f467, 0x200d, 0x1f466],\n        [0x1f469, 0x200d, 0x1f469, 0x200d, 0x1f466, 0x200d, 0x1f466],\n        [0x1f469, 0x200d, 0x1f469, 0x200d, 0x1f467, 0x200d, 0x1f467],\n        [0x1f468, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f466, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f467],\n        [0x1f468, 0x200d, 0x1f467, 0x200d, 0x1f466],\n        [0x1f468, 0x200d, 0x1f467, 0x200d, 0x1f467],\n        [0x1f469, 0x200d, 0x1f466],\n        [0x1f469, 0x200d, 0x1f466, 0x200d, 0x1f466],\n        [0x1f469, 0x200d, 0x1f467],\n        [0x1f469, 0x200d, 0x1f467, 0x200d, 0x1f466],\n        [0x1f469, 0x200d, 0x1f467, 0x200d, 0x1f467],\n        0x1f5e3,\n        0x1f464,\n        0x1f465,\n        0x1f463,\n      ],\n    },\n    {\n      name: 'Animals & Nature',\n      values: [\n        0x1f435,\n        0x1f412,\n        0x1f98d,\n        0x1f436,\n        0x1f415,\n        0x1f429,\n        0x1f43a,\n        0x1f98a,\n        0x1f99d,\n        0x1f431,\n        0x1f408,\n        0x1f981,\n        0x1f42f,\n        0x1f405,\n        0x1f406,\n        0x1f434,\n        0x1f40e,\n        0x1f984,\n        0x1f993,\n        0x1f98c,\n        0x1f42e,\n        0x1f402,\n        0x1f403,\n        0x1f404,\n        0x1f437,\n        0x1f416,\n        0x1f417,\n        0x1f43d,\n        0x1f40f,\n        0x1f411,\n        0x1f410,\n        0x1f42a,\n        0x1f42b,\n        0x1f999,\n        0x1f992,\n        0x1f418,\n        0x1f98f,\n        0x1f99b,\n        0x1f42d,\n        0x1f401,\n        0x1f400,\n        0x1f439,\n        0x1f430,\n        0x1f407,\n        0x1f43f,\n        0x1f994,\n        0x1f987,\n        0x1f43b,\n        0x1f428,\n        0x1f43c,\n        0x1f998,\n        0x1f9a1,\n        0x1f43e,\n        0x1f983,\n        0x1f414,\n        0x1f413,\n        0x1f423,\n        0x1f424,\n        0x1f425,\n        0x1f426,\n        0x1f427,\n        0x1f54a,\n        0x1f985,\n        0x1f986,\n        0x1f9a2,\n        0x1f989,\n        0x1f99a,\n        0x1f99c,\n        0x1f438,\n        0x1f40a,\n        0x1f422,\n        0x1f98e,\n        0x1f40d,\n        0x1f432,\n        0x1f409,\n        0x1f995,\n        0x1f996,\n        0x1f433,\n        0x1f40b,\n        0x1f42c,\n        0x1f41f,\n        0x1f420,\n        0x1f421,\n        0x1f988,\n        0x1f419,\n        0x1f41a,\n        0x1f40c,\n        0x1f98b,\n        0x1f41b,\n        0x1f41c,\n        0x1f41d,\n        0x1f41e,\n        0x1f997,\n        0x1f577,\n        0x1f578,\n        0x1f982,\n        0x1f99f,\n        0x1f9a0,\n        0x1f490,\n        0x1f338,\n        0x1f4ae,\n        0x1f3f5,\n        0x1f339,\n        0x1f940,\n        0x1f33a,\n        0x1f33b,\n        0x1f33c,\n        0x1f337,\n        0x1f331,\n        0x1f332,\n        0x1f333,\n        0x1f334,\n        0x1f335,\n        0x1f33e,\n        0x1f33f,\n        0x2618,\n        0x1f340,\n        0x1f341,\n        0x1f342,\n        0x1f343,\n      ],\n    },\n    {\n      name: 'Food & Drink',\n      values: [\n        0x1f347,\n        0x1f348,\n        0x1f349,\n        0x1f34a,\n        0x1f34b,\n        0x1f34c,\n        0x1f34d,\n        0x1f96d,\n        0x1f34e,\n        0x1f34f,\n        0x1f350,\n        0x1f351,\n        0x1f352,\n        0x1f353,\n        0x1f95d,\n        0x1f345,\n        0x1f965,\n        0x1f951,\n        0x1f346,\n        0x1f954,\n        0x1f955,\n        0x1f33d,\n        0x1f336,\n        0x1f952,\n        0x1f96c,\n        0x1f966,\n        0x1f344,\n        0x1f95c,\n        0x1f330,\n        0x1f35e,\n        0x1f950,\n        0x1f956,\n        0x1f968,\n        0x1f96f,\n        0x1f95e,\n        0x1f9c0,\n        0x1f356,\n        0x1f357,\n        0x1f969,\n        0x1f953,\n        0x1f354,\n        0x1f35f,\n        0x1f355,\n        0x1f32d,\n        0x1f96a,\n        0x1f32e,\n        0x1f32f,\n        0x1f959,\n        0x1f95a,\n        0x1f373,\n        0x1f958,\n        0x1f372,\n        0x1f963,\n        0x1f957,\n        0x1f37f,\n        0x1f9c2,\n        0x1f96b,\n        0x1f371,\n        0x1f358,\n        0x1f359,\n        0x1f35a,\n        0x1f35b,\n        0x1f35c,\n        0x1f35d,\n        0x1f360,\n        0x1f362,\n        0x1f363,\n        0x1f364,\n        0x1f365,\n        0x1f96e,\n        0x1f361,\n        0x1f95f,\n        0x1f960,\n        0x1f961,\n        0x1f980,\n        0x1f99e,\n        0x1f990,\n        0x1f991,\n        0x1f366,\n        0x1f367,\n        0x1f368,\n        0x1f369,\n        0x1f36a,\n        0x1f382,\n        0x1f370,\n        0x1f9c1,\n        0x1f967,\n        0x1f36b,\n        0x1f36c,\n        0x1f36d,\n        0x1f36e,\n        0x1f36f,\n        0x1f37c,\n        0x1f95b,\n        0x2615,\n        0x1f375,\n        0x1f376,\n        0x1f37e,\n        0x1f377,\n        0x1f378,\n        0x1f379,\n        0x1f37a,\n        0x1f37b,\n        0x1f942,\n        0x1f943,\n        0x1f964,\n        0x1f962,\n        0x1f37d,\n        0x1f374,\n        0x1f944,\n        0x1f52a,\n        0x1f3fa,\n      ],\n    },\n    {\n      name: 'Travel & Places',\n      values: [\n        0x1f30d,\n        0x1f30e,\n        0x1f30f,\n        0x1f310,\n        0x1f5fa,\n        0x1f5fe,\n        0x1f9ed,\n        0x1f3d4,\n        0x26f0,\n        0x1f30b,\n        0x1f5fb,\n        0x1f3d5,\n        0x1f3d6,\n        0x1f3dc,\n        0x1f3dd,\n        0x1f3de,\n        0x1f3df,\n        0x1f3db,\n        0x1f3d7,\n        0x1f9f1,\n        0x1f3d8,\n        0x1f3da,\n        0x1f3e0,\n        0x1f3e1,\n        0x1f3e2,\n        0x1f3e3,\n        0x1f3e4,\n        0x1f3e5,\n        0x1f3e6,\n        0x1f3e8,\n        0x1f3e9,\n        0x1f3ea,\n        0x1f3eb,\n        0x1f3ec,\n        0x1f3ed,\n        0x1f3ef,\n        0x1f3f0,\n        0x1f492,\n        0x1f5fc,\n        0x1f5fd,\n        0x26ea,\n        0x1f54c,\n        0x1f54d,\n        0x26e9,\n        0x1f54b,\n        0x26f2,\n        0x26fa,\n        0x1f301,\n        0x1f303,\n        0x1f3d9,\n        0x1f304,\n        0x1f305,\n        0x1f306,\n        0x1f307,\n        0x1f309,\n        0x2668,\n        0x1f3a0,\n        0x1f3a1,\n        0x1f3a2,\n        0x1f488,\n        0x1f3aa,\n        0x1f682,\n        0x1f683,\n        0x1f684,\n        0x1f685,\n        0x1f686,\n        0x1f687,\n        0x1f688,\n        0x1f689,\n        0x1f68a,\n        0x1f69d,\n        0x1f69e,\n        0x1f68b,\n        0x1f68c,\n        0x1f68d,\n        0x1f68e,\n        0x1f690,\n        0x1f691,\n        0x1f692,\n        0x1f693,\n        0x1f694,\n        0x1f695,\n        0x1f696,\n        0x1f697,\n        0x1f698,\n        0x1f699,\n        0x1f69a,\n        0x1f69b,\n        0x1f69c,\n        0x1f3ce,\n        0x1f3cd,\n        0x1f6f5,\n        0x1f6b2,\n        0x1f6f4,\n        0x1f6f9,\n        0x1f68f,\n        0x1f6e3,\n        0x1f6e4,\n        0x1f6e2,\n        0x26fd,\n        0x1f6a8,\n        0x1f6a5,\n        0x1f6a6,\n        0x1f6d1,\n        0x1f6a7,\n        0x2693,\n        0x26f5,\n        0x1f6f6,\n        0x1f6a4,\n        0x1f6f3,\n        0x26f4,\n        0x1f6e5,\n        0x1f6a2,\n        0x2708,\n        0x1f6e9,\n        0x1f6eb,\n        0x1f6ec,\n        0x1f4ba,\n        0x1f681,\n        0x1f69f,\n        0x1f6a0,\n        0x1f6a1,\n        0x1f6f0,\n        0x1f680,\n        0x1f6f8,\n        0x1f6ce,\n        0x1f9f3,\n        0x231b,\n        0x23f3,\n        0x231a,\n        0x23f0,\n        0x23f1,\n        0x23f2,\n        0x1f570,\n        0x1f55b,\n        0x1f567,\n        0x1f550,\n        0x1f55c,\n        0x1f551,\n        0x1f55d,\n        0x1f552,\n        0x1f55e,\n        0x1f553,\n        0x1f55f,\n        0x1f554,\n        0x1f560,\n        0x1f555,\n        0x1f561,\n        0x1f556,\n        0x1f562,\n        0x1f557,\n        0x1f563,\n        0x1f558,\n        0x1f564,\n        0x1f559,\n        0x1f565,\n        0x1f55a,\n        0x1f566,\n        0x1f311,\n        0x1f312,\n        0x1f313,\n        0x1f314,\n        0x1f315,\n        0x1f316,\n        0x1f317,\n        0x1f318,\n        0x1f319,\n        0x1f31a,\n        0x1f31b,\n        0x1f31c,\n        0x1f321,\n        0x2600,\n        0x1f31d,\n        0x1f31e,\n        0x2b50,\n        0x1f31f,\n        0x1f320,\n        0x1f30c,\n        0x2601,\n        0x26c5,\n        0x26c8,\n        0x1f324,\n        0x1f325,\n        0x1f326,\n        0x1f327,\n        0x1f328,\n        0x1f329,\n        0x1f32a,\n        0x1f32b,\n        0x1f32c,\n        0x1f300,\n        0x1f308,\n        0x1f302,\n        0x2602,\n        0x2614,\n        0x26f1,\n        0x26a1,\n        0x2744,\n        0x2603,\n        0x26c4,\n        0x2604,\n        0x1f525,\n        0x1f4a7,\n        0x1f30a,\n      ],\n    },\n    {\n      name: 'Activities',\n      values: [\n        0x1f383,\n        0x1f384,\n        0x1f386,\n        0x1f387,\n        0x1f9e8,\n        0x2728,\n        0x1f388,\n        0x1f389,\n        0x1f38a,\n        0x1f38b,\n        0x1f38d,\n        0x1f38e,\n        0x1f38f,\n        0x1f390,\n        0x1f391,\n        0x1f9e7,\n        0x1f380,\n        0x1f381,\n        0x1f397,\n        0x1f39f,\n        0x1f3ab,\n        0x1f396,\n        0x1f3c6,\n        0x1f3c5,\n        0x1f947,\n        0x1f948,\n        0x1f949,\n        0x26bd,\n        0x26be,\n        0x1f94e,\n        0x1f3c0,\n        0x1f3d0,\n        0x1f3c8,\n        0x1f3c9,\n        0x1f3be,\n        0x1f94f,\n        0x1f3b3,\n        0x1f3cf,\n        0x1f3d1,\n        0x1f3d2,\n        0x1f94d,\n        0x1f3d3,\n        0x1f3f8,\n        0x1f94a,\n        0x1f94b,\n        0x1f945,\n        0x26f3,\n        0x26f8,\n        0x1f3a3,\n        0x1f3bd,\n        0x1f3bf,\n        0x1f6f7,\n        0x1f94c,\n        0x1f3af,\n        0x1f3b1,\n        0x1f52e,\n        0x1f9ff,\n        0x1f3ae,\n        0x1f579,\n        0x1f3b0,\n        0x1f3b2,\n        0x1f9e9,\n        0x1f9f8,\n        0x2660,\n        0x2665,\n        0x2666,\n        0x2663,\n        0x265f,\n        0x1f0cf,\n        0x1f004,\n        0x1f3b4,\n        0x1f3ad,\n        0x1f5bc,\n        0x1f3a8,\n        0x1f9f5,\n        0x1f9f6,\n      ],\n    },\n    {\n      name: 'Objects',\n      values: [\n        0x1f453,\n        0x1f576,\n        0x1f97d,\n        0x1f97c,\n        0x1f454,\n        0x1f455,\n        0x1f456,\n        0x1f9e3,\n        0x1f9e4,\n        0x1f9e5,\n        0x1f9e6,\n        0x1f457,\n        0x1f458,\n        0x1f459,\n        0x1f45a,\n        0x1f45b,\n        0x1f45c,\n        0x1f45d,\n        0x1f6cd,\n        0x1f392,\n        0x1f45e,\n        0x1f45f,\n        0x1f97e,\n        0x1f97f,\n        0x1f460,\n        0x1f461,\n        0x1f462,\n        0x1f451,\n        0x1f452,\n        0x1f3a9,\n        0x1f393,\n        0x1f9e2,\n        0x26d1,\n        0x1f4ff,\n        0x1f484,\n        0x1f48d,\n        0x1f48e,\n        0x1f507,\n        0x1f508,\n        0x1f509,\n        0x1f50a,\n        0x1f4e2,\n        0x1f4e3,\n        0x1f4ef,\n        0x1f514,\n        0x1f515,\n        0x1f3bc,\n        0x1f3b5,\n        0x1f3b6,\n        0x1f399,\n        0x1f39a,\n        0x1f39b,\n        0x1f3a4,\n        0x1f3a7,\n        0x1f4fb,\n        0x1f3b7,\n        0x1f3b8,\n        0x1f3b9,\n        0x1f3ba,\n        0x1f3bb,\n        0x1f941,\n        0x1f4f1,\n        0x1f4f2,\n        0x260e,\n        0x1f4de,\n        0x1f4df,\n        0x1f4e0,\n        0x1f50b,\n        0x1f50c,\n        0x1f4bb,\n        0x1f5a5,\n        0x1f5a8,\n        0x2328,\n        0x1f5b1,\n        0x1f5b2,\n        0x1f4bd,\n        0x1f4be,\n        0x1f4bf,\n        0x1f4c0,\n        0x1f9ee,\n        0x1f3a5,\n        0x1f39e,\n        0x1f4fd,\n        0x1f3ac,\n        0x1f4fa,\n        0x1f4f7,\n        0x1f4f8,\n        0x1f4f9,\n        0x1f4fc,\n        0x1f50d,\n        0x1f50e,\n        0x1f56f,\n        0x1f4a1,\n        0x1f526,\n        0x1f3ee,\n        0x1f4d4,\n        0x1f4d5,\n        0x1f4d6,\n        0x1f4d7,\n        0x1f4d8,\n        0x1f4d9,\n        0x1f4da,\n        0x1f4d3,\n        0x1f4d2,\n        0x1f4c3,\n        0x1f4dc,\n        0x1f4c4,\n        0x1f4f0,\n        0x1f5de,\n        0x1f4d1,\n        0x1f516,\n        0x1f3f7,\n        0x1f4b0,\n        0x1f4b4,\n        0x1f4b5,\n        0x1f4b6,\n        0x1f4b7,\n        0x1f4b8,\n        0x1f4b3,\n        0x1f9fe,\n        0x1f4b9,\n        0x1f4b1,\n        0x1f4b2,\n        0x2709,\n        0x1f4e7,\n        0x1f4e8,\n        0x1f4e9,\n        0x1f4e4,\n        0x1f4e5,\n        0x1f4e6,\n        0x1f4eb,\n        0x1f4ea,\n        0x1f4ec,\n        0x1f4ed,\n        0x1f4ee,\n        0x1f5f3,\n        0x270f,\n        0x2712,\n        0x1f58b,\n        0x1f58a,\n        0x1f58c,\n        0x1f58d,\n        0x1f4dd,\n        0x1f4bc,\n        0x1f4c1,\n        0x1f4c2,\n        0x1f5c2,\n        0x1f4c5,\n        0x1f4c6,\n        0x1f5d2,\n        0x1f5d3,\n        0x1f4c7,\n        0x1f4c8,\n        0x1f4c9,\n        0x1f4ca,\n        0x1f4cb,\n        0x1f4cc,\n        0x1f4cd,\n        0x1f4ce,\n        0x1f587,\n        0x1f4cf,\n        0x1f4d0,\n        0x2702,\n        0x1f5c3,\n        0x1f5c4,\n        0x1f5d1,\n        0x1f512,\n        0x1f513,\n        0x1f50f,\n        0x1f510,\n        0x1f511,\n        0x1f5dd,\n        0x1f528,\n        0x26cf,\n        0x2692,\n        0x1f6e0,\n        0x1f5e1,\n        0x2694,\n        0x1f52b,\n        0x1f3f9,\n        0x1f6e1,\n        0x1f527,\n        0x1f529,\n        0x2699,\n        0x1f5dc,\n        0x2696,\n        0x1f517,\n        0x26d3,\n        0x1f9f0,\n        0x1f9f2,\n        0x2697,\n        0x1f9ea,\n        0x1f9eb,\n        0x1f9ec,\n        0x1f52c,\n        0x1f52d,\n        0x1f4e1,\n        0x1f489,\n        0x1f48a,\n        0x1f6aa,\n        0x1f6cf,\n        0x1f6cb,\n        0x1f6bd,\n        0x1f6bf,\n        0x1f6c1,\n        0x1f9f4,\n        0x1f9f7,\n        0x1f9f9,\n        0x1f9fa,\n        0x1f9fb,\n        0x1f9fc,\n        0x1f9fd,\n        0x1f9ef,\n        0x1f6d2,\n        0x1f6ac,\n        0x26b0,\n        0x26b1,\n        0x1f5ff,\n      ],\n    },\n    {\n      name: 'Symbols',\n      values: [\n        0x1f3e7,\n        0x1f6ae,\n        0x1f6b0,\n        0x267f,\n        0x1f6b9,\n        0x1f6ba,\n        0x1f6bb,\n        0x1f6bc,\n        0x1f6be,\n        0x1f6c2,\n        0x1f6c3,\n        0x1f6c4,\n        0x1f6c5,\n        0x26a0,\n        0x1f6b8,\n        0x26d4,\n        0x1f6ab,\n        0x1f6b3,\n        0x1f6ad,\n        0x1f6af,\n        0x1f6b1,\n        0x1f6b7,\n        0x1f4f5,\n        0x1f51e,\n        0x2622,\n        0x2623,\n        0x2b06,\n        0x2197,\n        0x27a1,\n        0x2198,\n        0x2b07,\n        0x2199,\n        0x2b05,\n        0x2196,\n        0x2195,\n        0x2194,\n        0x21a9,\n        0x21aa,\n        0x2934,\n        0x2935,\n        0x1f503,\n        0x1f504,\n        0x1f519,\n        0x1f51a,\n        0x1f51b,\n        0x1f51c,\n        0x1f51d,\n        0x1f6d0,\n        0x269b,\n        0x1f549,\n        0x2721,\n        0x2638,\n        0x262f,\n        0x271d,\n        0x2626,\n        0x262a,\n        0x262e,\n        0x1f54e,\n        0x1f52f,\n        0x2648,\n        0x2649,\n        0x264a,\n        0x264b,\n        0x264c,\n        0x264d,\n        0x264e,\n        0x264f,\n        0x2650,\n        0x2651,\n        0x2652,\n        0x2653,\n        0x26ce,\n        0x1f500,\n        0x1f501,\n        0x1f502,\n        0x25b6,\n        0x23e9,\n        0x23ed,\n        0x23ef,\n        0x25c0,\n        0x23ea,\n        0x23ee,\n        0x1f53c,\n        0x23eb,\n        0x1f53d,\n        0x23ec,\n        0x23f8,\n        0x23f9,\n        0x23fa,\n        0x23cf,\n        0x1f3a6,\n        0x1f505,\n        0x1f506,\n        0x1f4f6,\n        0x1f4f3,\n        0x1f4f4,\n        0x2640,\n        0x2642,\n        0x2695,\n        0x267e,\n        0x267b,\n        0x269c,\n        0x1f531,\n        0x1f4db,\n        0x1f530,\n        0x2b55,\n        0x2705,\n        0x2611,\n        0x2714,\n        0x2716,\n        0x274c,\n        0x274e,\n        0x2795,\n        0x2796,\n        0x2797,\n        0x27b0,\n        0x27bf,\n        0x303d,\n        0x2733,\n        0x2734,\n        0x2747,\n        0x203c,\n        0x2049,\n        0x2753,\n        0x2754,\n        0x2755,\n        0x2757,\n        0x3030,\n        0x00a9,\n        0x00ae,\n        0x2122,\n        [0x0023, 0xfe0f, 0x20e3],\n        [0x002a, 0xfe0f, 0x20e3],\n        [0x0030, 0xfe0f, 0x20e3],\n        [0x0031, 0xfe0f, 0x20e3],\n        [0x0032, 0xfe0f, 0x20e3],\n        [0x0033, 0xfe0f, 0x20e3],\n        [0x0034, 0xfe0f, 0x20e3],\n        [0x0035, 0xfe0f, 0x20e3],\n        [0x0036, 0xfe0f, 0x20e3],\n        [0x0037, 0xfe0f, 0x20e3],\n        [0x0038, 0xfe0f, 0x20e3],\n        [0x0039, 0xfe0f, 0x20e3],\n        0x1f51f,\n        0x1f520,\n        0x1f521,\n        0x1f522,\n        0x1f523,\n        0x1f524,\n        0x1f170,\n        0x1f18e,\n        0x1f171,\n        0x1f191,\n        0x1f192,\n        0x1f193,\n        0x2139,\n        0x1f194,\n        0x24c2,\n        0x1f195,\n        0x1f196,\n        0x1f17e,\n        0x1f197,\n        0x1f17f,\n        0x1f198,\n        0x1f199,\n        0x1f19a,\n        0x1f201,\n        0x1f202,\n        0x1f237,\n        0x1f236,\n        0x1f22f,\n        0x1f250,\n        0x1f239,\n        0x1f21a,\n        0x1f232,\n        0x1f251,\n        0x1f238,\n        0x1f234,\n        0x1f233,\n        0x3297,\n        0x3299,\n        0x1f23a,\n        0x1f235,\n        0x1f534,\n        0x1f535,\n        0x26ab,\n        0x26aa,\n        0x2b1b,\n        0x2b1c,\n        0x25fc,\n        0x25fb,\n        0x25fe,\n        0x25fd,\n        0x25aa,\n        0x25ab,\n        0x1f536,\n        0x1f537,\n        0x1f538,\n        0x1f539,\n        0x1f53a,\n        0x1f53b,\n        0x1f4a0,\n        0x1f518,\n        0x1f533,\n        0x1f532,\n      ],\n    },\n    {\n      name: 'Flags',\n      values: [\n        0x1f3c1,\n        0x1f6a9,\n        0x1f38c,\n        0x1f3f4,\n        0x1f3f3,\n        [0x1f3f3, 0xfe0f, 0x200d, 0x1f308],\n        [0x1f3f4, 0x200d, 0x2620, 0xfe0f],\n        [0x1f1e6, 0x1f1e8],\n        [0x1f1e6, 0x1f1e9],\n        [0x1f1e6, 0x1f1ea],\n        [0x1f1e6, 0x1f1eb],\n        [0x1f1e6, 0x1f1ec],\n        [0x1f1e6, 0x1f1ee],\n        [0x1f1e6, 0x1f1f1],\n        [0x1f1e6, 0x1f1f2],\n        [0x1f1e6, 0x1f1f4],\n        [0x1f1e6, 0x1f1f6],\n        [0x1f1e6, 0x1f1f7],\n        [0x1f1e6, 0x1f1f8],\n        [0x1f1e6, 0x1f1f9],\n        [0x1f1e6, 0x1f1fa],\n        [0x1f1e6, 0x1f1fc],\n        [0x1f1e6, 0x1f1fd],\n        [0x1f1e6, 0x1f1ff],\n        [0x1f1e7, 0x1f1e6],\n        [0x1f1e7, 0x1f1e7],\n        [0x1f1e7, 0x1f1e9],\n        [0x1f1e7, 0x1f1ea],\n        [0x1f1e7, 0x1f1eb],\n        [0x1f1e7, 0x1f1ec],\n        [0x1f1e7, 0x1f1ed],\n        [0x1f1e7, 0x1f1ee],\n        [0x1f1e7, 0x1f1ef],\n        [0x1f1e7, 0x1f1f1],\n        [0x1f1e7, 0x1f1f2],\n        [0x1f1e7, 0x1f1f3],\n        [0x1f1e7, 0x1f1f4],\n        [0x1f1e7, 0x1f1f6],\n        [0x1f1e7, 0x1f1f7],\n        [0x1f1e7, 0x1f1f8],\n        [0x1f1e7, 0x1f1f9],\n        [0x1f1e7, 0x1f1fb],\n        [0x1f1e7, 0x1f1fc],\n        [0x1f1e7, 0x1f1fe],\n        [0x1f1e7, 0x1f1ff],\n        [0x1f1e8, 0x1f1e6],\n        [0x1f1e8, 0x1f1e8],\n        [0x1f1e8, 0x1f1e9],\n        [0x1f1e8, 0x1f1eb],\n        [0x1f1e8, 0x1f1ec],\n        [0x1f1e8, 0x1f1ed],\n        [0x1f1e8, 0x1f1ee],\n        [0x1f1e8, 0x1f1f0],\n        [0x1f1e8, 0x1f1f1],\n        [0x1f1e8, 0x1f1f2],\n        [0x1f1e8, 0x1f1f3],\n        [0x1f1e8, 0x1f1f4],\n        [0x1f1e8, 0x1f1f5],\n        [0x1f1e8, 0x1f1f7],\n        [0x1f1e8, 0x1f1fa],\n        [0x1f1e8, 0x1f1fb],\n        [0x1f1e8, 0x1f1fc],\n        [0x1f1e8, 0x1f1fd],\n        [0x1f1e8, 0x1f1fe],\n        [0x1f1e8, 0x1f1ff],\n        [0x1f1e9, 0x1f1ea],\n        [0x1f1e9, 0x1f1ec],\n        [0x1f1e9, 0x1f1ef],\n        [0x1f1e9, 0x1f1f0],\n        [0x1f1e9, 0x1f1f2],\n        [0x1f1e9, 0x1f1f4],\n        [0x1f1e9, 0x1f1ff],\n        [0x1f1ea, 0x1f1e6],\n        [0x1f1ea, 0x1f1e8],\n        [0x1f1ea, 0x1f1ea],\n        [0x1f1ea, 0x1f1ec],\n        [0x1f1ea, 0x1f1ed],\n        [0x1f1ea, 0x1f1f7],\n        [0x1f1ea, 0x1f1f8],\n        [0x1f1ea, 0x1f1f9],\n        [0x1f1ea, 0x1f1fa],\n        [0x1f1eb, 0x1f1ee],\n        [0x1f1eb, 0x1f1ef],\n        [0x1f1eb, 0x1f1f0],\n        [0x1f1eb, 0x1f1f2],\n        [0x1f1eb, 0x1f1f4],\n        [0x1f1eb, 0x1f1f7],\n        [0x1f1ec, 0x1f1e6],\n        [0x1f1ec, 0x1f1e7],\n        [0x1f1ec, 0x1f1e9],\n        [0x1f1ec, 0x1f1ea],\n        [0x1f1ec, 0x1f1eb],\n        [0x1f1ec, 0x1f1ec],\n        [0x1f1ec, 0x1f1ed],\n        [0x1f1ec, 0x1f1ee],\n        [0x1f1ec, 0x1f1f1],\n        [0x1f1ec, 0x1f1f2],\n        [0x1f1ec, 0x1f1f3],\n        [0x1f1ec, 0x1f1f5],\n        [0x1f1ec, 0x1f1f6],\n        [0x1f1ec, 0x1f1f7],\n        [0x1f1ec, 0x1f1f8],\n        [0x1f1ec, 0x1f1f9],\n        [0x1f1ec, 0x1f1fa],\n        [0x1f1ec, 0x1f1fc],\n        [0x1f1ec, 0x1f1fe],\n        [0x1f1ed, 0x1f1f0],\n        [0x1f1ed, 0x1f1f2],\n        [0x1f1ed, 0x1f1f3],\n        [0x1f1ed, 0x1f1f7],\n        [0x1f1ed, 0x1f1f9],\n        [0x1f1ed, 0x1f1fa],\n        [0x1f1ee, 0x1f1e8],\n        [0x1f1ee, 0x1f1e9],\n        [0x1f1ee, 0x1f1ea],\n        [0x1f1ee, 0x1f1f1],\n        [0x1f1ee, 0x1f1f2],\n        [0x1f1ee, 0x1f1f3],\n        [0x1f1ee, 0x1f1f4],\n        [0x1f1ee, 0x1f1f6],\n        [0x1f1ee, 0x1f1f7],\n        [0x1f1ee, 0x1f1f8],\n        [0x1f1ee, 0x1f1f9],\n        [0x1f1ef, 0x1f1ea],\n        [0x1f1ef, 0x1f1f2],\n        [0x1f1ef, 0x1f1f4],\n        [0x1f1ef, 0x1f1f5],\n        [0x1f1f0, 0x1f1ea],\n        [0x1f1f0, 0x1f1ec],\n        [0x1f1f0, 0x1f1ed],\n        [0x1f1f0, 0x1f1ee],\n        [0x1f1f0, 0x1f1f2],\n        [0x1f1f0, 0x1f1f3],\n        [0x1f1f0, 0x1f1f5],\n        [0x1f1f0, 0x1f1f7],\n        [0x1f1f0, 0x1f1fc],\n        [0x1f1f0, 0x1f1fe],\n        [0x1f1f0, 0x1f1ff],\n        [0x1f1f1, 0x1f1e6],\n        [0x1f1f1, 0x1f1e7],\n        [0x1f1f1, 0x1f1e8],\n        [0x1f1f1, 0x1f1ee],\n        [0x1f1f1, 0x1f1f0],\n        [0x1f1f1, 0x1f1f7],\n        [0x1f1f1, 0x1f1f8],\n        [0x1f1f1, 0x1f1f9],\n        [0x1f1f1, 0x1f1fa],\n        [0x1f1f1, 0x1f1fb],\n        [0x1f1f1, 0x1f1fe],\n        [0x1f1f2, 0x1f1e6],\n        [0x1f1f2, 0x1f1e8],\n        [0x1f1f2, 0x1f1e9],\n        [0x1f1f2, 0x1f1ea],\n        [0x1f1f2, 0x1f1eb],\n        [0x1f1f2, 0x1f1ec],\n        [0x1f1f2, 0x1f1ed],\n        [0x1f1f2, 0x1f1f0],\n        [0x1f1f2, 0x1f1f1],\n        [0x1f1f2, 0x1f1f2],\n        [0x1f1f2, 0x1f1f3],\n        [0x1f1f2, 0x1f1f4],\n        [0x1f1f2, 0x1f1f5],\n        [0x1f1f2, 0x1f1f6],\n        [0x1f1f2, 0x1f1f7],\n        [0x1f1f2, 0x1f1f8],\n        [0x1f1f2, 0x1f1f9],\n        [0x1f1f2, 0x1f1fa],\n        [0x1f1f2, 0x1f1fb],\n        [0x1f1f2, 0x1f1fc],\n        [0x1f1f2, 0x1f1fd],\n        [0x1f1f2, 0x1f1fe],\n        [0x1f1f2, 0x1f1ff],\n        [0x1f1f3, 0x1f1e6],\n        [0x1f1f3, 0x1f1e8],\n        [0x1f1f3, 0x1f1ea],\n        [0x1f1f3, 0x1f1eb],\n        [0x1f1f3, 0x1f1ec],\n        [0x1f1f3, 0x1f1ee],\n        [0x1f1f3, 0x1f1f1],\n        [0x1f1f3, 0x1f1f4],\n        [0x1f1f3, 0x1f1f5],\n        [0x1f1f3, 0x1f1f7],\n        [0x1f1f3, 0x1f1fa],\n        [0x1f1f3, 0x1f1ff],\n        [0x1f1f4, 0x1f1f2],\n        [0x1f1f5, 0x1f1e6],\n        [0x1f1f5, 0x1f1ea],\n        [0x1f1f5, 0x1f1eb],\n        [0x1f1f5, 0x1f1ec],\n        [0x1f1f5, 0x1f1ed],\n        [0x1f1f5, 0x1f1f0],\n        [0x1f1f5, 0x1f1f1],\n        [0x1f1f5, 0x1f1f2],\n        [0x1f1f5, 0x1f1f3],\n        [0x1f1f5, 0x1f1f7],\n        [0x1f1f5, 0x1f1f8],\n        [0x1f1f5, 0x1f1f9],\n        [0x1f1f5, 0x1f1fc],\n        [0x1f1f5, 0x1f1fe],\n        [0x1f1f6, 0x1f1e6],\n        [0x1f1f7, 0x1f1ea],\n        [0x1f1f7, 0x1f1f4],\n        [0x1f1f7, 0x1f1f8],\n        [0x1f1f7, 0x1f1fa],\n        [0x1f1f7, 0x1f1fc],\n        [0x1f1f8, 0x1f1e6],\n        [0x1f1f8, 0x1f1e7],\n        [0x1f1f8, 0x1f1e8],\n        [0x1f1f8, 0x1f1e9],\n        [0x1f1f8, 0x1f1ea],\n        [0x1f1f8, 0x1f1ec],\n        [0x1f1f8, 0x1f1ed],\n        [0x1f1f8, 0x1f1ee],\n        [0x1f1f8, 0x1f1ef],\n        [0x1f1f8, 0x1f1f0],\n        [0x1f1f8, 0x1f1f1],\n        [0x1f1f8, 0x1f1f2],\n        [0x1f1f8, 0x1f1f3],\n        [0x1f1f8, 0x1f1f4],\n        [0x1f1f8, 0x1f1f7],\n        [0x1f1f8, 0x1f1f8],\n        [0x1f1f8, 0x1f1f9],\n        [0x1f1f8, 0x1f1fb],\n        [0x1f1f8, 0x1f1fd],\n        [0x1f1f8, 0x1f1fe],\n        [0x1f1f8, 0x1f1ff],\n        [0x1f1f9, 0x1f1e6],\n        [0x1f1f9, 0x1f1e8],\n        [0x1f1f9, 0x1f1e9],\n        [0x1f1f9, 0x1f1eb],\n        [0x1f1f9, 0x1f1ec],\n        [0x1f1f9, 0x1f1ed],\n        [0x1f1f9, 0x1f1ef],\n        [0x1f1f9, 0x1f1f0],\n        [0x1f1f9, 0x1f1f1],\n        [0x1f1f9, 0x1f1f2],\n        [0x1f1f9, 0x1f1f3],\n        [0x1f1f9, 0x1f1f4],\n        [0x1f1f9, 0x1f1f7],\n        [0x1f1f9, 0x1f1f9],\n        [0x1f1f9, 0x1f1fb],\n        [0x1f1f9, 0x1f1fc],\n        [0x1f1f9, 0x1f1ff],\n        [0x1f1fa, 0x1f1e6],\n        [0x1f1fa, 0x1f1ec],\n        [0x1f1fa, 0x1f1f2],\n        [0x1f1fa, 0x1f1f3],\n        [0x1f1fa, 0x1f1f8],\n        [0x1f1fa, 0x1f1fe],\n        [0x1f1fa, 0x1f1ff],\n        [0x1f1fb, 0x1f1e6],\n        [0x1f1fb, 0x1f1e8],\n        [0x1f1fb, 0x1f1ea],\n        [0x1f1fb, 0x1f1ec],\n        [0x1f1fb, 0x1f1ee],\n        [0x1f1fb, 0x1f1f3],\n        [0x1f1fb, 0x1f1fa],\n        [0x1f1fc, 0x1f1eb],\n        [0x1f1fc, 0x1f1f8],\n        [0x1f1fd, 0x1f1f0],\n        [0x1f1fe, 0x1f1ea],\n        [0x1f1fe, 0x1f1f9],\n        [0x1f1ff, 0x1f1e6],\n        [0x1f1ff, 0x1f1f2],\n        [0x1f1ff, 0x1f1fc],\n      ],\n    },\n  ];\n\n  fromPoints(points) {\n    if (Array.isArray(points)) {\n      return String.fromCodePoint(...points);\n    }\n    return String.fromCodePoint(points);\n  }\n\n  renderCodepointRange(values) {\n    const {onSelect} = this.props;\n    return values.map((points) => {\n      const emoji = this.fromPoints(points);\n      return (\n        <span\n          key={emoji}\n          className=\"emoji-selector-option\"\n          onMouseDown={(event) => onSelect(event, emoji)}\n        >\n          {emoji}\n        </span>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"emoji-selector\">\n        {EmojiSelector.ranges.map(({name, values}) => (\n          <div key={name} className=\"emoji-selector-group\">\n            <h1>{name}</h1>\n            {this.renderCodepointRange(values)}\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport EmojiSelector from './emoji_selector';\n\nfunction inputHasContent(target) {\n  return target.value.trim().length !== 0;\n}\n\nexport default class RetroColumnInput extends React.Component {\n    static propTypes = {\n      category: types.string.isRequired,\n      retroId: types.string.isRequired,\n      createRetroItem: types.func.isRequired,\n      createRetroActionItem: types.func.isRequired,\n    };\n\n    constructor(props) {\n      super(props);\n      this.textarea = React.createRef();\n      this.state = {\n        inputText: '',\n        isFocused: false,\n        multiline: '',\n      };\n\n      this.submitRetroItem = this.submitRetroItem.bind(this);\n      this.inputFocus = this.inputFocus.bind(this);\n      this.inputBlur = this.inputBlur.bind(this);\n      this.onChange = this.onChange.bind(this);\n      this.onKeyPress = this.onKeyPress.bind(this);\n      this.onResize = this.onResize.bind(this);\n    }\n\n    resolvePlaceholder() {\n      const {category} = this.props;\n      if (category === 'happy') {\n        return 'I\\'m glad that...';\n      }\n      if (category === 'meh') {\n        return 'I\\'m wondering about...';\n      }\n      if (category === 'sad') {\n        return 'It wasn\\'t so great that...';\n      }\n      return 'Add an action item';\n    }\n\n    onKeyPress(event) {\n      if (event.key === 'Enter' && !event.shiftKey) {\n        if (event.target.value !== '') {\n          this.submitRetroItem();\n        }\n        event.preventDefault();\n      }\n    }\n\n    submitRetroItem() {\n      const {retroId, category} = this.props;\n      const {inputText} = this.state;\n      if (category === 'action') {\n        this.props.createRetroActionItem(retroId, inputText);\n      } else {\n        this.props.createRetroItem(retroId, category, inputText);\n      }\n      this.setState({inputText: '', multiline: ''});\n    }\n\n    onChange(event) {\n      if (!inputHasContent(event.target)) {\n        this.setState({multiline: ''});\n      }\n\n      this.setState({inputText: event.target.value});\n    }\n\n    onResize(event) {\n      // store value as well to work around https://github.com/buildo/react-autosize-textarea/issues/109\n\n      const multiline = inputHasContent(event.target) ? 'multiline' : '';\n      this.setState({multiline, inputText: event.target.value});\n    }\n\n    inputFocus() {\n      this.setState({isFocused: true});\n    }\n\n    inputBlur() {\n      this.setState({\n        isFocused: false,\n        isSelectingEmoji: false,\n      });\n    }\n\n    renderDoneButton() {\n      if (this.state.inputText) {\n        return (\n          <div className={'input-button-wrapper ' + this.state.multiline}>\n            <div\n              className=\"input-button\"\n              onClick={this.submitRetroItem}\n            >\n              <i className=\"fa fa-check\" aria-hidden=\"true\"/>\n            </div>\n          </div>\n        );\n      }\n      return null;\n    }\n\n    onEmojiButtonClick(event) {\n      event.preventDefault();\n      const {isSelectingEmoji} = this.state;\n      this.setState({isSelectingEmoji: !isSelectingEmoji});\n      this.textarea.current.focus();\n    }\n\n    onEmojiSelect(event, emoji) {\n      event.preventDefault();\n      this.setState(({inputText, ...oldState}) => {\n        const start = this.textarea.current.selectionStart;\n        const end = this.textarea.current.selectionEnd;\n        const newInputText = inputText.substring(0, start) + emoji + inputText.substring(end, inputText.length);\n        this.textarea.current.focus();\n        return ({\n          ...oldState,\n          inputText: newInputText,\n          isSelectingEmoji: false,\n        });\n      });\n    }\n\n    renderEmojiButton() {\n      return (\n        <div className={'input-button-wrapper ' + this.state.multiline}>\n          <div className=\"emoji-button\" onClick={(...args) => this.onEmojiButtonClick(...args)}>\n            <i className=\"fa fa-smile-o\" aria-hidden=\"true\"/>\n          </div>\n        </div>\n      );\n    }\n\n    renderEmojiSelector() {\n      const {isSelectingEmoji} = this.state;\n      if (!isSelectingEmoji) {\n        return null;\n      }\n      return <EmojiSelector hidden={!isSelectingEmoji} onSelect={(event, emoji) => this.onEmojiSelect(event, emoji)}/>;\n    }\n\n    resolveInputBoxClass() {\n      const {multiline, isFocused, isSelectingEmoji} = this.state;\n      let classes = 'input-box ' + multiline;\n\n      if (isFocused || isSelectingEmoji) {\n        classes += ' focused';\n      }\n\n      if (isSelectingEmoji) {\n        classes += ' emoji-selector-focus';\n      }\n      return classes;\n    }\n\n    render() {\n      const {category} = this.props;\n\n      const classNames = 'retro-item-add-input';\n\n      return (\n        <div className=\"retro-item-list-input\">\n          <div className={this.resolveInputBoxClass()}>\n            <TextareaAutosize\n              type=\"text\"\n              className={classNames}\n              placeholder={this.resolvePlaceholder(category)}\n              onFocus={this.inputFocus}\n              onBlur={this.inputBlur}\n              onChange={this.onChange}\n              value={this.state.inputText}\n              onKeyPress={this.onKeyPress}\n              onResize={this.onResize}\n              required\n              autoComplete=\"off\"\n              ref={this.textarea}\n            />\n            <div className=\"input-buttons\">\n              {this.renderEmojiButton()}\n              {this.renderDoneButton()}\n            </div>\n          </div>\n          {this.renderEmojiSelector()}\n        </div>\n      );\n    }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction formatInterval(secondsRemaining) {\n  const roundedSeconds = Math.max(Math.floor(secondsRemaining), 0);\n  const minutes = Math.floor(roundedSeconds / 60);\n  const seconds = roundedSeconds % 60;\n  const stringSeconds = seconds + '';\n  return minutes + ':' + '00'.substr(stringSeconds.length) + stringSeconds;\n}\n\nconst FormattedInterval = ({secondsRemaining}) => (\n  <div className=\"formatted-interval\">{formatInterval(secondsRemaining)}</div>\n);\n\nFormattedInterval.propTypes = {\n  secondsRemaining: PropTypes.number.isRequired,\n};\n\nexport default FormattedInterval;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport FormattedInterval from './formatted_interval';\n\nexport default class CountdownTimer extends React.Component {\n  static propTypes = {\n    retroId: types.string.isRequired,\n    endTimestampInMs: types.number.isRequired,\n    extendTimer: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      remainingTimeInMs: 0,\n      interval: null,\n    };\n\n    this.onExtendTimerClicked = this.onExtendTimerClicked.bind(this);\n  }\n\n  componentDidMount() {\n    this.startTimer();\n  }\n\n  UNSAFE_componentWillReceiveProps() {\n    this.startTimer();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.interval);\n  }\n\n  getCurrentTimestampInMs = () => Date.now();\n\n  startTimer = () => {\n    clearInterval(this.state.interval);\n    this.setState({\n      interval: setInterval(this.updateRemainingTime, 500),\n      remainingTimeInMs: this.getRemainingTimeInMs(),\n    });\n  };\n\n  getRemainingTimeInMs = () => Math.max(this.props.endTimestampInMs - this.getCurrentTimestampInMs(), 0);\n\n  updateRemainingTime = () => {\n    const remainingTimeInMs = this.getRemainingTimeInMs();\n    this.setState({remainingTimeInMs});\n    if (remainingTimeInMs <= 0) {\n      clearInterval(this.state.interval);\n    }\n  };\n\n  onExtendTimerClicked(event) {\n    const {retroId} = this.props;\n    this.props.extendTimer(retroId);\n    event.stopPropagation();\n  }\n\n  renderTimerInformation() {\n    if (this.state.remainingTimeInMs <= 0) {\n      return (\n        <div>\n          <div className=\"retro-item-timer\">\n            <div\n              className=\"retro-item-timer-extend\"\n              onClick={this.onExtendTimerClicked}\n            >\n              <span className=\"item-times-up\">Time's Up!</span>\n              <br/>\n              +2 more minutes\n            </div>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"retro-item-timer\">\n        <div className=\"retro-item-timer-clock\"><FormattedInterval secondsRemaining={this.state.remainingTimeInMs / 1000}/></div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderTimerInformation()}\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport EmojiSelector from './emoji_selector';\n\nexport default class RetroItemEditView extends React.Component {\n    static propTypes = {\n      originalText: types.string.isRequired,\n      deleteItem: types.func.isRequired,\n      saveItem: types.func.isRequired,\n    };\n\n    constructor(props) {\n      super(props);\n      this.textarea = React.createRef();\n      this.state = {\n        editedText: '',\n        saveDisabled: '',\n      };\n\n      this.onTextChanged = this.onTextChanged.bind(this);\n      this.onKeyPress = this.onKeyPress.bind(this);\n      this.onDeleteClicked = this.onDeleteClicked.bind(this);\n      this.onSaveClicked = this.onSaveClicked.bind(this);\n      this.onEmojiButtonClicked = this.onEmojiButtonClicked.bind(this);\n      this.onEmojiSelected = this.onEmojiSelected.bind(this);\n    }\n\n    componentDidMount() {\n      // this is not in constructor so that the cursor aligns to end of textarea in Safari\n      this.setState({editedText: this.props.originalText});\n    }\n\n    onTextChanged(event) {\n      const value = event.target.value;\n\n      this.setState({editedText: value, saveDisabled: value.length === 0 ? 'disabled' : ''});\n    }\n\n    onSaveClicked(event) {\n      event.stopPropagation();\n      const {editedText} = this.state;\n\n      if (editedText.trim().length > 0) {\n        this.props.saveItem(editedText);\n      }\n    }\n\n    onDeleteClicked(event) {\n      event.stopPropagation();\n      this.props.deleteItem();\n    }\n\n    onEmojiButtonClicked() {\n      const {isSelectingEmoji} = this.state;\n      this.setState({isSelectingEmoji: !isSelectingEmoji});\n      this.textarea.current.focus();\n    }\n\n    onEmojiSelected(event, emoji) {\n      this.setState(({editedText, ...oldState}) => {\n        const start = this.textarea.current.selectionStart;\n        const end = this.textarea.current.selectionEnd;\n        const newInputText = editedText.substring(0, start) + emoji + editedText.substring(end, editedText.length);\n        this.textarea.current.focus();\n        return ({\n          ...oldState,\n          editedText: newInputText,\n          isSelectingEmoji: false,\n        });\n      });\n    }\n\n    onKeyPress(event) {\n      const {editedText} = this.state;\n      const value = event.target.value;\n      if (event.key === 'Enter' && !event.shiftKey && value && value.trim().length > 0) {\n        this.props.saveItem(editedText);\n      }\n    }\n\n    renderTextInput() {\n      return (\n        <div className=\"edit-text\">\n          <TextareaAutosize\n            type=\"text\"\n            name=\"edit-text-field\"\n            autoFocus\n            value={this.state.editedText}\n            onChange={this.onTextChanged}\n            onKeyPress={this.onKeyPress}\n            ref={this.textarea}\n          />\n        </div>\n      );\n    }\n\n    renderDeleteButton() {\n      return (\n        <div className=\"edit-delete\" onClick={this.onDeleteClicked}>\n          <i className=\"fa fa-trash-o\"/>\n          <span>Delete</span>\n        </div>\n      );\n    }\n\n    renderSaveButton() {\n      const {saveDisabled} = this.state;\n\n      return (\n        <div className={'edit-save ' + saveDisabled} onClick={this.onSaveClicked}>\n          <i className=\"fa fa-check\"/>\n          <span>Save</span>\n        </div>\n      );\n    }\n\n    renderEmojiButton() {\n      return (\n        <div className=\"emoji-button\" onClick={this.onEmojiButtonClicked}>\n          <i className=\"fa fa-smile-o\" aria-hidden=\"true\"/>\n        </div>\n      );\n    }\n\n    renderEmojiSelector() {\n      const {isSelectingEmoji} = this.state;\n      if (!isSelectingEmoji) {\n        return null;\n      }\n      return (\n        <EmojiSelector onSelect={this.onEmojiSelected}/>\n      );\n    }\n\n    render() {\n      return (\n        <div className=\"edit-view\">\n          <div className=\"edit-content\">\n            {this.renderTextInput()}\n          </div>\n          {this.renderEmojiSelector()}\n          <div className=\"edit-buttons\">\n            {this.renderDeleteButton()}\n            {this.renderEmojiButton()}\n            {this.renderSaveButton()}\n          </div>\n        </div>\n      );\n    }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport types from 'prop-types';\nimport Scroll from 'react-scroll';\nimport CountdownTimer from './countdown_timer';\nimport RetroItemEditView from './retro_item_edit_view';\n\nexport default class RetroColumnItem extends React.Component {\n  static propTypes = {\n    item: types.object.isRequired,\n    retroId: types.string.isRequired,\n    highlighted_item_id: types.number,\n    retro_item_end_time: types.string,\n    archives: types.bool.isRequired,\n    isMobile: types.bool.isRequired,\n    voteRetroItem: types.func.isRequired,\n    doneRetroItem: types.func.isRequired,\n    undoneRetroItem: types.func.isRequired,\n    highlightRetroItem: types.func.isRequired,\n    unhighlightRetroItem: types.func.isRequired,\n    updateRetroItem: types.func.isRequired,\n    deleteRetroItem: types.func.isRequired,\n    extendTimer: types.func.isRequired,\n    scrollTo: types.func,\n  };\n\n  static defaultProps = {\n    highlighted_item_id: null,\n    retro_item_end_time: '',\n    scrollTo: Scroll.scroller.scrollTo.bind(Scroll.scroller),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditing: false,\n    };\n\n    this.onItemCancelClicked = this.onItemCancelClicked.bind(this);\n    this.onItemDoneClicked = this.onItemDoneClicked.bind(this);\n    this.onItemVoteClicked = this.onItemVoteClicked.bind(this);\n    this.onItemEditClicked = this.onItemEditClicked.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n    this.saveRetroItem = this.saveRetroItem.bind(this);\n    this.onItemClicked = this.onItemClicked.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    /* eslint-disable react/no-find-dom-node */\n    const {item, highlighted_item_id} = prevProps;\n    const wasHighlighted = (highlighted_item_id && highlighted_item_id === item.id);\n    if (this.isHighlighted() && !wasHighlighted) {\n      const windowH = document.body.getBoundingClientRect().height;\n      const itemH = ReactDOM.findDOMNode(this).offsetHeight;\n      this.props.scrollTo(this.domId(), {\n        offset: -(windowH - itemH) / 2,\n        delay: 0,\n        smooth: !document.hidden,\n        duration: 300,\n      });\n    }\n    /* eslint-enable react/no-find-dom-node */\n  }\n\n  domId = () => {\n    const {item} = this.props;\n    return 'retro-item-' + item.id;\n  };\n\n  // boolean checkers\n  isEnabled() {\n    const {item, highlighted_item_id} = this.props;\n    return (!highlighted_item_id || highlighted_item_id === item.id);\n  }\n\n  isHighlighted() {\n    const {item, highlighted_item_id} = this.props;\n    return (highlighted_item_id && highlighted_item_id === item.id);\n  }\n\n  isDone() {\n    const {item} = this.props;\n    return item.done;\n  }\n\n  // event handlers\n  onItemEditClicked(event) {\n    event.stopPropagation();\n    this.setState({isEditing: true});\n  }\n\n  onItemVoteClicked(event) {\n    event.stopPropagation();\n    const {item, retroId, archives} = this.props;\n    if (!this.isDone() && !archives) {\n      this.props.voteRetroItem(retroId, item);\n    }\n  }\n\n  onItemClicked() {\n    this.toggleHighlight();\n  }\n\n  onItemDoneClicked(event) {\n    event.stopPropagation();\n    const {item, retroId, isMobile} = this.props;\n    if (this.isEnabled() && !isMobile) {\n      this.props.doneRetroItem(retroId, item);\n    }\n  }\n\n  onItemCancelClicked(event) {\n    event.stopPropagation();\n    const {item, retroId, isMobile} = this.props;\n    if (this.isEnabled() && this.isDone() && !isMobile) {\n      this.props.undoneRetroItem(retroId, item);\n    } else {\n      this.toggleHighlight();\n    }\n  }\n\n  // private methods\n  getPrimaryClass() {\n    const {item, highlighted_item_id} = this.props;\n    const {isEditing} = this.state;\n    if (item.id === highlighted_item_id) {\n      return ' highlight';\n    }\n    if (item.done === true) {\n      return ' discussed';\n    }\n    if (highlighted_item_id) {\n      return ' lowlight';\n    }\n    if (isEditing) {\n      return ' editing';\n    }\n    return '';\n  }\n\n  toggleHighlight() {\n    const {item, retroId, isMobile, archives} = this.props;\n    const {isEditing} = this.state;\n    if (this.isEnabled() && !isMobile && !archives && !isEditing) {\n      if (this.isHighlighted()) {\n        this.props.unhighlightRetroItem(retroId);\n      } else {\n        this.props.highlightRetroItem(retroId, item);\n      }\n    }\n  }\n\n  saveRetroItem(editedText) {\n    const {retroId, item} = this.props;\n    const {isEditing} = this.state;\n\n    if (isEditing && editedText.trim().length > 0) {\n      this.setState({isEditing: false});\n      this.props.updateRetroItem(retroId, item, editedText);\n    }\n  }\n\n  deleteItem() {\n    const {item, retroId} = this.props;\n    if (this.isEnabled()) {\n      this.props.deleteRetroItem(retroId, item);\n    }\n  }\n\n  // render\n  renderTimer() {\n    const {item, highlighted_item_id, retro_item_end_time, retroId} = this.props;\n    if (item.id === highlighted_item_id) {\n      return (\n        <CountdownTimer endTimestampInMs={Date.parse(retro_item_end_time)} retroId={retroId} extendTimer={this.props.extendTimer}/>\n      );\n    }\n    return null;\n  }\n\n  renderFooter() {\n    const {item, highlighted_item_id} = this.props;\n\n    if (item.id === highlighted_item_id) {\n      return (\n        <div className=\"item-footer\">\n          <br/>\n          <div className=\"retro-item-cancel\" onClick={this.onItemCancelClicked}>Cancel</div>\n          <div className=\"item-done\" onClick={this.onItemDoneClicked}>Done</div>\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  renderVote() {\n    const {isEditing} = this.state;\n    if (isEditing) {\n      return null;\n    }\n\n    return (\n      <div className=\"item-vote\">\n        <div className=\"item-vote-submit\" onClick={this.onItemVoteClicked}>\n          <div className=\"vote-icon\"><i className=\"fa fa-heart\" aria-hidden=\"true\"/></div>\n          <div className=\"vote-count\">{this.props.item.vote_count}</div>\n        </div>\n      </div>\n    );\n  }\n\n  renderEdit() {\n    const {item, archives, highlighted_item_id} = this.props;\n    const {isEditing} = this.state;\n    if (archives || isEditing || highlighted_item_id || item.done) {\n      return null;\n    }\n\n    return (\n      <div className=\"item-edit\" onClick={this.onItemEditClicked}>\n        <i className=\"fa fa-pencil\"/>\n      </div>\n    );\n  }\n\n  renderDescription() {\n    const {item} = this.props;\n\n    return (\n      <div className=\"item-text\">\n        <button type=\"button\">{item.description}</button>\n      </div>\n    );\n  }\n\n  renderDiscussed() {\n    return (\n      <div className=\"item-discussed\">\n        <i className=\"fa fa-check\"/>\n      </div>\n    );\n  }\n\n  render() {\n    const {item} = this.props;\n    const {isEditing} = this.state;\n    let itemContent;\n\n    if (isEditing) {\n      itemContent = (\n        <RetroItemEditView\n          originalText={item.description}\n          deleteItem={this.deleteItem}\n          saveItem={this.saveRetroItem}\n        />\n      );\n    } else {\n      itemContent = (\n        <div className=\"item-content\">\n          {this.renderVote()}\n          {this.renderDescription()}\n          {this.renderTimer()}\n          {this.renderFooter()}\n          {this.renderEdit()}\n          {this.renderDiscussed()}\n        </div>\n      );\n    }\n    return (\n      <div id={this.domId()} key={item.id} className={'retro-item' + this.getPrimaryClass()} onClick={this.onItemClicked}>\n        {itemContent}\n      </div>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/happy.430a82e3.svg\";","export default __webpack_public_path__ + \"static/media/meh.815e585b.svg\";","export default __webpack_public_path__ + \"static/media/sad.252aa130.svg\";","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport RetroColumnInput from './retro_column_input';\nimport RetroColumnItem from './retro_column_item';\nimport happySvg from '../../images/happy.svg';\nimport mehSvg from '../../images/meh.svg';\nimport sadSvg from '../../images/sad.svg';\n\nconst imageMap = new Map();\nimageMap.set('happy', happySvg);\nimageMap.set('meh', mehSvg);\nimageMap.set('sad', sadSvg);\n\nexport default class RetroColumn extends React.Component {\n  static propTypes = {\n    category: types.string.isRequired,\n    retro: types.object.isRequired,\n    retroId: types.string.isRequired,\n    archives: types.bool,\n    isMobile: types.bool.isRequired,\n    voteRetroItem: types.func.isRequired,\n    doneRetroItem: types.func.isRequired,\n    undoneRetroItem: types.func.isRequired,\n    highlightRetroItem: types.func.isRequired,\n    unhighlightRetroItem: types.func.isRequired,\n    updateRetroItem: types.func.isRequired,\n    deleteRetroItem: types.func.isRequired,\n    createRetroActionItem: types.func.isRequired,\n    createRetroItem: types.func.isRequired,\n    extendTimer: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    archives: false,\n  };\n\n  renderRetroItems() {\n    const {\n      archives,\n      retroId,\n      retro: {items, highlighted_item_id, retro_item_end_time},\n      category,\n      isMobile,\n    } = this.props;\n\n    if (!items) {\n      return null;\n    }\n\n    return items\n      .filter((item) => item.category === category)\n      .sort((a, b) => (b.created_at <= a.created_at ? -1 : 1))\n      .map((item) => (\n        <RetroColumnItem\n          key={item.id}\n          retroId={retroId}\n          item={item}\n          highlighted_item_id={highlighted_item_id}\n          retro_item_end_time={retro_item_end_time}\n          archives={archives}\n          isMobile={isMobile}\n          voteRetroItem={this.props.voteRetroItem}\n          doneRetroItem={this.props.doneRetroItem}\n          undoneRetroItem={this.props.undoneRetroItem}\n          highlightRetroItem={this.props.highlightRetroItem}\n          unhighlightRetroItem={this.props.unhighlightRetroItem}\n          updateRetroItem={this.props.updateRetroItem}\n          deleteRetroItem={this.props.deleteRetroItem}\n          extendTimer={this.props.extendTimer}\n        />\n      ));\n  }\n\n  renderColumnHeader() {\n    const {category, isMobile} = this.props;\n    if (isMobile) {\n      return null;\n    }\n    return (\n      <div className=\"retro-item-list-header\">\n        <img src={imageMap.get(category)} alt={category}/>\n      </div>\n    );\n  }\n\n  renderInput() {\n    const {category, retroId, archives} = this.props;\n    if (archives) {\n      return null;\n    }\n    return (\n      <RetroColumnInput\n        retroId={retroId}\n        category={category}\n        createRetroItem={this.props.createRetroItem}\n        createRetroActionItem={this.props.createRetroActionItem}\n      />\n    );\n  }\n\n  render() {\n    const {category} = this.props;\n    return (\n      <div className={'column-' + category}>\n        {\n          this.renderColumnHeader()\n        }\n        {\n          this.renderInput()\n        }\n        {\n          this.renderRetroItems()\n        }\n      </div>\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/action-tick-checked.eafaff95.svg\";","export default __webpack_public_path__ + \"static/media/action-tick-unchecked.585be016.svg\";","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport RetroItemEditView from './retro_item_edit_view';\nimport actionTickCheckedSvg from '../../images/action-tick-checked.svg';\nimport actionTickUncheckedSvg from '../../images/action-tick-unchecked.svg';\n\nexport default class RetroActionsColumnItem extends React.Component {\n  static propTypes = {\n    retroId: types.string.isRequired,\n    action_item: types.object.isRequired,\n    archives: types.bool,\n    doneRetroActionItem: types.func.isRequired,\n    deleteRetroActionItem: types.func.isRequired,\n    editRetroActionItem: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    archives: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditing: false,\n    };\n\n    this.onActionTickClicked = this.onActionTickClicked.bind(this);\n    this.onActionEditClicked = this.onActionEditClicked.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n    this.saveActionItem = this.saveActionItem.bind(this);\n  }\n\n  renderTick() {\n    const {action_item} = this.props;\n\n    const tick = action_item.done ?\n      <img className=\"action-tick-checked\" src={actionTickCheckedSvg} alt=\"Done\"/> :\n      <img className=\"action-tick-unchecked\" src={actionTickUncheckedSvg} alt=\"Not done\"/>;\n    return (\n      <div className=\"action-tick\" onClick={this.onActionTickClicked}>\n        {tick}\n      </div>\n    );\n  }\n\n  renderEditButton() {\n    const {archives} = this.props;\n    if (archives) {\n      return null;\n    }\n    return (\n      <div className=\"action-edit\" onClick={this.onActionEditClicked}>\n        <i className=\"fa fa-pencil\"/>\n      </div>\n    );\n  }\n\n  onActionTickClicked() {\n    const {retroId, action_item} = this.props;\n    this.props.doneRetroActionItem(retroId, action_item.id, !action_item.done);\n  }\n\n  onActionEditClicked() {\n    this.setState({isEditing: true});\n  }\n\n  deleteItem() {\n    const {retroId, action_item} = this.props;\n    this.props.deleteRetroActionItem(retroId, action_item);\n  }\n\n  saveActionItem(editedText) {\n    const {retroId, action_item} = this.props;\n\n    this.setState({isEditing: false});\n    this.props.editRetroActionItem(retroId, action_item.id, editedText);\n  }\n\n  render() {\n    let actionContent;\n    if (this.state.isEditing) {\n      actionContent = (\n        <RetroItemEditView\n          originalText={this.props.action_item.description}\n          deleteItem={this.deleteItem}\n          saveItem={this.saveActionItem}\n        />\n      );\n    } else {\n      actionContent = (\n        <div className=\"action-content\">\n          {this.renderTick()}\n          <div className=\"action-text\">\n            {this.props.action_item.description}\n          </div>\n          {this.renderEditButton()}\n        </div>\n      );\n    }\n\n    return (\n      <div className={`retro-action ${this.state.isEditing ? 'retro-action-edit' : ''}`}>\n        {actionContent}\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport RetroActionsColumnItem from './retro_actions_column_item';\n\nconst monthNames = [\n  'January', 'February', 'March', 'April', 'May', 'June',\n  'July', 'August', 'September', 'October', 'November', 'December',\n];\n\nfunction dateToMillis(date) {\n  return new Date(date).getTime();\n}\n\nexport default class RetroActionsColumn extends React.Component {\n  static propTypes = {\n    category: types.string.isRequired,\n    retro: types.object.isRequired,\n    retroId: types.string.isRequired,\n    archives: types.bool,\n    doneRetroActionItem: types.func.isRequired,\n    deleteRetroActionItem: types.func.isRequired,\n    editRetroActionItem: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    archives: false,\n  };\n\n  renderActionItems() {\n    const {category, archives, retroId, retro: {action_items}} = this.props;\n    const that = this;\n\n    if (!action_items) {\n      return null;\n    }\n\n    return action_items\n      .filter((action_item) => {\n        if (archives) {\n          return category === 'current';\n        }\n        const createdAt = new Date(action_item.created_at);\n        const lastWeekDate = that.getDateOfLatestItemThatIsNotToday();\n\n        if (category === 'current') {\n          return that.isToday(createdAt);\n        }\n\n        if (!lastWeekDate) {\n          return false;\n        }\n        if (category === 'last-week') {\n          return that.isSameDate(lastWeekDate, createdAt);\n        }\n        return createdAt < lastWeekDate;\n      })\n      .sort((a, b) => (dateToMillis(b.created_at) - dateToMillis(a.created_at)))\n      .map((action_item) => (\n        <RetroActionsColumnItem\n          key={action_item.id}\n          retroId={retroId}\n          action_item={action_item}\n          archives={archives}\n          doneRetroActionItem={this.props.doneRetroActionItem}\n          deleteRetroActionItem={this.props.deleteRetroActionItem}\n          editRetroActionItem={this.props.editRetroActionItem}\n        />\n      ));\n  }\n\n  isToday(createdAt) {\n    const date = new Date(Date.now());\n    return this.isSameDate(createdAt, date);\n  }\n\n  isSameDate(a, b) {\n    return a.getFullYear() === b.getFullYear() &&\n      a.getMonth() === b.getMonth() &&\n      a.getDate() === b.getDate();\n  }\n\n  renderCurrentDateString() {\n    const date = new Date(Date.now());\n    return monthNames[date.getMonth()] + ' ' + date.getDate();\n  }\n\n  renderLastWeekDateString() {\n    const date = this.getDateOfLatestItemThatIsNotToday();\n    if (date) {\n      return monthNames[date.getMonth()] + ' ' + date.getDate();\n    }\n    return '';\n  }\n\n  getDateOfLatestItemThatIsNotToday() {\n    const {retro: {action_items = []}} = this.props;\n\n    const timestamps = action_items\n      .filter((action_item) => action_item.created_at)\n      .map((action_item) => new Date(action_item.created_at))\n      .filter((date) => !this.isToday(date))\n      .map((date) => {\n        date.setHours(0, 0, 0, 0);\n        return date.getTime();\n      });\n\n    if (!timestamps.length) {\n      return null;\n    }\n\n    return new Date(Math.max(...timestamps));\n  }\n\n  renderDate() {\n    const {category, archives} = this.props;\n    if (category === 'current') {\n      if (archives) {\n        return 'Completed action items';\n      }\n      return 'Today (' + this.renderCurrentDateString() + ')';\n    }\n\n    if (category === 'last-week') {\n      return this.renderLastWeekDateString();\n    }\n    return archives ? '' : 'Older';\n  }\n\n  render() {\n    const {category} = this.props;\n    return (\n      <div className={'retro-actions-' + category}>\n        <div className=\"retro-action-list-header\">\n          {\n            this.renderDate()\n          }\n        </div>\n        {\n          this.renderActionItems()\n        }\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport RetroActionsColumn from './retro_actions_column';\nimport RetroColumnInput from './retro_column_input';\n\nexport default class RetroActionPanel extends React.Component {\n  static propTypes = {\n    retro: types.object.isRequired,\n    retroId: types.string.isRequired,\n    isMobile: types.bool.isRequired,\n    archives: types.bool.isRequired,\n    createRetroActionItem: types.func.isRequired,\n    createRetroItem: types.func.isRequired,\n    doneRetroActionItem: types.func.isRequired,\n    deleteRetroActionItem: types.func.isRequired,\n    editRetroActionItem: types.func.isRequired,\n  };\n\n  renderActionColumnTitle() {\n    const {isMobile} = this.props;\n    if (isMobile) {\n      return null;\n    }\n    return <h2>Action items</h2>;\n  }\n\n  renderInput() {\n    const {retroId, archives} = this.props;\n    if (archives) {\n      return null;\n    }\n    return (\n      <RetroColumnInput\n        retroId={retroId}\n        category=\"action\"\n        createRetroItem={this.props.createRetroItem}\n        createRetroActionItem={this.props.createRetroActionItem}\n      />\n    );\n  }\n\n  render() {\n    const {retro, retroId, isMobile, archives} = this.props;\n\n    const columns = ['current', 'last-week', 'older'].map((col) => (\n      <RetroActionsColumn\n        key={col}\n        category={col}\n        retro={retro}\n        retroId={retroId}\n        archives={archives}\n        doneRetroActionItem={this.props.doneRetroActionItem}\n        deleteRetroActionItem={this.props.deleteRetroActionItem}\n        editRetroActionItem={this.props.editRetroActionItem}\n      />\n    ));\n    return (\n      <div className={isMobile ? 'column-action' : 'retro-action-panel'}>\n        <div className=\"retro-action-header\">\n          {\n            this.renderActionColumnTitle()\n          }\n          {\n            this.renderInput()\n          }\n        </div>\n\n        <div className=\"retro-action-list\">\n          {columns}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport Logger from '../../helpers/logger';\n\nexport default class RetroCable extends React.Component {\n  static propTypes = {\n    cable: types.object.isRequired,\n    retro_id: types.string.isRequired,\n    websocketRetroDataReceived: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {subscription: null};\n  }\n\n  UNSAFE_componentWillMount() {\n    const {cable, retro_id, websocketRetroDataReceived} = this.props;\n    this.initialize(cable, retro_id, websocketRetroDataReceived);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {cable, retro_id, websocketRetroDataReceived} = nextProps;\n    this.initialize(cable, retro_id, websocketRetroDataReceived);\n  }\n\n  componentWillUnmount() {\n    const {cable} = this.props;\n    cable.connection.close({allowReconnect: false});\n    cable.subscriptions.remove(this.state.subscription);\n  }\n\n  initialize(cable, retro_id, websocketRetroDataReceived) {\n    const {subscription} = this.state;\n    if (cable && !subscription) {\n      this.subscribe(cable, retro_id, localStorage.getItem('apiToken-' + retro_id), websocketRetroDataReceived);\n    }\n  }\n\n\n  onDisconnected(data) {\n    Logger.info('disconnected from actioncable', data);\n  }\n\n  subscribe(cable, retro_id, api_token, websocketRetroDataReceived) {\n    const subscription = cable.subscriptions.create(\n      {channel: 'RetrosChannel', retro_id, api_token},\n      {\n        received: websocketRetroDataReceived,\n        disconnected: this.onDisconnected,\n      },\n    );\n\n    this.setState({subscription});\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport ActionCable from 'actioncable';\nimport RetroCable from './retro_cable';\n\nexport default class RetroWebsocket extends React.Component {\n  static propTypes = {\n    url: types.string.isRequired,\n    retro_id: types.string.isRequired,\n    websocketRetroDataReceived: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {cable: null};\n  }\n\n  UNSAFE_componentWillMount() {\n    const {url} = this.props;\n    this.initialize(url);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {url} = nextProps;\n    this.initialize(url);\n  }\n\n  initialize(url) {\n    this.setState((oldState) => ({\n      cable: oldState.cable || ActionCable.createConsumer(url),\n    }));\n  }\n\n  render() {\n    const {cable} = this.state;\n    const {retro_id} = this.props;\n    if (cable) {\n      return <RetroCable cable={cable} retro_id={retro_id} websocketRetroDataReceived={this.props.websocketRetroDataReceived}/>;\n    }\n    return null;\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\n\nconst LegalBanner = ({config: {terms, privacy}, onDismiss}) => (\n  <div className=\"banner\" style={{display: 'flex'}}>\n    <div className=\"terms-text\">\n      By accessing and using Postfacto, you agree to our\n      {' '}<a href={terms} target=\"_blank\" rel=\"noopener noreferrer\">Terms of Use</a> and\n      {' '}<a href={privacy} target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a> and\n      use of cookies\n    </div>\n    <button className=\"button ok-button\" type=\"button\" onClick={onDismiss}>OK</button>\n  </div>\n);\n\nLegalBanner.propTypes = {\n  config: types.shape({\n    terms: types.string.isRequired,\n    privacy: types.string.isRequired,\n  }).isRequired,\n  onDismiss: types.func.isRequired,\n};\n\nexport default LegalBanner;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport LegalBanner from '../shared/legal_banner';\n\nfunction getDismissedIds() {\n  return JSON.parse(window.localStorage.retroBannersDismissed || '[]');\n}\n\nfunction markAsDismissed(retroId) {\n  const retroBannersDismissed = getDismissedIds();\n  retroBannersDismissed.push(retroId);\n  window.localStorage.retroBannersDismissed = JSON.stringify(retroBannersDismissed);\n}\n\nfunction hasBeenDismissed(retroId) {\n  return getDismissedIds().includes(retroId);\n}\n\nexport default class RetroLegalBanner extends React.PureComponent {\n  static propTypes = {\n    retroId: types.string.isRequired,\n    isPrivate: types.bool,\n    config: types.shape({\n      terms: types.string.isRequired,\n      privacy: types.string.isRequired,\n    }).isRequired,\n  };\n\n  static defaultProps = {\n    isPrivate: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasBeenDismissed: hasBeenDismissed(props.retroId),\n    };\n  }\n\n  onDismiss = () => {\n    markAsDismissed(this.props.retroId);\n\n    this.setState({hasBeenDismissed: true});\n  };\n\n  render() {\n    const {config, isPrivate} = this.props;\n\n    if (this.state.hasBeenDismissed || isPrivate) {\n      return null;\n    }\n\n    return (<LegalBanner config={config} onDismiss={this.onDismiss}/>);\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport Popover from 'material-ui/Popover';\nimport MenuItem from 'material-ui/MenuItem';\nimport {RaisedButton} from 'material-ui';\nimport React from 'react';\nimport types from 'prop-types';\n\nexport default class RetroMenu extends React.Component {\n  static propTypes = {\n    isMobile: types.bool.isRequired,\n    items: types.array.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null,\n      open: false,\n    };\n\n    this.renderMenuItem = this.renderMenuItem.bind(this);\n    this.handleMenuClick = this.handleMenuClick.bind(this);\n    this.handleRequestClose = this.handleRequestClose.bind(this);\n  }\n\n  handleMenuClick(event) {\n    // This prevents ghost click.\n    event.preventDefault();\n    this.setState({\n      open: true,\n      anchorEl: event.currentTarget,\n    });\n  }\n\n  handleRequestClose() {\n    this.setState({\n      open: false,\n    });\n  }\n\n  onClick(menuItem) {\n    menuItem.callback.call(this);\n    this.handleRequestClose();\n  }\n\n  renderMenuItem(item) {\n    let menuItem;\n\n    if (item.button) {\n      menuItem = (\n        <button\n          className=\"retro-menu-item retro-menu-item--button\"\n          type=\"button\"\n          onClick={() => this.onClick(item)}\n        >\n          {item.title}\n        </button>\n      );\n    } else {\n      menuItem = (\n        <MenuItem\n          className=\"retro-menu-item\"\n          primaryText={item.title}\n          onClick={() => this.onClick(item)}\n        />\n      );\n    }\n\n    return (\n      <div key={item.title}>\n        {menuItem}\n      </div>\n    );\n  }\n\n  renderMenuItems() {\n    return this.props.items.map(this.renderMenuItem);\n  }\n\n  render() {\n    const {isMobile, items} = this.props;\n    const {anchorEl, open} = this.state;\n\n    if (items.length === 0) {\n      return null;\n    }\n    return (\n      <div className={isMobile ? 'retro-menu-mobile' : 'retro-menu'}>\n        <RaisedButton\n          className=\"retro-heading-button\"\n          backgroundColor=\"#2574a9\"\n          labelColor=\"#f8f8f8\"\n          onClick={this.handleMenuClick}\n          label=\"MENU\"\n        />\n        <Popover\n          anchorEl={anchorEl}\n          open={open}\n          animated={false}\n          anchorOrigin={{horizontal: 'right', vertical: 'bottom'}}\n          targetOrigin={{horizontal: 'right', vertical: 'top'}}\n          onRequestClose={this.handleRequestClose}\n        >\n          {this.renderMenuItems()}\n        </Popover>\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {FlatButton, FontIcon, RaisedButton} from 'material-ui';\nimport types from 'prop-types';\nimport RetroMenu from '../shared/retro_menu';\n\n// not pure: uses window.localStorage to check login status\nexport default class RetroHeading extends React.Component {\n  static propTypes = {\n    retro: types.object.isRequired,\n    retroId: types.string.isRequired,\n    archives: types.bool.isRequired,\n    isMobile: types.bool.isRequired,\n    routeToRetroArchives: types.func.isRequired,\n    routeToRetroSettings: types.func.isRequired,\n    requireRetroLogin: types.func.isRequired,\n    showDialog: types.func.isRequired,\n    signOut: types.func.isRequired,\n    viewedMagicLink: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onArchivesButtonClicked = this.onArchivesButtonClicked.bind(this);\n    this.handleArchiveRetro = this.handleArchiveRetro.bind(this);\n    this.handleShareRetro = this.handleShareRetro.bind(this);\n    this.handleViewArchives = this.handleViewArchives.bind(this);\n    this.handleRetroSettings = this.handleRetroSettings.bind(this);\n  }\n\n  onArchivesButtonClicked() {\n    const {retroId} = this.props;\n    this.props.routeToRetroArchives(retroId);\n  }\n\n  renderBackButton() {\n    const {archives, isMobile} = this.props;\n    if (!archives) {\n      return null;\n    }\n    return (\n      <div className=\"small-2 columns back-button\">\n        <FlatButton\n          className=\"retro-back\"\n          onClick={this.onArchivesButtonClicked}\n          label=\"Archives\"\n          labelStyle={isMobile ? {'display': 'none'} : {}}\n          icon={<FontIcon className=\"fa fa-chevron-left\"/>}\n        />\n      </div>\n    );\n  }\n\n  renderShareButton() {\n    const {retro} = this.props;\n    if (!retro.join_token) {\n      return null;\n    }\n    return (\n      <RaisedButton\n        className=\"retro-heading-button share-button\"\n        backgroundColor=\"#2574a9\"\n        labelColor=\"#f8f8f8\"\n        label=\"SHARE\"\n        onClick={this.handleShareRetro}\n      />\n    );\n  }\n\n  handleArchiveRetro() {\n    this.props.showDialog({\n      title: 'You\\'re about to archive this retro.',\n      message: 'Are you sure?',\n      type: 'ARCHIVE_RETRO',\n    });\n  }\n\n  handleShareRetro() {\n    this.props.viewedMagicLink(this.props.retroId);\n    this.props.showDialog({\n      type: 'SHARE_RETRO',\n    });\n  }\n\n  handleViewArchives() {\n    const {retroId} = this.props;\n    this.props.routeToRetroArchives(retroId);\n  }\n\n  handleRetroSettings() {\n    const {retroId} = this.props;\n\n    if (window.localStorage.getItem(`apiToken-${retroId}`) !== null) {\n      this.props.routeToRetroSettings(retroId);\n    } else {\n      this.props.requireRetroLogin(retroId);\n    }\n  }\n\n  getMenuItems() {\n    const {archives, retro} = this.props;\n    const items = [\n      {\n        title: 'Archive this retro',\n        callback: this.handleArchiveRetro,\n        isApplicable: !archives && retro.items && retro.items.length > 0,\n        button: true,\n      },\n      {\n        title: 'View archives',\n        callback: this.handleViewArchives,\n        isApplicable: !archives && retro.archives && retro.archives.length > 0,\n      },\n      {\n        title: 'Retro settings',\n        callback: this.handleRetroSettings,\n        isApplicable: true,\n      },\n      {\n        title: 'Sign out',\n        callback: this.props.signOut,\n        isApplicable: window.localStorage.length > 0,\n      },\n    ];\n\n    return items.filter((item) => item.isApplicable);\n  }\n\n  render() {\n    const {retro, isMobile} = this.props;\n\n    return (\n      <div className=\"retro-heading\">\n        {this.renderBackButton()}\n        <span className=\"retro-heading-content\">\n          <div className=\"retro-name\">\n            <h1>{retro.name}</h1>\n          </div>\n          <div className=\"retro-heading-buttons\">\n            {this.renderShareButton()}\n            {\n              retro.video_link ? (\n                <RaisedButton\n                  className=\"retro-heading-button video-button\"\n                  backgroundColor=\"#2574a9\"\n                  labelColor=\"#f8f8f8\"\n                  href={retro.video_link}\n                  target=\"_blank\"\n                  label=\"VIDEO\"\n                />\n              ) : null\n            }\n\n            <RetroMenu isMobile={isMobile} items={this.getMenuItems()}/>\n          </div>\n        </span>\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nexport default function EmptyPage() {\n  return <div/>;\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport Toggle from 'material-ui/Toggle';\nimport Dialog from 'material-ui/Dialog';\nimport {DEFAULT_TOGGLE_STYLE} from '../shared/constants';\n\nexport default class ArchiveRetroDialog extends React.Component {\n  static propTypes = {\n    title: types.string.isRequired,\n    message: types.string.isRequired,\n    retro: types.object.isRequired,\n    onClose: types.func.isRequired,\n    featureFlags: types.object.isRequired,\n    toggleSendArchiveEmail: types.func.isRequired,\n    archiveRetro: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.handleArchiveEmailPreferenceChange = this.handleArchiveEmailPreferenceChange.bind(this);\n    this.handleArchiveRetroConfirmation = this.handleArchiveRetroConfirmation.bind(this);\n  }\n\n  handleArchiveEmailPreferenceChange() {\n    this.props.toggleSendArchiveEmail(!this.props.retro.send_archive_email);\n  }\n\n  handleArchiveRetroConfirmation() {\n    this.props.archiveRetro(this.props.retro);\n    this.props.onClose();\n  }\n\n  render() {\n    const toggle = DEFAULT_TOGGLE_STYLE;\n\n    const archiveButton = (\n      <button\n        className=\"archive-dialog__actions--archive\"\n        type=\"button\"\n        onClick={this.handleArchiveRetroConfirmation}\n      >\n        {this.props.retro.send_archive_email && this.props.featureFlags.archiveEmails ? 'Archive & send email' : 'Archive'}\n      </button>\n    );\n\n    const cancelButton = (\n      <button\n        className=\"archive-dialog__actions--cancel\"\n        type=\"button\"\n        onClick={this.props.onClose}\n      >\n        Cancel\n      </button>\n    );\n\n    return (\n      <Dialog\n        title={this.props.title}\n        actions={[cancelButton, archiveButton]}\n        open\n        onRequestClose={this.props.onClose}\n        actionsContainerClassName=\"archive-dialog__actions\"\n        contentClassName=\"archive-dialog\"\n      >\n        <p>{this.props.message}</p>\n        {\n          this.props.featureFlags.archiveEmails ? (\n            <div>\n              <label className=\"label\" htmlFor=\"send_archive_email\">Send action items to the team via email?</label>\n\n              <Toggle\n                id=\"send_archive_email\"\n                name=\"sendArchiveEmail\"\n                label={this.props.retro.send_archive_email ? 'Yes' : 'No'}\n                toggled={this.props.retro.send_archive_email}\n                labelPosition=\"right\"\n                onToggle={this.handleArchiveEmailPreferenceChange}\n                trackStyle={toggle.trackStyle}\n                trackSwitchedStyle={toggle.trackSwitchedStyle}\n                labelStyle={toggle.labelStyle}\n                thumbStyle={toggle.thumbStyle}\n                thumbSwitchedStyle={toggle.thumbSwitchedStyle}\n                iconStyle={toggle.iconStyle}\n              />\n            </div>\n          ) : null\n        }\n      </Dialog>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport Dialog from 'material-ui/Dialog';\n\nexport default class ShareRetroDialog extends React.Component {\n  static propTypes = {\n    retroId: types.string.isRequired,\n    retro: types.shape({\n      join_token: types.string,\n    }).isRequired,\n    onClose: types.func.isRequired,\n    copiedMagicLink: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.retroUrl = `${window.location.origin}/retros/${this.props.retroId}/join/${this.props.retro.join_token}`;\n    this.copyRetroUrl = this.copyRetroUrl.bind(this);\n  }\n\n  copyRetroUrl() {\n    const textToCopy = document.querySelector('#share-retro-url');\n\n    textToCopy.select();\n    textToCopy.setSelectionRange(0, 99999); /* For mobile devices */\n\n    document.execCommand('copy');\n    this.props.copiedMagicLink(this.props.retroId);\n  }\n\n  render() {\n    const closeButton = (\n      <button\n        className=\"share-dialog__actions--close\"\n        type=\"button\"\n        onClick={this.props.onClose}\n      >\n        Close\n      </button>\n    );\n\n    return (\n      <Dialog\n        title=\"Invite others to this retro\"\n        actions={[closeButton]}\n        open\n        onRequestClose={this.props.onClose}\n        actionsContainerClassName=\"share-dialog__actions\"\n        contentClassName=\"share-dialog\"\n      >\n        Copy this link and send it to your team mates\n        <div className=\"share-retro-url-wrapper\">\n          <input name=\"share-retro-url\" readOnly id=\"share-retro-url\" type=\"text\" value={this.retroUrl}/>\n          <div className=\"share-retro-url-copy\" onClick={this.copyRetroUrl}>\n            <i className=\"fa fa-copy\"/>\n          </div>\n        </div>\n      </Dialog>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\n\nimport {HotKeys} from 'react-hotkeys';\nimport {connect} from 'react-redux';\nimport RetroColumn from './retro_column';\nimport RetroActionPanel from './retro_action_panel';\nimport RetroWebsocket from './retro_websocket';\nimport RetroFooter from '../shared/footer';\nimport RetroLegalBanner from './retro_legal_banner';\nimport RetroHeading from './retro_heading';\n\nimport EmptyPage from '../shared/empty_page';\n\nimport {\n  archiveRetro,\n  createRetroActionItem,\n  createRetroItem,\n  deleteRetroActionItem,\n  deleteRetroItem,\n  doneRetroActionItem,\n  doneRetroItem,\n  editRetroActionItem,\n  extendTimer,\n  getRetro,\n  getRetroArchive,\n  highlightRetroItem,\n  nextRetroItem,\n  undoneRetroItem,\n  unhighlightRetroItem,\n  updateRetroItem,\n  voteRetroItem,\n} from '../../redux/actions/api_actions';\nimport {\n  clearDialog,\n  currentRetroSendArchiveEmailUpdated,\n  currentRetroUpdated,\n  forceRelogin,\n  showDialog,\n  signOut,\n} from '../../redux/actions/main_actions';\nimport {retroArchives, retroLogin, retroSettings} from '../../redux/actions/router_actions';\nimport {websocketUrl} from '../../helpers/websockets';\nimport ArchiveRetroDialog from './archive_retro_dialog';\nimport ShareRetroDialog from './share_retro_dialog';\nimport {\n  copiedMagicLink,\n  viewedMagicLink,\n} from '../../redux/actions/analytics_actions';\n\nfunction getItemArchiveTime(item) {\n  if (!item.archived_at) {\n    return null;\n  }\n  return new Date(item.archived_at).getTime();\n}\n\nclass ShowRetroPage extends React.Component {\n  static propTypes = {\n    retro: types.object.isRequired,\n    retro_archives: types.object,\n    retroId: types.string.isRequired,\n    config: types.object.isRequired,\n    archives: types.bool.isRequired,\n    archiveId: types.string,\n    featureFlags: types.object.isRequired,\n    dialog: types.shape({\n      title: types.string,\n      message: types.string,\n      type: types.string,\n    }),\n    environment: types.shape({\n      isMobile640: types.bool,\n    }).isRequired,\n    getRetroArchive: types.func.isRequired,\n    getRetro: types.func.isRequired,\n    nextRetroItem: types.func.isRequired,\n    archiveRetro: types.func.isRequired,\n    hideDialog: types.func.isRequired,\n    toggleSendArchiveEmail: types.func.isRequired,\n    routeToRetroArchives: types.func.isRequired,\n    routeToRetroSettings: types.func.isRequired,\n    requireRetroLogin: types.func.isRequired,\n    showDialog: types.func.isRequired,\n    signOut: types.func.isRequired,\n    voteRetroItem: types.func.isRequired,\n    doneRetroItem: types.func.isRequired,\n    undoneRetroItem: types.func.isRequired,\n    highlightRetroItem: types.func.isRequired,\n    unhighlightRetroItem: types.func.isRequired,\n    updateRetroItem: types.func.isRequired,\n    deleteRetroItem: types.func.isRequired,\n    createRetroActionItem: types.func.isRequired,\n    createRetroItem: types.func.isRequired,\n    doneRetroActionItem: types.func.isRequired,\n    deleteRetroActionItem: types.func.isRequired,\n    editRetroActionItem: types.func.isRequired,\n    viewedMagicLink: types.func.isRequired,\n    copiedMagicLink: types.func.isRequired,\n    extendTimer: types.func.isRequired,\n    websocketRetroDataReceived: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    retro_archives: null,\n    archiveId: null,\n    dialog: null,\n  };\n\n  // Component Lifecycle\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentMobileCategory: 'happy',\n      filtered_retro_archive: {},\n    };\n\n    this.handleArchiveRetroConfirmation = this.handleArchiveRetroConfirmation.bind(this);\n    this.handleArchiveEmailPreferenceChange = this.handleArchiveEmailPreferenceChange.bind(this);\n    this.moveToNextItem = this.moveToNextItem.bind(this);\n  }\n\n  UNSAFE_componentWillMount() {\n    const {retroId, archiveId, retro_archives, archives} = this.props;\n\n    this.fetchRetros(retroId, archives, archiveId);\n    this.initializeArchivesState(retro_archives, archives);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {retroId, archiveId, retro_archives, archives} = nextProps;\n\n    if (archives !== this.props.archives) {\n      this.fetchRetros(retroId, archives, archiveId);\n    }\n    this.initializeArchivesState(retro_archives, archives);\n  }\n\n  // Calculate if mobile\n\n  // Fetch Retro or archive data\n\n  fetchRetros(retroId, archives, archiveId) {\n    if (archives) {\n      this.props.getRetroArchive(retroId, archiveId);\n    } else {\n      this.props.getRetro(retroId);\n    }\n  }\n\n  // Filter archive data\n  initializeArchivesState(retro_archives, archives) {\n    if (archives) {\n      this.setState({filtered_retro_archive: this.filterRetroArchives(retro_archives)});\n    }\n  }\n\n  filterRetroArchives(retro) {\n    const {items = [], action_items = []} = retro;\n    const archivesTimestamps = [...items, ...action_items]\n      .map(getItemArchiveTime)\n      .filter((time) => (time !== null));\n\n    if (archivesTimestamps.length === 0) {\n      return retro;\n    }\n\n    const latestTimestamp = Math.max(...archivesTimestamps);\n    return Object.assign({}, retro, {\n      items: this.filterItemByTimestamp(items, latestTimestamp),\n      action_items: this.filterItemByTimestamp(action_items, latestTimestamp),\n    });\n  }\n\n  filterItemByTimestamp(items, timestamp) {\n    return items.filter((item) => getItemArchiveTime(item) === timestamp);\n  }\n\n  moveToNextItem(event) {\n    if (event.target.type === 'textarea') {\n      return;\n    }\n    const {retro} = this.props;\n    this.props.nextRetroItem(retro);\n  }\n\n  // Handle events\n  onMobileTabClick(category) {\n    this.setState({currentMobileCategory: category});\n  }\n\n  handleArchiveRetroConfirmation() {\n    this.props.archiveRetro(this.props.retro);\n    this.props.hideDialog();\n  }\n\n  handleArchiveEmailPreferenceChange() {\n    this.props.toggleSendArchiveEmail(!this.props.retro.send_archive_email);\n  }\n\n  renderColumnMobile(retro) {\n    const {archives, retroId} = this.props;\n    const {currentMobileCategory} = this.state;\n\n    if (currentMobileCategory === 'action') {\n      return (\n        <RetroActionPanel\n          retro={retro}\n          retroId={retroId}\n          isMobile\n          archives={archives}\n          createRetroItem={this.props.createRetroItem}\n          createRetroActionItem={this.props.createRetroActionItem}\n          doneRetroActionItem={this.props.doneRetroActionItem}\n          deleteRetroActionItem={this.props.deleteRetroActionItem}\n          editRetroActionItem={this.props.editRetroActionItem}\n        />\n      );\n    }\n    return (\n      <RetroColumn\n        category={currentMobileCategory}\n        retro={retro}\n        retroId={retroId}\n        archives={archives}\n        isMobile\n        voteRetroItem={this.props.voteRetroItem}\n        doneRetroItem={this.props.doneRetroItem}\n        undoneRetroItem={this.props.undoneRetroItem}\n        highlightRetroItem={this.props.highlightRetroItem}\n        unhighlightRetroItem={this.props.unhighlightRetroItem}\n        updateRetroItem={this.props.updateRetroItem}\n        deleteRetroItem={this.props.deleteRetroItem}\n        createRetroItem={this.props.createRetroItem}\n        createRetroActionItem={this.props.createRetroActionItem}\n        extendTimer={this.props.extendTimer}\n      />\n    );\n  }\n\n  renderDialog() {\n    const dialogType = this.props.dialog ? this.props.dialog.type : '';\n\n    switch (dialogType) {\n      case 'ARCHIVE_RETRO':\n        return (\n          <ArchiveRetroDialog\n            title={this.props.dialog.title}\n            message={this.props.dialog.message}\n            retro={this.props.retro}\n            featureFlags={this.props.featureFlags}\n            toggleSendArchiveEmail={this.props.toggleSendArchiveEmail}\n            archiveRetro={this.props.archiveRetro}\n            onClose={this.props.hideDialog}\n          />\n        );\n      case 'SHARE_RETRO':\n        return (\n          <ShareRetroDialog\n            retro={this.props.retro}\n            retroId={this.props.retroId}\n            onClose={this.props.hideDialog}\n            copiedMagicLink={this.props.copiedMagicLink}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n\n  renderMobile(retro) {\n    const {config, retroId, archives} = this.props;\n\n    return (\n      <span>\n        <RetroWebsocket url={websocketUrl(config)} retro_id={retroId} websocketRetroDataReceived={this.props.websocketRetroDataReceived}/>\n        {this.renderDialog()}\n        <div className={archives ? 'mobile-display archived' : 'mobile-display'}>\n\n          <RetroLegalBanner retroId={retroId} isPrivate={retro.is_private} config={config}/>\n\n          <RetroHeading\n            retro={retro}\n            retroId={retroId}\n            isMobile\n            archives={archives}\n            routeToRetroArchives={this.props.routeToRetroArchives}\n            routeToRetroSettings={this.props.routeToRetroSettings}\n            requireRetroLogin={this.props.requireRetroLogin}\n            showDialog={this.props.showDialog}\n            signOut={this.props.signOut}\n            viewedMagicLink={this.props.viewedMagicLink}\n          />\n\n          <div className=\"mobile-tabs\">\n            <div className=\"mobile-tabs-list\">\n              <div\n                className=\"mobile-tab-happy\"\n                onClick={() => this.onMobileTabClick('happy')}\n              >\n                Happy\n              </div>\n              <div\n                className=\"mobile-tab-meh\"\n                onClick={() => this.onMobileTabClick('meh')}\n              >\n                Meh\n              </div>\n              <div\n                className=\"mobile-tab-sad\"\n                onClick={() => this.onMobileTabClick('sad')}\n              >\n                Sad\n              </div>\n              <div\n                className=\"mobile-tab-action\"\n                onClick={() => this.onMobileTabClick('action')}\n              >\n                Action\n              </div>\n            </div>\n          </div>\n          {this.renderColumnMobile(retro)}\n          <RetroFooter config={config}/>\n        </div>\n      </span>\n    );\n  }\n\n  renderDesktop(retro) {\n    const {config, retroId, archives} = this.props;\n\n    let retroContainerClasses = 'full-height full-height-retro';\n\n    if (archives) {\n      retroContainerClasses += ' archived';\n    }\n\n    const keyMap = {\n      'next': 'right',\n    };\n\n    const keyHandlers = {\n      'next': this.moveToNextItem,\n    };\n\n    return (\n      <HotKeys keyMap={keyMap} handlers={keyHandlers}>\n        <span>\n          <RetroWebsocket url={websocketUrl(config)} retro_id={retroId} websocketRetroDataReceived={this.props.websocketRetroDataReceived}/>\n          {this.renderDialog()}\n          <div className={retroContainerClasses}>\n\n            <RetroLegalBanner retroId={retroId} isPrivate={retro.is_private} config={config}/>\n\n            <RetroHeading\n              retro={retro}\n              retroId={retroId}\n              isMobile={false}\n              archives={archives}\n              routeToRetroArchives={this.props.routeToRetroArchives}\n              routeToRetroSettings={this.props.routeToRetroSettings}\n              requireRetroLogin={this.props.requireRetroLogin}\n              showDialog={this.props.showDialog}\n              signOut={this.props.signOut}\n              viewedMagicLink={this.props.viewedMagicLink}\n            />\n            <div className=\"retro-item-list\">\n              <RetroColumn\n                category=\"happy\"\n                retro={retro}\n                retroId={retroId}\n                archives={archives}\n                isMobile={false}\n                voteRetroItem={this.props.voteRetroItem}\n                doneRetroItem={this.props.doneRetroItem}\n                undoneRetroItem={this.props.undoneRetroItem}\n                highlightRetroItem={this.props.highlightRetroItem}\n                unhighlightRetroItem={this.props.unhighlightRetroItem}\n                updateRetroItem={this.props.updateRetroItem}\n                deleteRetroItem={this.props.deleteRetroItem}\n                createRetroItem={this.props.createRetroItem}\n                createRetroActionItem={this.props.createRetroActionItem}\n                extendTimer={this.props.extendTimer}\n              />\n              <RetroColumn\n                category=\"meh\"\n                retro={retro}\n                retroId={retroId}\n                archives={archives}\n                isMobile={false}\n                voteRetroItem={this.props.voteRetroItem}\n                doneRetroItem={this.props.doneRetroItem}\n                undoneRetroItem={this.props.undoneRetroItem}\n                highlightRetroItem={this.props.highlightRetroItem}\n                unhighlightRetroItem={this.props.unhighlightRetroItem}\n                updateRetroItem={this.props.updateRetroItem}\n                deleteRetroItem={this.props.deleteRetroItem}\n                createRetroItem={this.props.createRetroItem}\n                createRetroActionItem={this.props.createRetroActionItem}\n                extendTimer={this.props.extendTimer}\n              />\n              <RetroColumn\n                category=\"sad\"\n                retro={retro}\n                retroId={retroId}\n                archives={archives}\n                isMobile={false}\n                voteRetroItem={this.props.voteRetroItem}\n                doneRetroItem={this.props.doneRetroItem}\n                undoneRetroItem={this.props.undoneRetroItem}\n                highlightRetroItem={this.props.highlightRetroItem}\n                unhighlightRetroItem={this.props.unhighlightRetroItem}\n                updateRetroItem={this.props.updateRetroItem}\n                deleteRetroItem={this.props.deleteRetroItem}\n                createRetroItem={this.props.createRetroItem}\n                createRetroActionItem={this.props.createRetroActionItem}\n                extendTimer={this.props.extendTimer}\n              />\n            </div>\n            <RetroActionPanel\n              retro={retro}\n              retroId={retroId}\n              isMobile={false}\n              archives={archives}\n              createRetroItem={this.props.createRetroItem}\n              createRetroActionItem={this.props.createRetroActionItem}\n              doneRetroActionItem={this.props.doneRetroActionItem}\n              deleteRetroActionItem={this.props.deleteRetroActionItem}\n              editRetroActionItem={this.props.editRetroActionItem}\n            />\n            <RetroFooter config={config}/>\n          </div>\n        </span>\n      </HotKeys>\n    );\n  }\n\n  render() {\n    const {retro, archives, environment} = this.props;\n    const {filtered_retro_archive} = this.state;\n    const retro_object = archives ? filtered_retro_archive : retro;\n    if (!(retro_object && retro_object.id)) {\n      return (<EmptyPage/>);\n    }\n    if (environment.isMobile640) {\n      return this.renderMobile(retro_object);\n    }\n    return this.renderDesktop(retro_object);\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  retro: state.retro.currentRetro,\n  retro_archives: state.retro.currentArchivedRetro,\n  dialog: state.messages.dialog,\n  featureFlags: state.config.featureFlags,\n  environment: state.config.environment,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  getRetroArchive: (retroId, archiveId) => dispatch(getRetroArchive(retroId, archiveId)),\n  getRetro: (retroId) => dispatch(getRetro(retroId)),\n  nextRetroItem: (retro) => dispatch(nextRetroItem(retro)),\n  archiveRetro: (retro) => dispatch(archiveRetro(retro)),\n  hideDialog: () => dispatch(clearDialog()),\n  toggleSendArchiveEmail: (send) => dispatch(currentRetroSendArchiveEmailUpdated(send)),\n  routeToRetroArchives: (retroId) => dispatch(retroArchives(retroId)),\n  routeToRetroSettings: (retroId) => dispatch(retroSettings(retroId)),\n  requireRetroLogin: (retroId) => dispatch(retroLogin(retroId)),\n  showDialog: (dialog) => dispatch(showDialog(dialog)),\n  signOut: () => dispatch(signOut()),\n  voteRetroItem: (retroId, item) => dispatch(voteRetroItem(retroId, item)),\n  doneRetroItem: (retroId, item) => dispatch(doneRetroItem(retroId, item)),\n  undoneRetroItem: (retroId, item) => dispatch(undoneRetroItem(retroId, item)),\n  highlightRetroItem: (retroId, item) => dispatch(highlightRetroItem(retroId, item)),\n  unhighlightRetroItem: (retroId) => dispatch(unhighlightRetroItem(retroId)),\n  updateRetroItem: (retroId, item, description) => dispatch(updateRetroItem(retroId, item, description)),\n  deleteRetroItem: (retroId, item) => dispatch(deleteRetroItem(retroId, item)),\n  createRetroActionItem: (retroId, description) => dispatch(createRetroActionItem(retroId, description)),\n  createRetroItem: (retroId, category, description) => dispatch(createRetroItem(retroId, category, description)),\n  doneRetroActionItem: (retroId, actionItemId, done) => dispatch(doneRetroActionItem(retroId, actionItemId, done)),\n  deleteRetroActionItem: (retroId, actionItem) => dispatch(deleteRetroActionItem(retroId, actionItem)),\n  editRetroActionItem: (retroId, actionItemId, description) => dispatch(editRetroActionItem(retroId, actionItemId, description)),\n  viewedMagicLink: (retroId) => dispatch(viewedMagicLink(retroId)),\n  copiedMagicLink: (retroId) => dispatch(copiedMagicLink(retroId)),\n  extendTimer: (retroId) => dispatch(extendTimer(retroId)),\n  websocketRetroDataReceived: (data) => {\n    if (data.command === 'force_relogin') {\n      dispatch(forceRelogin(data.payload.originator_id, data.payload.retro.slug));\n    } else {\n      dispatch(currentRetroUpdated(data.retro));\n    }\n  },\n});\n\nconst ConnectedShowRetroPage = connect(mapStateToProps, mapDispatchToProps)(ShowRetroPage);\nexport {ShowRetroPage, ConnectedShowRetroPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport FlatButton from 'material-ui/FlatButton';\nimport FontIcon from 'material-ui/FontIcon';\nimport React from 'react';\nimport types from 'prop-types';\nimport Toggle from 'material-ui/Toggle';\nimport {connect} from 'react-redux';\nimport RetroMenu from '../shared/retro_menu';\nimport EmptyPage from '../shared/empty_page';\nimport {DEFAULT_TOGGLE_STYLE, MAX_SLUG_LENGTH, VALID_SLUG_REGEX} from '../shared/constants';\nimport iconLockedSvg from '../../images/icon-locked.svg';\nimport iconEyeSvg from '../../images/icon-eye.svg';\nimport {getRetroSettings, updateRetroSettings} from '../../redux/actions/api_actions';\nimport {clearErrors, signOut} from '../../redux/actions/main_actions';\nimport {retroPasswordSettings, showRetroForId} from '../../redux/actions/router_actions';\n\nfunction getStateUpdateFor(retro, errors) {\n  const stateUpdate = {};\n  if (retro) {\n    stateUpdate.name = retro.name;\n    stateUpdate.slug = retro.slug;\n    stateUpdate.isPrivate = retro.is_private;\n    stateUpdate.video_link = retro.video_link;\n    stateUpdate.isMagicLinkEnabled = retro.join_token !== null;\n  }\n\n  if (errors) {\n    stateUpdate.errors = {\n      name: errors.name,\n      slug: errors.slug,\n    };\n  } else {\n    stateUpdate.errors = {};\n  }\n\n  return stateUpdate;\n}\n\nclass ShowRetroSettingsPage extends React.Component {\n  static propTypes = {\n    errors: types.object,\n    retro: types.object,\n    retroId: types.string.isRequired,\n    session: types.object,\n    environment: types.shape({\n      isMobile640: types.bool,\n    }).isRequired,\n    clearErrors: types.func.isRequired,\n    showRetroForId: types.func.isRequired,\n    updateRetroSettings: types.func.isRequired,\n    routeToRetroPasswordSettings: types.func.isRequired,\n    getRetroSettings: types.func.isRequired,\n    signOut: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    errors: null,\n    retro: null,\n    session: null,\n  };\n\n  // Component Lifecycle\n\n  constructor(props) {\n    super(props);\n\n    const {retro, errors} = props;\n    this.state = Object.assign(\n      {\n        isPrivate: false,\n        name: '',\n        slug: '',\n        video_link: '',\n        isMagicLinkEnabled: false,\n        errors: {},\n      },\n      getStateUpdateFor(retro, errors),\n    );\n\n    this.handleBackButtonClicked = this.handleBackButtonClicked.bind(this);\n    this.onChangeName = this.onChange.bind(this, 'name');\n    this.onChangeSlug = this.onChange.bind(this, 'slug');\n    this.onChangeVideo = this.onChange.bind(this, 'video_link');\n    this.handleChangePasswordClick = this.handleChangePasswordClick.bind(this);\n    this.togglePrivate = this.togglePrivate.bind(this);\n    this.handleRetroSettingsSubmit = this.handleRetroSettingsSubmit.bind(this);\n  }\n\n  UNSAFE_componentWillMount() {\n    this.getSettings(this.props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {retro, errors} = nextProps;\n    this.setState(getStateUpdateFor(retro, errors));\n  }\n\n  componentWillUnmount() {\n    this.props.clearErrors();\n  }\n\n  handleBackButtonClicked() {\n    const {retroId} = this.props;\n    this.props.showRetroForId(retroId);\n  }\n\n  validateName(value) {\n    if (!value) {\n      return 'Your project needs a name!';\n    }\n    return '';\n  }\n\n  validateSlug(value) {\n    if (!value) {\n      return 'Your project needs a URL!';\n    }\n\n    if (value.length > MAX_SLUG_LENGTH) {\n      return 'Your URL is too long!';\n    }\n\n    if (!value.match(VALID_SLUG_REGEX)) {\n      return 'Your URL should only contain letters, numbers or hyphens!';\n    }\n\n    return '';\n  }\n\n  onChange(field, e) {\n    const value = e.target.value;\n\n    const errors = {};\n\n    if (field === 'name') {\n      errors.name = this.validateName(value);\n    }\n\n    if (field === 'slug') {\n      errors.slug = this.validateSlug(value);\n    }\n\n    this.setState((oldState) => ({\n      [field]: value,\n      errors: Object.assign({}, oldState.errors, errors),\n    }));\n  }\n\n  handleRetroSettingsSubmit() {\n    const {retroId, retro, session} = this.props;\n    const {name, slug, isPrivate, video_link, isMagicLinkEnabled} = this.state;\n    const errors = {\n      name: this.validateName(name),\n      slug: this.validateSlug(slug),\n    };\n\n    if (!errors.name && !errors.slug) {\n      this.props.updateRetroSettings(\n        retroId, name,\n        slug,\n        retro.slug,\n        isPrivate,\n        session.request_uuid,\n        video_link,\n        isMagicLinkEnabled,\n      );\n    } else {\n      this.setState({errors});\n    }\n  }\n\n  handleChangePasswordClick(e) {\n    e.preventDefault();\n\n    this.props.routeToRetroPasswordSettings(this.props.retroId);\n  }\n\n  // Fetch Retro\n\n  getSettings(props) {\n    const {retroId} = props;\n    this.props.getRetroSettings(retroId);\n  }\n\n  // Render\n  renderBackButton() {\n    const {environment} = this.props;\n    const isMobile = environment.isMobile640;\n\n    return (\n      <FlatButton\n        className=\"retro-back\"\n        onClick={this.handleBackButtonClicked}\n        label=\"Back\"\n        labelStyle={isMobile ? {'display': 'none'} : {}}\n        icon={<FontIcon className=\"fa fa-chevron-left\"/>}\n      />\n    );\n  }\n\n  togglePrivate = () => {\n    this.setState((oldState) => ({\n      isPrivate: !oldState.isPrivate,\n    }));\n  };\n\n  toggleMagicLinkEnabled = () => {\n    this.setState((oldState) => ({\n      isMagicLinkEnabled: !oldState.isMagicLinkEnabled,\n    }));\n  };\n\n  renderAccessInstruction() {\n    const accessPrivate = (\n      <div>\n        <img className=\"icon-locked\" src={iconLockedSvg} alt=\"Locked\"/>\n        {' '}The password is needed to view or participate.\n      </div>\n    );\n    const accessPublic = (\n      <div>\n        <img className=\"icon-locked\" src={iconEyeSvg} alt=\"Unlocked\"/>\n        {' '}Anyone can view or participate <strong>without</strong> entering password.\n      </div>\n    );\n\n    return (\n      <div className=\"access-instruction\">\n        {this.state.isPrivate ? accessPrivate : accessPublic}\n\n        <br/>\n        Password is always required to: <br/>\n        <img className=\"icon-locked\" src={iconLockedSvg} alt=\"Locked\"/> Access archives<br/>\n        <img className=\"icon-locked\" src={iconLockedSvg} alt=\"Locked\"/> Edit settings\n\n      </div>\n    );\n  }\n\n  getMenuItems() {\n    const items = [\n      {title: 'Sign out', callback: this.props.signOut, isApplicable: window.localStorage.length > 0},\n    ];\n\n    return items.filter((item) => item.isApplicable);\n  }\n\n  getCurrentHost() {\n    return window.location.origin.split('://')[1];\n  }\n\n  render() {\n    const {retro, retroId, environment} = this.props;\n    const isMobile = environment.isMobile640;\n    const {errors} = this.state;\n    const toggle = DEFAULT_TOGGLE_STYLE;\n\n    const retroContainerClasses = isMobile ? 'full-height mobile-display' : 'full-height';\n\n    if (!(retro && retro.id)) {\n      return (<EmptyPage/>);\n    }\n\n    return (\n      <span className=\"retro-settings-page\">\n        <div className={retroContainerClasses}>\n          <div className=\"retro-heading row\">\n            <div className=\"small-2 columns back-button\">\n              {this.renderBackButton()}\n            </div>\n            <h1 className=\"small-8 text-center retro-name\">\n              {retro.name}\n            </h1>\n            <div className=\"small-2 menu end\">\n              <RetroMenu isMobile={false} items={this.getMenuItems()}/>\n            </div>\n          </div>\n          <div>\n            <div className=\"retro-settings large-12 medium-12 columns\">\n              <div className=\"medium-8 small-12 columns\">\n                <div className=\"row\">\n                  <h1 className=\"retro-settings-header\">Settings</h1>\n                </div>\n\n                <div className=\"row\">\n                  <label className=\"label\">Project name</label>\n                  <input\n                    id=\"retro_name\"\n                    value={this.state.name}\n                    type=\"text\"\n                    name=\"name\"\n                    className={`form-input ${errors.name ? 'input-error' : ''}`}\n                    onChange={this.onChangeName}\n                    placeholder=\"\"\n                  />\n                  <div className=\"error-message\">{errors.name}</div>\n                </div>\n\n                <div className=\"row\">\n                  <label className=\"label\">Project URL</label>\n                  <div className=\"input-group retro-url\">\n                    <span className=\"input-group-label retro-url-prefix\">{this.getCurrentHost()}/retros/</span>\n                    <input\n                      id=\"retro_url\"\n                      value={this.state.slug}\n                      type=\"text\"\n                      name=\"slug\"\n                      className={`input-group-field form-input ${errors.slug ? 'input-error' : ''}`}\n                      onChange={this.onChangeSlug}\n                      placeholder=\"\"\n                    />\n                  </div>\n\n                  <div className=\"error-message\">{errors.slug}</div>\n                </div>\n\n\n                <div className=\"row\">\n                  <label className=\"label\">Video URL</label>\n                  <input\n                    id=\"retro_video_link\"\n                    name=\"video_link\"\n                    value={this.state.video_link}\n                    type=\"text\"\n                    onChange={this.onChangeVideo}\n                    className=\"form-input\"\n                    placeholder=\"\"\n                  />\n                </div>\n\n                <div className=\"row\" onClick={this.handleChangePasswordClick}>\n                  <a id=\"retro-password-settings\" href={`/retros/${retroId}/settings/password`}>Change password</a>\n                </div>\n\n                <div className=\"row\">\n                  <label className=\"label\" htmlFor=\"retro_is_private\">\n                    Do people need the password to <strong>access</strong> this retro?\n                  </label>\n\n                  <Toggle\n                    id=\"retro_is_private\"\n                    name=\"isPrivate\"\n                    label={this.state.isPrivate ? 'Yes' : 'No'}\n                    toggled={this.state.isPrivate}\n                    labelPosition=\"right\"\n                    onToggle={this.togglePrivate}\n                    trackStyle={toggle.trackStyle}\n                    trackSwitchedStyle={toggle.trackSwitchedStyle}\n                    labelStyle={toggle.labelStyle}\n                    thumbStyle={toggle.thumbStyle}\n                    thumbSwitchedStyle={toggle.thumbSwitchedStyle}\n                    iconStyle={toggle.iconStyle}\n                  />\n                  {this.renderAccessInstruction()}\n                </div>\n\n                <div className=\"row\">\n                  <label\n                    className=\"label\"\n                    htmlFor=\"retro_is_magic_link_enabled\"\n                  >Can participants share this retro using a magic link?\n                  </label>\n\n                  <Toggle\n                    id=\"retro_is_magic_link_enabled\"\n                    name=\"isMagicLinkEnabled\"\n                    label={this.state.isMagicLinkEnabled ? 'Yes' : 'No'}\n                    toggled={this.state.isMagicLinkEnabled}\n                    labelPosition=\"right\"\n                    onToggle={this.toggleMagicLinkEnabled}\n                    trackStyle={toggle.trackStyle}\n                    trackSwitchedStyle={toggle.trackSwitchedStyle}\n                    labelStyle={toggle.labelStyle}\n                    thumbStyle={toggle.thumbStyle}\n                    thumbSwitchedStyle={toggle.thumbSwitchedStyle}\n                    iconStyle={toggle.iconStyle}\n                  />\n\n                  <div className=\"access-instruction\">\n                    This will provide a magic link that allows users to access this retro without\n                    being prompted for a password. This is not the same as making a retro public.\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <button\n                    className=\"retro-settings-form-submit button\"\n                    type=\"submit\"\n                    onClick={this.handleRetroSettingsSubmit}\n                  >\n                    Save changes\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </span>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  retro: state.retro.currentRetro,\n  errors: state.messages.errors,\n  session: state.user.websocketSession,\n  environment: state.config.environment,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearErrors: () => dispatch(clearErrors()),\n  showRetroForId: (retroId) => dispatch(showRetroForId(retroId)),\n  updateRetroSettings: (retroId, retroName, newSlug, oldSlug, isPrivate, requestUuid, videoLink, isMagicLinkEnabled) => dispatch(updateRetroSettings(retroId, retroName, newSlug, oldSlug, isPrivate, requestUuid, videoLink, isMagicLinkEnabled)),\n  routeToRetroPasswordSettings: (retroId) => dispatch(retroPasswordSettings(retroId)),\n  getRetroSettings: (retroId) => dispatch(getRetroSettings(retroId)),\n  signOut: () => dispatch(signOut()),\n});\n\nconst ConnectedShowRetroSettingsPage = connect(mapStateToProps, mapDispatchToProps)(ShowRetroSettingsPage);\nexport {ShowRetroSettingsPage, ConnectedShowRetroSettingsPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport FlatButton from 'material-ui/FlatButton';\nimport FontIcon from 'material-ui/FontIcon';\nimport React from 'react';\nimport types from 'prop-types';\nimport {connect} from 'react-redux';\nimport RetroMenu from '../shared/retro_menu';\nimport EmptyPage from '../shared/empty_page';\nimport {getRetroSettings, updateRetroPassword} from '../../redux/actions/api_actions';\nimport {clearErrors, signOut} from '../../redux/actions/main_actions';\nimport {showRetroForId} from '../../redux/actions/router_actions';\n\nclass ShowRetroPasswordSettingsPage extends React.Component {\n  static propTypes = {\n    retro: types.object,\n    retroId: types.string.isRequired,\n    session: types.object,\n    errors: types.shape({\n      current_password: types.string,\n    }),\n    environment: types.shape({\n      isMobile640: types.bool,\n    }).isRequired,\n    getRetroSettings: types.func.isRequired,\n    clearErrors: types.func.isRequired,\n    showRetroForId: types.func.isRequired,\n    updateRetroPassword: types.func.isRequired,\n    signOut: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    retro: null,\n    session: null,\n    errors: null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      current_password: '',\n      confirm_new_password: '',\n      new_password: '',\n      errors: {\n        confirm_new_password: '',\n        current_password: '',\n      },\n    };\n\n    this.handleBackButtonClicked = this.handleBackButtonClicked.bind(this);\n    this.onCurrentPasswordChange = this.onChange.bind(this, 'current_password');\n    this.onNewPasswordChange = this.onChange.bind(this, 'new_password');\n    this.onConfirmPasswordChange = this.onChange.bind(this, 'confirm_new_password');\n    this.handleSubmitButtonClicked = this.handleSubmitButtonClicked.bind(this);\n  }\n\n  UNSAFE_componentWillMount() {\n    const {retroId} = this.props;\n    this.props.getRetroSettings(retroId);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: {\n          current_password: nextProps.errors.current_password,\n        },\n      });\n    } else {\n      this.setState({errors: {}});\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.clearErrors();\n  }\n\n  handleBackButtonClicked() {\n    const {retroId} = this.props;\n    this.props.showRetroForId(retroId);\n  }\n\n  handleSubmitButtonClicked() {\n    const errors = {};\n\n    if (this.state.new_password !== this.state.confirm_new_password) {\n      errors.confirm_new_password = 'Your passwords do not match!';\n    } else {\n      errors.confirm_new_password = '';\n\n      this.props.updateRetroPassword(this.props.retroId, this.state.current_password, this.state.new_password, this.props.session.request_uuid);\n    }\n\n    this.setState((oldState) => ({\n      errors: Object.assign({}, oldState.errors, errors),\n    }));\n  }\n\n  onChange(field, e) {\n    const value = e.target.value;\n\n    this.setState({[field]: value});\n  }\n\n  // Render\n  renderBackButton() {\n    const {environment} = this.props;\n    const isMobile = environment.isMobile640;\n\n    return (\n      <FlatButton\n        className=\"retro-back\"\n        onClick={this.handleBackButtonClicked}\n        label=\"Back\"\n        labelStyle={isMobile ? {'display': 'none'} : {}}\n        icon={<FontIcon className=\"fa fa-chevron-left\"/>}\n      />\n    );\n  }\n\n  getMenuItems() {\n    const items = [\n      {title: 'Sign out', callback: this.props.signOut, isApplicable: window.localStorage.length > 0},\n    ];\n\n    return items.filter((item) => item.isApplicable);\n  }\n\n  render() {\n    const {retro, environment} = this.props;\n    const isMobile = environment.isMobile640;\n    const {errors} = this.state;\n    const retroContainerClasses = isMobile ? 'full-height mobile-display' : 'full-height';\n\n    if (!(retro && retro.id)) {\n      return (<EmptyPage/>);\n    }\n\n    return (\n      <span className=\"retro-settings-page\">\n        <div className={retroContainerClasses}>\n          <div className=\"retro-heading row\">\n            <div className=\"small-2 columns back-button\">\n              {this.renderBackButton()}\n            </div>\n            <h1 className=\"small-8 text-center retro-name\">\n              {retro.name}\n            </h1>\n            <div className=\"small-2 menu end\">\n              <RetroMenu isMobile={false} items={this.getMenuItems()}/>\n            </div>\n          </div>\n          <div>\n            <div className=\"retro-settings large-12 medium-12 columns\">\n              <div className=\"medium-8 small-12 columns\">\n                <div className=\"row\">\n                  <h1 className=\"retro-settings-header\">Change password</h1>\n                </div>\n\n                <div className=\"row\">\n                  <label className=\"label\">Current password</label>\n                  <input\n                    id=\"retro_current_password\"\n                    type=\"password\"\n                    name=\"current_password\"\n                    onChange={this.onCurrentPasswordChange}\n                    className={`form-input ${errors.current_password ? 'input-error' : ''}`}\n                    placeholder=\"Current password\"\n                  />\n                  <div className=\"error-message\">{errors.current_password}</div>\n\n                  <label className=\"label\">New password</label>\n                  <input\n                    id=\"retro_new_password\"\n                    type=\"password\"\n                    name=\"new_password\"\n                    onChange={this.onNewPasswordChange}\n                    placeholder=\"New password\"\n                  />\n\n                  <label className=\"label\">Confirm new password</label>\n                  <input\n                    id=\"retro_confirm_new_password\"\n                    type=\"password\"\n                    name=\"confirm_new_password\"\n                    onChange={this.onConfirmPasswordChange}\n                    className={`form-input ${errors.confirm_new_password ? 'input-error' : ''}`}\n                    placeholder=\"New password again\"\n                  />\n                  <div className=\"error-message\">{errors.confirm_new_password}</div>\n                </div>\n\n                <div className=\"row reminder\">\n                  <em>Remember to let your team know the new password{this.props.retro.join_token ? ' and magic link' : ''}!</em>\n                </div>\n\n                <div className=\"row actions\">\n                  <button\n                    type=\"submit\"\n                    className=\"retro-settings-form-submit button\"\n                    style={{fontSize: '1.1rem'}}\n                    onClick={this.handleSubmitButtonClicked}\n                  >\n                    Save new password\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </span>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  retro: state.retro.currentRetro,\n  errors: state.messages.errors,\n  session: state.user.websocketSession,\n  environment: state.config.environment,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  getRetroSettings: (retroId) => dispatch(getRetroSettings(retroId)),\n  clearErrors: () => dispatch(clearErrors()),\n  showRetroForId: (retroId) => dispatch(showRetroForId(retroId)),\n  updateRetroPassword: (retroId, currentPassword, newPassword, requestUuid) => dispatch(updateRetroPassword(retroId, currentPassword, newPassword, requestUuid)),\n  signOut: () => dispatch(signOut()),\n});\n\nconst ConnectedShowRetroPasswordSettingsPage = connect(mapStateToProps, mapDispatchToProps)(ShowRetroPasswordSettingsPage);\nexport {ShowRetroPasswordSettingsPage, ConnectedShowRetroPasswordSettingsPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport {connect} from 'react-redux';\nimport {getRetroLogin, loginToRetro} from '../../redux/actions/api_actions';\n\nclass LoginToRetroPage extends React.Component {\n  static propTypes = {\n    retro: types.object.isRequired,\n    retroId: types.string.isRequired,\n    // eslint-disable-next-line react/no-unused-prop-types\n    errors: types.object,\n    force_relogin: types.bool,\n    config: types.shape({\n      terms: types.string.isRequired,\n      privacy: types.string.isRequired,\n    }).isRequired,\n    getRetroLogin: types.func.isRequired,\n    loginToRetro: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    errors: {login_error_message: ''},\n    force_relogin: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      password: '',\n      errors: [],\n      inputStyle: '',\n    };\n\n    this.onInputFocus = this.onInputFocus.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onKeyPress = this.onKeyPress.bind(this);\n    this.onLoginClicked = this.onLoginClicked.bind(this);\n  }\n\n  componentDidMount() {\n    const {retroId} = this.props;\n\n    if (retroId) {\n      this.props.getRetroLogin(retroId);\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {login_error_message} = nextProps.errors;\n\n    this.setState({\n      errors: [login_error_message],\n      inputStyle: login_error_message ? 'input-error' : '',\n    });\n  }\n\n  onInputChange(event) {\n    this.setState({password: event.target.value});\n  }\n\n  onInputFocus() {\n    this.setState({errors: [], inputStyle: ''});\n  }\n\n  onLoginClicked() {\n    this.loginToRetro();\n  }\n\n  onKeyPress(event) {\n    if (event.key === 'Enter' && event.target.value) {\n      this.loginToRetro();\n    }\n  }\n\n  loginToRetro() {\n    const {retroId} = this.props;\n    this.props.loginToRetro(retroId, this.state.password);\n    this.setState({password: ''});\n  }\n\n  pageTitle() {\n    const {force_relogin} = this.props;\n    return force_relogin ? 'The owner of this retro has chosen to protect it with a password.' : 'Psst... what\\'s the password?';\n  }\n\n  render() {\n    const {retro: {name}, config} = this.props;\n    const {errors, inputStyle} = this.state;\n    if (!name) {\n      return null;\n    }\n    return (\n      <div className=\"password-page\">\n        <div className=\"row\" style={{marginTop: '180px'}}>\n          <div className=\"small-centered medium-8 small-10 columns\">\n            <div className=\"field row\">\n              <h1>{this.pageTitle()}</h1>\n              <label className=\"label\">Enter the password to access {name}.</label>\n              <input\n                className={`form-input ${inputStyle}`}\n                placeholder=\"Password\"\n                type=\"password\"\n                value={this.state.password}\n                onFocus={this.onInputFocus}\n                onChange={this.onInputChange}\n                onKeyPress={this.onKeyPress}\n                required\n                autoFocus\n                autoComplete=\"off\"\n              />\n              <p className=\"password-terms-text\">\n                By logging in, you agree to our\n                {' '}<a href={config.terms} target=\"_blank\">Terms of Use</a> and\n                {' '}<a href={config.privacy} target=\"_blank\">Privacy Policy</a> and\n                use of cookies.\n              </p>\n              <div className=\"error-message\">{errors}</div>\n            </div>\n            <div className=\"actions row\">\n              <button\n                type=\"submit\"\n                className=\"retro-form-submit expanded button\"\n                style={{fontSize: '1.1rem'}}\n                onClick={this.onLoginClicked}\n              >\n                Login\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  errors: state.messages.errors,\n  retro: state.retro.currentRetro,\n});\n\n\nconst mapDispatchToProps = (dispatch) => ({\n  getRetroLogin: (retroId) => dispatch(getRetroLogin(retroId)),\n  loginToRetro: (retroId, password) => dispatch(loginToRetro(retroId, password)),\n});\n\nconst ConnectedLoginToRetroPage = connect(mapStateToProps, mapDispatchToProps)(LoginToRetroPage);\nexport {LoginToRetroPage, ConnectedLoginToRetroPage};\n","export default __webpack_public_path__ + \"static/media/face-dead.becf8ac4.svg\";","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport types from 'prop-types';\nimport faceDeadSvg from '../../images/face-dead.svg';\nimport {setNotFound} from '../../redux/actions/main_actions';\n\nexport default class ApiServerNotFoundPage extends React.PureComponent {\n  static propTypes = {\n    resetApiServerNotFound: types.func.isRequired,\n  };\n\n\n  componentWillUnmount() {\n    this.props.resetApiServerNotFound();\n  }\n\n  render() {\n    return (\n      <div className=\"error-page\">\n        <div className=\"row\" style={{marginTop: '180px'}}>\n          <div className=\"small-centered medium-8 small-10 columns\">\n            <div className=\"image\">\n              <img src={faceDeadSvg} alt=\"Error\"/>\n            </div>\n            <h1>Oh no! It's broken</h1>\n            <p>Try refreshing the page, or come back later.</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  resetApiServerNotFound: () => dispatch(setNotFound({api_server_not_found: false})),\n});\n\nconst ConnectedApiServerNotFoundPage = connect(null, mapDispatchToProps)(ApiServerNotFoundPage);\nexport {ApiServerNotFoundPage, ConnectedApiServerNotFoundPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport types from 'prop-types';\nimport {setNotFound} from '../../redux/actions/main_actions';\nimport {newRetro} from '../../redux/actions/router_actions';\n\nexport default class RetroNotFoundPage extends React.Component {\n  static propTypes = {\n    resetRetroNotFound: types.func.isRequired,\n    redirectToRetroCreatePage: types.func.isRequired,\n  };\n\n  componentWillUnmount() {\n    this.props.resetRetroNotFound();\n  }\n\n  onCreateNewRetroClicked = () => {\n    this.props.redirectToRetroCreatePage();\n  };\n\n  render() {\n    return (\n      <div className=\"error-page\">\n        <div className=\"row\" style={{marginTop: '180px'}}>\n          <div className=\"small-centered medium-8 small-10 columns\">\n            <h1>Project not found.</h1>\n            <p>Unfortunately, we couldn't find that project. If you've created a project already, double-check your URL.</p>\n            <p>If you haven't created a project, why don't you create one?</p>\n            <div className=\"row\">\n              <button\n                className=\"retro-form-submit expanded button\"\n                type=\"button\"\n                style={{fontSize: '1.1rem'}}\n                onClick={this.onCreateNewRetroClicked}\n              >\n                Create a Project\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  resetRetroNotFound: () => dispatch(setNotFound({retro_not_found: false})),\n  redirectToRetroCreatePage: () => dispatch(newRetro()),\n});\n\nconst ConnectedRetroNotFoundPage = connect(null, mapDispatchToProps)(RetroNotFoundPage);\nexport {RetroNotFoundPage, ConnectedRetroNotFoundPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport types from 'prop-types';\nimport {setNotFound} from '../../redux/actions/main_actions';\nimport {newRetro} from '../../redux/actions/router_actions';\n\nexport default class NotFoundPage extends React.PureComponent {\n  static propTypes = {\n    resetNotFound: types.func.isRequired,\n    navigateNewRetro: types.func.isRequired,\n  };\n\n  componentWillUnmount() {\n    this.props.resetNotFound();\n  }\n\n  onCreateNewRetroClicked = () => {\n    this.props.navigateNewRetro();\n  };\n\n  render() {\n    return (\n      <div className=\"error-page\">\n        <div className=\"row\" style={{marginTop: '180px'}}>\n          <div className=\"small-centered medium-8 small-10 columns\">\n            <h1>Oops... Looks like the page you're looking for doesn't exist.</h1>\n            <p>Perhaps you were trying to do this?</p>\n            <div className=\"row\">\n              <button\n                className=\"retro-form-submit expanded button\"\n                type=\"button\"\n                style={{fontSize: '1.1rem'}}\n                onClick={this.onCreateNewRetroClicked}\n              >Create a Project\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  resetNotFound: () => dispatch(setNotFound({not_found: false})),\n  navigateNewRetro: () => dispatch(newRetro()),\n});\n\nconst ConnectedNotFoundPage = connect(null, mapDispatchToProps)(NotFoundPage);\n\nexport {NotFoundPage, ConnectedNotFoundPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport RetroFooter from '../shared/footer';\n\nconst NewTermsPage = ({config}) => (\n  <div id=\"new-terms\" className=\"terms\">\n    <div className=\"simple-text-page\">\n      <h1>Postfacto Services Agreement</h1>\n\n      <ol start=\"1\">\n        <li>Postfacto is the retrospective management tool operated by Pivotal Software, Inc. if you are accessing the Service Offering from the United States or Mexico, or Pivotal Software International if you are accessing from outside the USA and Mexico (\"<strong>Pivotal</strong>\"\n          ). By using or accessing any of the services offered at <a href=\"https://postfacto.io\" target=\"_blank\">https://postfacto.io</a>&nbsp;\n          (\"<strong>Service Offering(s)</strong>\"), you agree to be bound by the terms of use between you and Pivotal (the \"<strong>Postfacto Agreement</strong>\"\n          ) and the <strong>Terms of Use</strong>&nbsp;posted at <a href=\"https://pivotal.io/terms-of-use\" target=\"_blank\">https://pivotal.io/terms-of-use</a>, as may be updated by Pivotal from time to time&nbsp;\n          (\"<strong>Terms of Use</strong>\"), which are incorporated herein by reference. Unless otherwise indicated, capitalized terms have the meaning stated in the Terms of Use. If You do not agree to this Postfacto Agreement, you must not use or access the Service Offering. If you are accepting this Postfacto Agreement on behalf of an Organization (and not for you as individual), you represent and warrant that you have legal authority to bind that Organization, and you hereby enter into this Postfacto Agreement on behalf of that Organization.&nbsp;\"You\" or \"your\" means the entity accepting this Postfacto Agreement and the individual accepting this Postfacto Agreement on behalf of the entity.\n        </li>\n\n        <li><h2>Definitions</h2>\n          <ol>\n            <li>\"<strong>Confidential Information</strong>\" means information, software and materials provided by Pivotal to you, including software, information and materials of third parties, which are in tangible form and labeled \"\n              confidential\" or the like, or, information which a reasonable person knew or should have known to be confidential. The following information shall be considered our Confidential Information whether or not marked or identified as such: login credentials, software, technical information and documentation relating to the Service Offerings that is not otherwise made generally available to the public by Pivotal.\n            </li>\n            <li><strong>\"Content\"</strong>&nbsp;means any and all applications, files, information, data, software, or other content uploaded to, published or displayed through the Service Offerings.\n            </li>\n            <li>\"<strong>Login Credentials</strong>\"\n              mean any passwords, API tokens or other security credentials that enable your access to the Service Offering.\n            </li>\n            <li>\"<strong>Organization</strong>\" means the entity that is accepting this Postfacto Agreement.\n            </li>\n            <li>\"<strong>Retro</strong>\" means a place to organize and collaborate around information in the form of retro items and action items. Depending on retro access settings, users can view and participate in a retro with or without entering a password.\n            </li>\n            <li>\"<strong>Retro Owner</strong>\" means a specific person, identified by their UserID, that has administrative rights to a Retro.\n            </li>\n            <li><strong>\"Retro Participant&quot;</strong>&nbsp;means a specific person that has been given access to view and participate in a Retro via a URL.\n            </li>\n            <li>\"<strong>Relationship Data</strong>\" means personal information that we collect during the registration, activation and maintenance of your user profile and/or account. It may include without limitation names and contact details of Your personnel involved in using the Service Offering. Relationship Data does not include information collected through the publicly accessible portions of our webpages, which is subject to the Privacy Policy&nbsp;\n              posted at <a href=\"https://pivotal.io/privacy-policy\" target=\"_blank\">https://pivotal.io/privacy-policy</a>.\n            </li>\n            <li>\"<strong>Services Description(s)</strong>\" means any description of or information about the Service Offerings made available to you through this site or any usage or access instructions that we provide to you and which we may modify from time to time.\n            </li>\n            <li>\"<strong>Subscription Term</strong>\" means the one year time period during which you are provided access to the Service Offerings, which starts on the date you sign up for the Service Offering.\n            </li>\n            <li>\"<strong>Third Party Content</strong>\" means third party data, Content, services, or applications, including open source software.\n            </li>\n            <li>\"<strong>Third Party Terms</strong>\" means the then-current version of the third-party terms applicable to any Third Party Content.\n            </li>\n            <li>\"<strong>Usage Data</strong>\" means information regarding Your use of the Service Offerings, such as application activity, as well as collaborator and retro counts.\n            </li>\n            <li>\"<strong>User</strong>\" means an Organization or individual that subscribes to the Service Offering.\n            </li>\n            <li>\"<strong>UserID</strong>\" means the email by which you identify your User Profile.</li>\n            <li>\"<strong>User Profile</strong>\" means the your profile information including full name, email and other Login Credentials, provided to us by you and updated by you periodically.\n            </li>\n            <li>\"<strong>Your Content</strong>\" means any Content published or displayed through the Service Offerings by you, or your authorized users (or otherwise through your account). Your Content includes Relationship Data, but does not include Usage Data.\n            </li>\n          </ol>\n        </li>\n\n        <li><h2>The Service Offerings</h2>\n          <ol>\n            <li><strong>Generally</strong>&nbsp;. All access to, and use of, any Service Offerings are subject to the terms and conditions of this Postfacto Agreement. We may deliver the Service Offering to you with the assistance of our affiliates, licensors and service providers. You will comply with all laws, rules and regulations applicable to your use of the Service Offering, Third Party Terms, and the Service Descriptions.\n            </li>\n            <li><strong>Access to the Service Offering.</strong>&nbsp;You may access and use the Service Offering for solely your own benefit (or the benefit of your Organization). In order to create a retro, You must register for the Service Offering and set up an authorized User Profile. You shall keep your Login Credentials confidential, User Profile accurate, complete and current as long as you continue to use the Service Offering. You may not share Login Credentials with other users. You are responsible for any use that occurs under your Login Credentials. If you believe an unauthorized user has gained access to your Login Credentials, you shall notify us immediately. Neither we nor our affiliates are responsible for any unauthorized access to or use of your account. In order to view and participate in a retro, You do not need a User Profile. You are responsible for managing access settings to the retros you create.\n            </li>\n            <li><strong>Beta Features.</strong>&nbsp;We may make certain features or functionality within the Service Offering available to you on a beta basis. We provide these beta features and functions on an \"\n              AS-IS\" basis without indemnification or support and disclaim all warranties of any kind (including warranties of merchantability, fitness for a particular purposes, and non-infringement), express or implied. Any beta features or functionality made available to you for evaluation do not constitute an implied commitment to offer to you or anyone such features and functionality as part of the Service Offering on a generally available basis.\n            </li>\n            <li><strong>Relationship Data.</strong>&nbsp;We may collect Relationship Data. You agree that we may use and disclose Relationship Data to manage your account, send you notifications, deliver services or information, improve and develop new products and services, monitor compliance and provide support. We may further use and share Relationship Data to provide the Service Offering to you, including sharing with our affiliates as described above and entities who provide payment processing and other services to us necessary to enable us to support the Service Offering, and as required by applicable law.\n            </li>\n            <li>\n              <strong>Usage Data.</strong>&nbsp;We may generate, collect, store and use Usage Data for any purpose. You agree that, as between you and Pivotal, Pivotal owns all such Usage Data. By way of example, we use Usage Data to track and manage our infrastructure, network storage, and software for billing, capacity planning and other product forecasting, improvement and development purposes. We may further share Usage Data with our affiliates and third party providers to fulfill our contractual obligations such as software license consumption and reporting. You agree that we may use, analyze, and otherwise perform any operations on or in connection with Relationship Data, Usage Data and Your Content to provide the services to which you have subscribed under this Postfacto Agreement. Without limiting the foregoing, unless prohibited by applicable law, we may aggregate Usage Data such that it is not reasonably identifiable with or to the customer to which it relates (\"<strong>Aggregate Data</strong>\"\n              ). We may use and disclose Aggregate Data for any purpose.\n            </li>\n            <li><strong>Disclosure of Data and Your Content.</strong>&nbsp;You agree that Pivotal may disclose Your Content, Relationship Data and Usage Data in the following circumstances:\n              <ol>\n                <li>to our affiliates and other entities of the Pivotal group of companies worldwide for the purposes set forth in this Postfacto Agreement;\n                </li>\n                <li>to Pivotal&rsquo;s third-party service providers worldwide who provide services such as website hosting, data analysis, payment processing, order fulfillment, information technology and related infrastructure provision, customer service, email delivery, credit card processing, auditing and other similar services;\n                </li>\n                <li>to a third party in the event of any reorganization, merger, sale, joint venture, assignment, transfer or other disposition of all or any portion of Pivotal&rsquo;\n                  s business, assets or stock (including in connection with any bankruptcy or similar proceedings); and\n                </li>\n                <li>as Pivotal believes to be necessary or appropriate:\n                  <ol>\n                    <li>under applicable law, including laws outside your country of residence; </li>\n                    <li>to comply with legal process;</li>\n                    <li>to respond to requests from public and government authorities including public and government authorities outside your country of residence;\n                    </li>\n                    <li>to enforce this Postfacto Agreement;</li>\n                    <li>to protect Pivotal&rsquo;s operations or those of any of its affiliates; </li>\n                    <li>to protect Pivotal&rsquo;s rights, privacy, safety or property, and/or that of Pivotal&rsquo;s affiliates, You or others; and\n                    </li>\n                    <li>to allow Pivotal to pursue available remedies or limit the damages that Pivotal may sustain.\n                    </li>\n                  </ol>\n                </li>\n              </ol>\n            </li>\n            <li>In case of transfer of your personal data as defined by applicable data privacy laws to outside of the European Economic Area (\"<strong>EEA</strong>\"\n              ) or access of such data from outside the EEA we will apply reasonable legal protection. Such protection may for example include the implementation of European Commission (\"<strong>EU</strong>\"\n              ) Standard Contractual Clauses as published by the EU Commission or our membership to Safe Harbor, an agreement between the U.S. Department of Commerce and the EU Commission for transfers from the EEA to the United States.\n            </li>\n          </ol>\n        </li>\n\n        <li><h2>Your Content</h2>\n          <ol>\n            <li><strong>Access to Your Content.</strong>&nbsp;You are solely responsible for your Content. We are only acting as a passive conduit for the online distribution and publication of your Content. The Service Offering performs operations on, and distributes, your Content. You and your authorized users retain all of your respective rights, title and interest in and to your Content. Our rights to access and use your Content are limited to those expressly granted in this Postfacto Agreement. No other rights with respect to your Content are implied. In terms of applicable data privacy laws we are acting as a data processor on your (the data controller&rsquo;\n              s) behalf regarding your content to the extent it constitutes personal data as per the applicable privacy laws.\n            </li>\n            <li><strong>Security.</strong>&nbsp;You are responsible for protecting the security of your Content, including any access you might provide to your Content by your employees, customers or other third parties. You will properly configure and use the Service Offering so that it is suitable for your use. You will protect the privacy of any of your users&rsquo;\n              data (including by implementation of a privacy policy that complies with applicable law), provide any necessary notices to your users, and obtain any legally-required consents from your users concerning your use of the Service Offering. You are responsible for complying with any laws or regulations that might apply to the your Content and you understand that the Service Offering is not intended for data regulated by the Health Insurance Portability and Accountability Act (\"<strong>HIPAA</strong>\"\n              ). You are responsible for any consequences if your Content is inadvertently exposed or lost and you have not encrypted, backed up or otherwise taken steps required by the relevant laws or regulations to protect your Content. Pivotal will use commercially reasonable efforts to notify you of any inadvertent exposure or loss, taking into account any applicable law, regulation, or governmental request.\n            </li>\n            <li><strong>Transfer of Your Content.</strong>&nbsp;You consent that we may store your Content in the United States or any other country in which we have a data center in our discretion. By uploading your Content into the Service Offering, you may transfer and access your Content from around the world, including to and from the United States. To the extent you provide your Content in connection with customer support, you consent that we may handle your Content in any country in which we or our agents maintain facilities. It is your responsibility to ensure that you comply with applicable law when you transfer data across geographies.\n            </li>\n          </ol>\n        </li>\n\n        <li><h2>Acceptable Use</h2>\n          <ol>\n            <li><strong>Content Restrictions.</strong>&nbsp;You will not, and you will take steps to ensure that your authorized users and third party users who access any service you provide with the Service Offering do not, post Content that:\n              <ol>\n                <li>may create a risk of harm, loss, physical or mental injury, emotional distress, death, disability, disfigurement, or physical or mental illness to an authorized user, or any other person or entity;\n                </li>\n                <li>may create a risk of any other loss or damage to any person or property;</li>\n                <li>may constitute or contribute to a crime or tort;</li>\n                <li>contains any information or content that is unlawful, harmful, abusive, racially or ethnically offensive, defamatory, infringing, invasive of personal privacy or publicity rights, harassing, humiliating to other people (publicly or otherwise), libelous, threatening, or otherwise objectionable;\n                </li>\n                <li>contains any information or content that is illegal; or </li>\n                <li>contains any information or content that you do not have a right to make available under any law or under contractual or fiduciary relationships.\n                </li>\n              </ol>\n            </li>\n            <li>You represent and warrant that the Content does not and will not violate third-party rights of any kind, including without limitation any Intellectual Property Rights, and rights of publicity and privacy. You shall ensure that your use of the Service Offering complies at all times with your privacy policies and all applicable local, state, federal and international laws and regulations, including any encryption requirements.\n            </li>\n            <li><strong>Violations of Acceptable Use.</strong>&nbsp;If You become aware that any of your Content or your user&rsquo;\n              s use of your Content violates this Postfacto Agreement, you shall immediately suspend or remove the applicable Content or suspend the end user&rsquo;\n              s access. If you fail to do so, we may ask you to do so. If you fail to comply with our request, we may suspend your account or disable the applicable Content until you comply with our request.\n            </li>\n          </ol>\n        </li>\n\n        <li><h2>Ownership of Service Offering and Rights to Feedback.</h2>\n          <ol>\n            <li><strong>Ownership of Service Offering. </strong>We and our licensors own and retain all right, title and interest in and to the Service Offering, including all improvements, enhancements, modifications and derivative works thereof, and all Intellectual Property Rights therein. This includes any information that we collect and analyze in connection with the Service Offering, such as usage patterns, user feedback and other information to improve and evolve our products and services offerings. Your rights to use the Service Offering are limited to those expressly granted in this Postfacto Agreement. No other rights with respect to the Service Offering or any related Intellectual Property Rights are implied.\n            </li>\n            <li><strong>Feedback</strong>. If you provide comments, suggestions or other feedback to us regarding the Service Offering or Pivotal&rsquo;\n              s technology or business (the \"<strong>Feedback</strong>\"), you agree that we will be free to use any Feedback You provide for any purpose. You hereby grant to us a non-exclusive, perpetual, irrevocable, royalty-free, transferable, worldwide right and license, with the right to grant and authorize sublicenses, to use, reproduce, perform, display, disclose, distribute, modify, prepare derivative works of and otherwise use the Feedback without restriction in any manner now known or in the future conceived and to make, use, sell, offer to sell, import and export any product or service that incorporates or is based in whole or in part on the Feedback.\n            </li>\n          </ol>\n        </li>\n\n        <li><h2>Suspension</h2>\n          <ol>\n            <li><strong>General</strong>\n              <ol>\n                <li>you or your use of the Service Offering is in breach of this Postfacto Agreement, including violation of Acceptable Use requirements;\n                </li>\n                <li>you fail to address our request to take action as specified in Sections 3, 4 or 5;</li>\n                <li>your use of the Service Offering poses a security risk to the Service Offering or other users of the Service Offering, or interferes with, disrupts, damages, or accesses in an unauthorized manner the servers, networks, or other properties or services of any third party including, but not limited to, Pivotal or any mobile communications carrier; or\n                </li>\n                <li>suspension is required pursuant to our receipt of a subpoena or other request by a law enforcement agency.\n                </li>\n              </ol>\n            </li>\n          </ol>\n        </li>\n\n        <li><h2>Term and Termination</h2>\n          <ol>\n            <li><strong>Term.</strong>&nbsp;This Postfacto Agreement will commence at the point you first access the Service Offering and will be effective through the Subscription Term, unless terminated earlier as permitted under the Postfacto Agreement.\n            </li>\n            <li><strong>Termination</strong>\n              <ol>\n                <li><strong>Termination for Cause.</strong>&nbsp;We may terminate this Postfacto Agreement effective immediately if: (a) we determine, in our sole discretion, that any of the provisions of this Postfacto Agreement; (b) you breach a provision of this Postfacto Agreement that is not capable of being cured; (c) you breach any provision of this Postfacto Agreement that is capable of being cured and do not cure the breach within thirty (30) days after receiving an email identifying the breach from us; or (d) any payment is delinquent by thirty (30) days from the due date.\n                </li>\n                <li><strong>Termination for Insolvency.</strong>&nbsp;We may terminate this Postfacto Agreement effective immediately upon sending you an email notification of termination if you: (a) terminate or suspend your business; (b) become insolvent, admit in writing your inability to pay your debts as they mature, make an assignment for the benefit of creditors; (c) become subject to control of a trustee, receiver or similar authority; or (d) become subject to any bankruptcy or insolvency proceeding.\n                </li>\n                <li><strong>Termination for Convenience.</strong>&nbsp;We may terminate this Postacto Agreement at any time. You may terminate this Postfacto Agreement at any time by deleting Your user profile by email request to <a href=\"mailto:postfacto@pivotal.io\">postfacto@pivotal.io</a>.</li>\n                <li><strong>Effect of Termination.</strong>&nbsp;Upon the termination of this Postfacto Agreement for any reason: (a) all rights granted to you under this Postfacto Agreement, including your ability to access any of Your Content stored in the Service Offering, will immediately terminate; and (b) you must promptly discontinue all access or use of the Service Offering and delete or destroy any of our Confidential Information. For a period of thirty (30) days following the termination, we will not delete your Content as a result of this termination, although you will cease to have access to the Service Offering or Your Content during this period. Free/Open Source Software, Relationship Data, Usage Data, Disclosure of Data and your Content, your Content, Acceptable Use, IP Ownership, Payment and Taxes, Term and Termination, Confidential Information, and Country-Specific Terms, will survive the termination of this Postfacto Agreement.\n                </li>\n              </ol>\n            </li>\n          </ol>\n        </li>\n\n        <li><h2>General</h2>\n          <ol>\n            <li><strong>Successors and Assigns</strong>.This Postfacto&nbsp;Agreement may not be assigned without the express written consent of the other party, not to be unreasonably withheld, conditioned or delayed, except that Pivotal may assign or transfer this Postfacto Agreement, in whole or in part, without your consent to any successors-in-interest to all or substantially all of the business or assets of Pivotal whether by merger, reorganization, asset sale or otherwise, or to any subsidiaries or affiliates of Pivotal. Any purported transfer or assignment in violation of this section is void. Subject to the foregoing restrictions, the terms and conditions of this Postfacto Agreement shall inure to the benefit of and be binding upon the respective permitted successors and assigns of the parties.\n            </li>\n            <li><strong>Compliance with Laws; Export Control; Government Regulations</strong>. Each party shall comply with all laws applicable to the actions contemplated by this Postfacto Agreement. You acknowledge that the Service Offering and all software and technical information relating thereto is of United States origin, is provided subject to the U.S. Export Administration Regulations, may be subject to the export control laws of the applicable territory, and that diversion contrary to applicable export control laws is prohibited. You represent that: (a) you are not, and are not acting on behalf of (i) any person who is a citizen, national, or resident of, or who is controlled by the government of any country to which the United States has prohibited export transactions, or (ii) any person or entity listed on the U.S. Treasury Department list of Specially Designated Nationals and Blocked Persons, or the U.S. Commerce Department Denied Persons List or Entity List; and (b) you will not permit the Service Offering to be used for, any purposes prohibited by law, including, any prohibited development, design, manufacture or production of missiles or nuclear, chemical or biological weapons. If any software or related documentation is licensed to the United States government or any agency thereof, then the such software and documentation will be deemed to be \"\n              commercial computer software\"&#157; and \"commercial computer software documentation,\"\n              respectively, pursuant to DFARS Section 227.7202 and FAR Section 12.212, as applicable. Any use, reproduction, release, performance, display or disclosure of the software and any related documentation by the U.S. Government will be governed solely by this Postfacto Agreement and is prohibited except to the extent expressly permitted by this Postfacto Agreement.\n            </li>\n            <li><strong>Modifications</strong>. We may change periodically the Service Offering, the terms of your access to the Service Offerings, this Postfacto Agreement, or the Service Description. It is your responsibility to regularly check the Service Offering for updates. We will notify you of any material detrimental change to the Service Offering or Postfacto Agreement by sending you an email or by posting a notice of the modification on the Service Offering. The modified Postfacto Agreement or Service Description, as applicable will become effective as of the date stated in that notification. If we make a material change that is detrimental to You to the Service Offerings (other than the termination or modification of any beta feature or functionality), this Postfacto Agreement, the Service Description, or the Support Policy, you may terminate this Postfacto Agreement on notice to us within ten (10) days of the change or within ten (10) days of our modification notice; in that event, the termination will be effective as of the date we receive your notification. Your continued use of the Service Offering after the effective date of any modification to the Postfacto Agreement, the Service Description, the Third Party Terms, or the Support Policy shall be deemed acceptance of the applicable modification.\n            </li>\n          </ol>\n        </li>\n      </ol>\n\n      <p>\n        These Terms were last updated on September 1, 2017.\n      </p>\n\n    </div>\n    <RetroFooter config={config}/>\n  </div>\n);\n\nNewTermsPage.propTypes = {\n  config: types.object.isRequired,\n};\n\nexport default NewTermsPage;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport GoogleLogin from 'react-google-login';\n\nexport default class LoginForm extends React.PureComponent {\n  static propTypes = {\n    onSuccess: types.func.isRequired,\n    onFailure: types.func.isRequired,\n    className: types.string.isRequired,\n    config: types.shape({\n      mock_google_auth: types.bool,\n      google_oauth_client_id: types.string,\n      google_oauth_hosted_domain: types.string,\n    }).isRequired,\n  };\n\n  onMockLogin = (event) => {\n    event.stopPropagation();\n\n    const {onSuccess} = this.props;\n    const accessToken = window.mock_google_auth; // this global is mutated during E2E tests\n\n    const mockedEmail = accessToken.split('_')[1];\n    onSuccess({\n      profileObj: {\n        email: mockedEmail + '@example.com',\n        name: 'my full name',\n      },\n      accessToken,\n    });\n  };\n\n  render() {\n    const {config, onSuccess, onFailure, className} = this.props;\n\n    if (!config.google_oauth_client_id && !config.mock_google_auth) {\n      return null;\n    }\n\n    return (\n      <div onClickCapture={config.mock_google_auth ? this.onMockLogin : null}>\n        <GoogleLogin\n          clientId={config.google_oauth_client_id}\n          onSuccess={onSuccess}\n          onFailure={onFailure}\n          className={'button start-retro ' + className}\n          hostedDomain={config.google_oauth_hosted_domain}\n        >\n          <span>\n            <i className=\"fa fa-google\" aria-hidden=\"true\" style={{marginRight: '10px'}}/>\n            Sign in with Google\n          </span>\n        </GoogleLogin>\n      </div>\n    );\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport LegalBanner from '../shared/legal_banner';\n\nexport default class HomeLegalBanner extends React.PureComponent {\n  static propTypes = {\n    config: types.shape({\n      terms: types.string.isRequired,\n      privacy: types.string.isRequired,\n    }).isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasBeenDismissed: window.localStorage.homeTermsDismissed,\n    };\n  }\n\n  onDismiss = () => {\n    window.localStorage.homeTermsDismissed = true;\n\n    this.setState({hasBeenDismissed: true});\n  };\n\n  render() {\n    const {config} = this.props;\n\n    if (this.state.hasBeenDismissed) {\n      return null;\n    }\n\n    return (<LegalBanner config={config} onDismiss={this.onDismiss}/>);\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport {connect} from 'react-redux';\nimport RetroFooter from '../shared/footer';\nimport LoginForm from './login_form';\nimport Logger from '../../helpers/logger';\nimport HomeLegalBanner from './home_legal_banner';\nimport {createSession} from '../../redux/actions/api_actions';\nimport {homePageShown} from '../../redux/actions/analytics_actions';\n\nexport default class HomePage extends React.PureComponent {\n  static propTypes = {\n    config: types.object.isRequired,\n    createSession: types.func.isRequired,\n    homePageShownAnalytics: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.onSignIn = this.onSignIn.bind(this);\n  }\n\n\n  componentDidMount() {\n    this.props.homePageShownAnalytics();\n  }\n\n  onSignIn(googleUser) {\n    Logger.info('onGoogleSignIn ' + googleUser.profileObj.email);\n    this.props.createSession(\n      googleUser.accessToken,\n      googleUser.profileObj.email,\n      googleUser.profileObj.name,\n    );\n  }\n\n  onGoogleLoginFailure() {\n    Logger.info('onGoogleLoginFailure');\n  }\n\n  render() {\n    const {config} = this.props;\n\n    return (\n      <div className=\"home-page\">\n        <div className=\"sticky-header\">\n          <div className=\"row\">\n            <HomeLegalBanner config={config}/>\n          </div>\n          <div className=\"row header-title\">\n            <div className=\"show-for-medium small-12 columns\">\n              <span className=\"title\">postfacto</span>\n              <span className=\"subtitle\">A retro app for successful teams.</span>\n            </div>\n            <div className=\"hide-for-medium small-12 columns text-center\">\n              <span className=\"title small-12 columns\">postfacto</span>\n              <span className=\"subtitle\">A retro app for successful teams.</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"panel\">\n          <div className=\"row\" style={{paddingTop: '77px'}}>\n            <div className=\"text-block columns\">\n              <h2>Postfacto helps you run better retrospectives.</h2>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"text-center\">\n              <LoginForm\n                onSuccess={this.onSignIn}\n                onFailure={this.onGoogleLoginFailure}\n                className=\"top-start-retro\"\n                config={config}\n              />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"text-center whats-a-retro-link\">\n              <a href=\"https://builttoadapt.io/how-to-run-a-really-good-retrospective-8982bd839e16\" target=\"_blank\">What's a retro?</a>\n            </div>\n          </div>\n        </div>\n\n        <RetroFooter config={config}/>\n      </div>\n    );\n  }\n}\n\n\nconst mapDispatchToProps = (dispatch) => ({\n  homePageShownAnalytics: () => dispatch(homePageShown()),\n  createSession: (accessToken, email, name) => dispatch(createSession(accessToken, email, name)),\n});\n\nconst ConnectedHomePage = connect(null, mapDispatchToProps)(HomePage);\n\nexport {HomePage, ConnectedHomePage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport FontIcon from 'material-ui/FontIcon';\nimport types from 'prop-types';\nimport {connect} from 'react-redux';\nimport RetroMenu from '../shared/retro_menu';\nimport RetroFooter from '../shared/footer';\nimport {getRetroArchives} from '../../redux/actions/api_actions';\nimport {retroArchive, showRetroForId} from '../../redux/actions/router_actions';\nimport {signOut} from '../../redux/actions/main_actions';\n\nfunction makeDateString(date) {\n  const year = date.getFullYear();\n  const day = date.toLocaleDateString('en', {day: '2-digit'});\n  const monthName = date.toLocaleDateString('en', {month: 'long'});\n\n  // Ensure consistent ordering in all browsers: (eventually this should just conform to user locale anyway though)\n  return `${day} ${monthName} ${year}`;\n}\n\nconst createdAtDesc = (a, b) => (new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n\n// not pure: uses window.localStorage to check login status\nclass ListRetroArchivesPage extends React.Component {\n  static propTypes = {\n    archives: types.array,\n    retroId: types.string.isRequired,\n    config: types.object.isRequired,\n    environment: types.shape({\n      isMobile1030: types.bool,\n    }).isRequired,\n    getRetroArchives: types.func.isRequired,\n    routeToRetroArchive: types.func.isRequired,\n    showRetroForId: types.func.isRequired,\n    signOut: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    archives: null,\n  };\n\n  UNSAFE_componentWillMount() {\n    const {retroId} = this.props;\n    this.props.getRetroArchives(retroId);\n  }\n\n  onArchiveClicked(archiveId, e) {\n    e.preventDefault();\n    const {retroId} = this.props;\n    this.props.routeToRetroArchive(retroId, archiveId);\n  }\n\n  onCurrentRetroClicked = () => {\n    const {retroId} = this.props;\n    this.props.showRetroForId(retroId);\n  };\n\n  getMenuItems() {\n    const items = [\n      {title: 'Sign out', callback: this.props.signOut, isApplicable: window.localStorage.length > 0},\n    ];\n\n    return items.filter((item) => item.isApplicable);\n  }\n\n  render() {\n    const {archives, retroId, config, environment} = this.props;\n    if (!archives) {\n      return <div>Loading archives...</div>;\n    }\n    const isMobile = environment.isMobile1030;\n    const menuItems = this.getMenuItems();\n\n    return (\n      <div className={'retro-archives full-height' + (isMobile ? ' mobile-display' : '')}>\n        <div className=\"retro-heading row\">\n          <div className=\"small-2 columns back-button\">\n            <FlatButton\n              className=\"retro-back\"\n              onClick={this.onCurrentRetroClicked}\n              label=\"Current retro\"\n              labelStyle={isMobile ? {'display': 'none'} : {}}\n              icon={<FontIcon className=\"fa fa-chevron-left\"/>}\n            />\n          </div>\n          <h1 className=\"small-8 text-center retro-name\">\n            Archives\n          </h1>\n          <div className=\"small-2 menu end\">\n            <RetroMenu isMobile={false} items={menuItems}/>\n          </div>\n        </div>\n\n        <div className=\"archives\">\n          <div className=\"row\">\n            {\n              archives.sort(createdAtDesc).map((a) => (\n                <div className=\"archive-row medium-6 medium-offset-3 columns end text-center\" key={a.id}>\n                  <div className=\"archive-link\" onClick={(e) => this.onArchiveClicked(a.id, e)}>\n                    <a href={`/retros/${retroId}/archives/${a.id}`}>\n                      {makeDateString(new Date(a.created_at))}\n                    </a>\n                  </div>\n                </div>\n              ))\n            }\n          </div>\n        </div>\n        <RetroFooter config={config}/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  archives: state.retro.retroArchives,\n  environment: state.config.environment,\n});\n\n\nconst mapDispatchToProps = (dispatch) => ({\n  getRetroArchives: (retroId) => dispatch(getRetroArchives(retroId)),\n  routeToRetroArchive: (retroId, archiveId) => dispatch(retroArchive(retroId, archiveId)),\n  showRetroForId: (retroId) => dispatch(showRetroForId(retroId)),\n  signOut: () => dispatch(signOut()),\n});\n\nconst ConnectedListRetroArchivesPage = connect(mapStateToProps, mapDispatchToProps)(ListRetroArchivesPage);\nexport {ListRetroArchivesPage, ConnectedListRetroArchivesPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\n\nconst Alert = ({alert, className}) => {\n  if (!alert || !alert.message) {\n    return null;\n  }\n\n  return (\n    <div className={`alert ${className}`}>\n      {alert.checkIcon ? (<i className=\"alert__icon fa fa-check\"/>) : null}\n      <span className=\"alert__text\">{alert.message}</span>\n    </div>\n  );\n};\n\nAlert.propTypes = {\n  alert: types.shape({\n    checkIcon: types.bool,\n    message: types.string,\n  }),\n  className: types.string,\n};\n\nAlert.defaultProps = {\n  alert: null,\n  className: '',\n};\n\nexport default Alert;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport {connect} from 'react-redux';\nimport {createUser} from '../../redux/actions/api_actions';\n\nexport default class RegistrationPage extends React.Component {\n  static propTypes = {\n    accessToken: types.string.isRequired,\n    email: types.string.isRequired,\n    fullName: types.string.isRequired,\n    createUser: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fullName: props.fullName,\n      companyName: '',\n    };\n  }\n\n  handleNameChange = (e) => {\n    this.setState({fullName: e.target.value});\n  };\n\n  handleCompanyNameChange = (e) => {\n    this.setState({companyName: e.target.value});\n  };\n\n  register = () => {\n    const {accessToken} = this.props;\n    const {fullName, companyName} = this.state;\n\n    this.props.createUser(accessToken, companyName, fullName);\n  };\n\n  render() {\n    const {email} = this.props;\n    const {fullName, companyName} = this.state;\n\n    return (\n      <div className=\"registration-page\">\n        <div className=\"medium-6 small-12 columns registration-side-banner new-retro-column\">\n          <div className=\"medium-centered small-centered\">\n            <p>Welcome to Postfacto!</p>\n            <h1>Let&rsquo;s create an account for you!</h1>\n          </div>\n        </div>\n\n        <div className=\"medium-6 small-12 columns new-retro-column\">\n          <div className=\"medium-centered small-centered\" style={{width: '30rem'}}>\n            <div className=\"row\">\n              <label className=\"label\">Email</label>\n              <input\n                value={email}\n                placeholder=\"Email\"\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                className=\"form-input\"\n                disabled=\"true\"\n              />\n            </div>\n\n            <div className=\"row\">\n              <label className=\"label\">Full Name</label>\n              <input\n                value={fullName}\n                onChange={this.handleNameChange}\n                placeholder=\"Full Name\"\n                id=\"fullName\"\n                name=\"fullName\"\n                type=\"text\"\n                className=\"form-input\"\n              />\n            </div>\n\n            <div className=\"row\">\n              <label className=\"label\">Company Name</label>\n              <input\n                value={companyName}\n                onChange={this.handleCompanyNameChange}\n                placeholder=\"Company Name\"\n                id=\"companyName\"\n                name=\"companyName\"\n                type=\"text\"\n                className=\"form-input\"\n              />\n            </div>\n\n            <div className=\"row terms-text\">\n              <p>\n                By continuing, you agree to Postfacto's\n                {' '}<a href=\"/terms\" target=\"_blank\">Terms of Use</a> and\n                {' '}<a href=\"/privacy\" target=\"_blank\">Privacy Policy</a>\n              </p>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"medium-6 small-12 columns\" style={{paddingLeft: '0', paddingRight: '0'}}>\n                <input\n                  type=\"submit\"\n                  className=\"retro-form-submit expanded button\"\n                  id=\"create_new_retro\"\n                  value=\"Next: Make a retro\"\n                  onClick={this.register}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapDispatchToProps = (dispatch) => ({\n  createUser: (accessToken, companyName, fullName) => dispatch(createUser(accessToken, companyName, fullName)),\n});\n\nconst ConnectedRegistrationPage = connect(null, mapDispatchToProps)(RegistrationPage);\nexport {RegistrationPage, ConnectedRegistrationPage};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport types from 'prop-types';\nimport {ConnectedRetroCreatePage} from './retro-create/retro_create_page';\nimport {ConnectedListRetrosPage} from './retros-list/list_retros_page';\nimport {ConnectedShowRetroPage} from './retro-show/show_retro_page';\nimport {ConnectedShowRetroSettingsPage} from './retro-settings/show_retro_settings_page';\nimport {ConnectedShowRetroPasswordSettingsPage} from './retro-settings/show_retro_password_settings_page';\nimport {ConnectedLoginToRetroPage} from './retro-login/login_to_retro_page';\nimport {ConnectedApiServerNotFoundPage} from './server-lost/api_server_not_found_page';\nimport {ConnectedRetroNotFoundPage} from './retro-not-found/retro_not_found_page';\nimport {ConnectedNotFoundPage} from './not-found/not_found_page';\nimport NewTermsPage from './terms/new_terms_page';\nimport EmptyPage from './shared/empty_page';\nimport {ConnectedHomePage} from './home/home_page';\nimport {ConnectedListRetroArchivesPage} from './retro-archives/list_retro_archives_page';\nimport Alert from './shared/alert';\nimport {ConnectedRegistrationPage} from './registration/registration_page';\nimport {clearAlert} from '../redux/actions/main_actions';\nimport {joinRetro} from '../redux/actions/api_actions';\n\n\nclass Router extends React.Component {\n  static propTypes = {\n    router: types.object.isRequired,\n    config: types.object,\n    alert: types.object,\n    not_found: types.object,\n    clearAlert: types.func.isRequired,\n    joinRetro: types.func.isRequired,\n  };\n\n  static defaultProps = {\n    config: null,\n    alert: null,\n    not_found: {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {Page: EmptyPage, additionalProps: {}};\n  }\n\n  componentDidMount() {\n    const {router} = this.props;\n\n    router.get('*', this.showNotFound);\n    router.get('/', this.showHome);\n    router.get('/retros/:retroId', this.showRetro);\n    router.get('/retros/:retroId/join/:joinToken', this.joinRetro);\n    router.get('/retros/:retroId/archives', this.listRetroArchives);\n    router.get('/retros/:retroId/archives/:archiveId', this.showRetroArchive);\n    router.get('/retros/:retroId/login', this.loginToRetro);\n    router.get('/retros/:retroId/relogin', this.reloginToRetro);\n    router.get('/retros/:retroId/settings', this.showRetroSettings);\n    router.get('/retros/:retroId/settings/password', this.showRetroPasswordSettings);\n    router.get('/terms', this.showTerms);\n    router.get('/registration/:accessToken/:email/:fullName', this.showRegistration);\n  }\n\n  setPage(page, additionalProps = {}) {\n    this.setState({Page: page, additionalProps});\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {api_server_not_found, retro_not_found, not_found} = nextProps.not_found;\n    if (api_server_not_found) {\n      this.setPage(ConnectedApiServerNotFoundPage);\n    }\n    if (retro_not_found) {\n      this.setPage(ConnectedRetroNotFoundPage);\n    }\n    if (not_found) {\n      this.setPage(ConnectedNotFoundPage);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.Page !== prevState.Page) {\n      this.props.clearAlert();\n    }\n  }\n\n  showRetro = (req) => {\n    const {retroId} = req.params;\n    if (retroId === 'new') {\n      this.setPage(ConnectedRetroCreatePage);\n      return;\n    }\n\n    this.setPage(ConnectedShowRetroPage, {retroId, archives: false});\n  };\n\n  joinRetro = (req) => {\n    const {retroId, joinToken} = req.params;\n    this.props.joinRetro(retroId, joinToken);\n  };\n\n  listRetros = () => {\n    this.setPage(ConnectedListRetrosPage);\n  };\n\n  listRetroArchives = (req) => {\n    const {retroId} = req.params;\n    this.setPage(ConnectedListRetroArchivesPage, {retroId});\n  };\n\n  showRetroArchive = (req) => {\n    const {retroId, archiveId} = req.params;\n    this.setPage(ConnectedShowRetroPage, {retroId, archives: true, archiveId});\n  };\n\n  showRetroSettings = (req) => {\n    const {retroId} = req.params;\n    this.setPage(ConnectedShowRetroSettingsPage, {retroId});\n  };\n\n  showRetroPasswordSettings = (req) => {\n    const {retroId} = req.params;\n    this.setPage(ConnectedShowRetroPasswordSettingsPage, {retroId});\n  };\n\n  showNotFound = () => {\n    this.setPage(ConnectedNotFoundPage);\n  };\n\n  showTerms = () => {\n    this.setPage(NewTermsPage);\n  };\n\n  loginToRetro = (req) => {\n    const {retroId} = req.params;\n    this.setPage(ConnectedLoginToRetroPage, {retroId});\n  };\n\n  reloginToRetro = (req) => {\n    const {retroId} = req.params;\n    this.setPage(ConnectedLoginToRetroPage, {retroId, force_relogin: true});\n  };\n\n  showHome = () => {\n    if (this.isUserLoggedIn()) {\n      this.listRetros();\n    } else {\n      this.setPage(ConnectedHomePage);\n    }\n  };\n\n  showRegistration = (req) => {\n    const {accessToken, email, fullName} = req.params;\n    this.setPage(ConnectedRegistrationPage, {accessToken, email, fullName});\n  };\n\n  render() {\n    const {Page, additionalProps} = this.state;\n    const {alert} = this.props;\n\n    return (\n      <div>\n        <Alert alert={alert}/>\n        <Page config={this.props.config} {...additionalProps}/>\n      </div>\n    );\n  }\n\n  isUserLoggedIn() {\n    return localStorage.getItem('authToken');\n  }\n}\n\n\nconst mapStateToProps = (state) => ({\n  alert: state.messages.alert,\n  not_found: state.messages.not_found,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  clearAlert: () => dispatch(clearAlert()),\n  joinRetro: (retroId, joinToken) => dispatch(joinRetro(retroId, joinToken)),\n});\n\nconst ConnectedRouter = connect(mapStateToProps, mapDispatchToProps)(Router);\n\nexport {Router, ConnectedRouter};\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nimport {clearAlert} from '../actions/main_actions';\n\nconst ALERT_DURATION = 3500;\nlet alertTimeout;\n\nconst MessageMiddleware = () => (store) => (next) => (action) => {\n  if (action.type === 'SHOW_ALERT') {\n    clearTimeout(alertTimeout);\n    alertTimeout = setTimeout(() => store.dispatch(clearAlert()), ALERT_DURATION);\n  }\n  if (action.type === 'CLEAR_ALERT') {\n    clearTimeout(alertTimeout);\n  }\n  next(action);\n};\n\nexport default MessageMiddleware;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nconst initialState = {\n  currentRetro: {\n    name: '',\n    video_link: '',\n    items: [],\n    action_items: [],\n    is_private: false,\n    send_archive_email: true,\n    join_token: null,\n  },\n  retroArchives: [],\n  currentArchivedRetro: {\n    name: '',\n    video_link: '',\n    items: [],\n    action_items: [],\n    is_private: false,\n    send_archive_email: true,\n    join_token: null,\n  },\n  retros: [],\n};\n\nconst RetroReducer = () => (state = initialState, action) => {\n  if (action.type === 'CURRENT_RETRO_UPDATED') {\n    return Object.assign({}, state, {currentRetro: action.payload});\n  }\n\n  if (action.type === 'CURRENT_RETRO_SEND_ARCHIVE_EMAIL_UPDATED') {\n    return Object.assign({}, state, {currentRetro: {...state.currentRetro, send_archive_email: action.payload}});\n  }\n\n  if (action.type === 'CURRENT_RETRO_HIGHLIGHT_CLEARED') {\n    return Object.assign({}, state, {currentRetro: {...state.currentRetro, highlighted_item_id: null}});\n  }\n\n  if (action.type === 'CURRENT_RETRO_ITEM_DELETED') {\n    const item = action.payload;\n    const updatedItems = state.currentRetro.items.filter((i) => i.id !== item.id);\n\n    return Object.assign({}, state, {currentRetro: {...state.currentRetro, items: updatedItems}});\n  }\n\n  if (action.type === 'CURRENT_RETRO_ITEM_UPDATED') {\n    const item = action.payload;\n    const existingItems = state.currentRetro.items;\n\n    const position = existingItems.findIndex((i) => i.id === item.id);\n\n    const updatedItems = [].concat(existingItems);\n    if (position === -1) {\n      updatedItems.push(item);\n    } else {\n      updatedItems[position] = item;\n    }\n\n    return Object.assign({}, state, {currentRetro: {...state.currentRetro, items: updatedItems}});\n  }\n\n  if (action.type === 'CURRENT_RETRO_ITEM_DONE_UPDATED') {\n    const {itemId, done} = action.payload;\n    const existingItems = state.currentRetro.items;\n\n    const position = existingItems.findIndex((i) => i.id === itemId);\n    const updatedItems = [].concat(existingItems);\n    const item = updatedItems[position];\n    item.done = done;\n\n    return Object.assign({}, state, {\n      currentRetro: {\n        ...state.currentRetro,\n        highlighted_item_id: null,\n        items: updatedItems,\n      },\n    });\n  }\n\n  if (action.type === 'CURRENT_RETRO_ACTION_ITEM_UPDATED') {\n    const actionItem = action.payload;\n    const existingActionItems = state.currentRetro.action_items;\n\n    const position = existingActionItems.findIndex((i) => i.id === actionItem.id);\n\n    const updatedItems = [].concat(existingActionItems);\n    if (position === -1) {\n      updatedItems.push(actionItem);\n    } else {\n      updatedItems[position] = actionItem;\n    }\n\n    return Object.assign({}, state, {currentRetro: {...state.currentRetro, action_items: updatedItems}});\n  }\n\n  if (action.type === 'CURRENT_RETRO_ACTION_ITEM_DELETED') {\n    const actionItem = action.payload;\n    const updatedActionItems = state.currentRetro.action_items.filter((i) => i.id !== actionItem.id);\n\n    return Object.assign({}, state, {currentRetro: {...state.currentRetro, action_items: updatedActionItems}});\n  }\n\n  if (action.type === 'RETROS_UPDATED') {\n    const retros = action.payload;\n\n    return Object.assign({}, state, {retros});\n  }\n\n  if (action.type === 'CURRENT_ARCHIVED_RETRO_UPDATED') {\n    return Object.assign({}, state, {currentArchivedRetro: action.payload});\n  }\n\n  if (action.type === 'RETRO_ARCHIVES_UPDATED') {\n    const retroArchives = action.payload;\n\n    return Object.assign({}, state, {retroArchives});\n  }\n\n  return state;\n};\n\nexport default RetroReducer;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nconst initialState = {\n  errors: {},\n  dialog: null,\n  alert: null,\n  not_found: {\n    retro_not_found: false,\n    not_found: false,\n    api_server_not_found: false,\n  },\n};\n\nconst MessageReducer = () => (state = initialState, action) => {\n  if (action.type === 'ERRORS_UPDATED') {\n    return Object.assign({}, state, {errors: action.payload});\n  }\n\n  if (action.type === 'CLEAR_ERRORS') {\n    return Object.assign({}, state, {errors: {}});\n  }\n\n  if (action.type === 'SHOW_DIALOG') {\n    return Object.assign({}, state, {dialog: action.payload});\n  }\n\n  if (action.type === 'CLEAR_DIALOG') {\n    return Object.assign({}, state, {dialog: null});\n  }\n\n  if (action.type === 'SHOW_ALERT') {\n    return Object.assign({}, state, {alert: action.payload});\n  }\n\n  if (action.type === 'CLEAR_ALERT') {\n    return Object.assign({}, state, {alert: null});\n  }\n\n  if (action.type === 'SET_NOT_FOUND') {\n    return Object.assign({}, state, {not_found: action.payload});\n  }\n\n  return state;\n};\n\nexport default MessageReducer;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nconst initialState = {\n  websocketSession: {},\n};\n\nconst UserReducer = () => (state = initialState, action) => {\n  if (action.type === 'WEBSOCKET_SESSION_UPDATED') {\n    return Object.assign({}, state, {websocketSession: action.payload});\n  }\n\n  return state;\n};\n\nexport default UserReducer;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nconst initialState = {\n  featureFlags: {\n    archiveEmails: false,\n  },\n  environment: {\n    isMobile1030: false,\n    isMobile640: false,\n  },\n};\n\nconst ConfigReducer = () => (state = initialState, action) => {\n  if (action.type === 'FEATURE_FLAGS_UPDATED') {\n    return Object.assign({}, state, {featureFlags: action.payload});\n  }\n\n  if (action.type === 'WINDOW_SIZE_UPDATED') {\n    return Object.assign({}, state, {environment: action.payload});\n  }\n\n  return state;\n};\n\nexport default ConfigReducer;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nimport {completedRetroItem} from '../actions/analytics_actions';\n\nconst ArchiveMiddleware = () => (store) => (next) => (action) => {\n  if (action.type === 'CURRENT_RETRO_ITEM_DONE_UPDATED') {\n    const {itemId, done} = action.payload;\n\n    let allDone = false;\n\n    if (done) {\n      const currentRetro = store.getState().retro.currentRetro;\n      allDone = currentRetro.items\n        .filter((item) => item.id !== itemId)\n        .every((i) => i.done);\n\n      const item = currentRetro.items.find((i) => i.id === itemId);\n\n      store.dispatch(completedRetroItem(currentRetro.id, item.category));\n    }\n\n    if (allDone) {\n      store.dispatch({\n        type: 'SHOW_DIALOG',\n        payload: {\n          title: 'Archive this retro?',\n          message: 'The board will be cleared ready for your next retro and incomplete action items will be carried across.',\n          type: 'ARCHIVE_RETRO',\n        },\n      });\n    }\n  }\n  next(action);\n};\n\nexport default ArchiveMiddleware;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nconst RouterMiddleware = (router) => () => (next) => (action) => {\n  if (action.type === 'SET_ROUTE') {\n    router.navigate(action.payload);\n    return;\n  }\n  next(action);\n};\n\nexport default RouterMiddleware;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nimport {home, retroRelogin} from '../actions/router_actions';\n\nconst AuthMiddleware = (localStorage) => (store) => (next) => (action) => {\n  if (action.type === 'SIGN_OUT') {\n    localStorage.clear();\n    store.dispatch(home());\n  }\n\n  if (action.type === 'FORCE_RELOGIN') {\n    const session = store.getState().user.websocketSession;\n    if (session.request_uuid !== action.payload.originatorId) {\n      store.dispatch(retroRelogin(action.payload.retroId));\n    }\n  }\n  next(action);\n};\n\nexport default AuthMiddleware;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nconst AnalyticsMiddleware = (analyticsClient) => () => (next) => (action) => {\n  if (action.type === 'TRACK_ANALYTICS') {\n    analyticsClient.track(action.payload.type, action.payload.data);\n    return;\n  }\n  next(action);\n};\n\nexport default AnalyticsMiddleware;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\nimport Logger from '../../helpers/logger';\nimport {\n  clearErrors,\n  currentRetroActionItemDeleted,\n  currentRetroActionItemUpdated,\n  currentRetroHighlightCleared, currentRetroItemDeleted,\n  currentRetroItemDoneUpdated, currentRetroItemUpdated,\n  currentRetroUpdated,\n  errorsUpdated, retrosUpdated,\n  setNotFound,\n  showAlert, signOut,\n  updateCurrentArchivedRetro,\n  updateFeatureFlags,\n  updateRetroArchives,\n} from '../actions/main_actions';\nimport {\n  archivedRetro,\n  createdRetro,\n  createdRetroItem,\n  doneActionItem,\n  undoneActionItem,\n  visitedRetro,\n  visitedRetroMagicLink,\n} from '../actions/analytics_actions';\nimport {\n  home,\n  newRetro,\n  registration,\n  retroLogin,\n  retroSettings,\n  showRetro,\n  showRetroForId,\n} from '../actions/router_actions';\n\nexport function getApiToken(retroId) {\n  return localStorage.getItem('apiToken-' + retroId);\n}\n\nfunction setApiToken(retroId, token) {\n  localStorage.setItem('apiToken-' + retroId, token);\n}\n\nfunction clearApiToken(retroId) {\n  localStorage.removeItem('apiToken-' + retroId);\n}\n\nfunction resetApiToken(oldRetroId, newRetroId) {\n  if (oldRetroId === newRetroId) {\n    return;\n  }\n\n  localStorage.setItem('apiToken-' + newRetroId, localStorage.getItem('apiToken-' + oldRetroId));\n  localStorage.removeItem('apiToken-' + oldRetroId);\n}\n\nconst ApiMiddleware = (retroClient) => (store) => (next) => (action) => {\n  if (action.type === 'RETRO_CREATE') {\n    Logger.info('retroCreate');\n    retroClient.createRetro(action.payload).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        const token = data.token;\n        if (token) {\n          setApiToken(data.retro.slug, token);\n        }\n\n        store.dispatch(clearErrors());\n        store.dispatch(showRetro(data.retro));\n        store.dispatch(createdRetro(data.retro.id));\n      } else if (status === 422) {\n        store.dispatch(errorsUpdated(data.errors));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'UPDATE_RETRO_SETTINGS') {\n    Logger.info('updateRetroSettings');\n\n    const {retroId, retroName, newSlug, oldSlug, isPrivate, requestUuid, videoLink, isMagicLinkEnabled} = action.payload;\n    retroClient.updateRetro(retroId, retroName, newSlug, getApiToken(retroId), isPrivate, requestUuid, videoLink, isMagicLinkEnabled).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        resetApiToken(oldSlug, newSlug);\n        const retro = {\n          name: retroName,\n          slug: newSlug,\n          is_private: data.retro.is_private,\n          join_token: data.retro.join_token,\n        };\n        store.dispatch(currentRetroUpdated(retro));\n        store.dispatch(clearErrors());\n        store.dispatch(showRetro(retro));\n        store.dispatch(showAlert({\n          checkIcon: true,\n          message: 'Settings saved!',\n          className: 'alert-with-back-button',\n        }));\n      } else if (status === 403) {\n        store.dispatch(retroLogin(retroId));\n      } else if (status === 422) {\n        store.dispatch(errorsUpdated(data.errors));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'UPDATE_RETRO_PASSWORD') {\n    Logger.info('updateRetroPassword');\n    const {retroId, currentPassword, newPassword, requestUuid} = action.payload;\n    retroClient.updateRetroPassword(retroId, currentPassword, newPassword, requestUuid, getApiToken(retroId))\n      .then(([status, data]) => {\n        if (status >= 200 && status < 400) {\n          store.dispatch(clearErrors());\n          window.localStorage.setItem(`apiToken-${retroId}`, data.token);\n\n          store.dispatch(retroSettings(retroId));\n          store.dispatch(showAlert({checkIcon: true, message: 'Password changed'}));\n        } else if (status === 422) {\n          store.dispatch(errorsUpdated(data.errors));\n        }\n      });\n    return;\n  }\n\n  if (action.type === 'GET_RETROS') {\n    retroClient.getRetros().then(([status, data]) => {\n      if (status === 403) {\n        store.dispatch(signOut());\n      } else {\n        store.dispatch(retrosUpdated(data.retros));\n      }\n    });\n\n    return;\n  }\n\n  if (action.type === 'GET_RETRO') {\n    Logger.info('getRetro');\n    const retroId = action.payload;\n    retroClient.getRetro(retroId, getApiToken(retroId)).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        store.dispatch(currentRetroUpdated(data.retro));\n        store.dispatch(visitedRetro(data.retro.id));\n      } else if (status === 403) {\n        store.dispatch(retroLogin(retroId));\n      } else if (status === 404) {\n        Logger.warn(`getRetro: Retro not found, retroId=${retroId}`);\n        store.dispatch(setNotFound({retro_not_found: true}));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'JOIN_RETRO') {\n    Logger.info('joinRetro');\n    const {retroId, joinToken} = action.payload;\n    retroClient.joinRetro({retro_id: retroId, join_token: joinToken}).then(([status, response]) => {\n      if (status >= 200 && status < 400) {\n        const token = response.token;\n        if (token) {\n          setApiToken(retroId, token);\n          store.dispatch(visitedRetroMagicLink(retroId));\n        }\n      } else {\n        clearApiToken(retroId);\n      }\n      store.dispatch(showRetroForId(retroId));\n    });\n    return;\n  }\n\n  if (action.type === 'GET_RETRO_LOGIN') {\n    Logger.info('getRetroLogin');\n    const retroId = action.payload;\n    retroClient.getRetroLogin(retroId).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        store.dispatch(currentRetroUpdated(data.retro));\n      } else if (status === 404) {\n        Logger.warn(`getRetro: Retro not found, retroId=${retroId}`);\n        store.dispatch(setNotFound({retro_not_found: true}));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'GET_RETRO_SETTINGS') {\n    Logger.info('getRetroSettings');\n    const id = action.payload;\n    retroClient.getRetroSettings(id, getApiToken(id)).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        store.dispatch(currentRetroUpdated(data.retro));\n      } else if (status === 403) {\n        store.dispatch(retroLogin(id));\n      } else if (status === 404) {\n        Logger.warn(`getRetro: Retro not found, retroId=${id}`);\n        store.dispatch(setNotFound({retro_not_found: true}));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'LOGIN_TO_RETRO') {\n    Logger.info('loginToRetro');\n    const {retroId, password} = action.payload;\n    retroClient.loginToRetro({retro_id: retroId, password}).then(([status, response]) => {\n      if (status >= 200 && status < 400) {\n        const token = response.token;\n        if (token) {\n          setApiToken(retroId, token);\n        }\n        store.dispatch(showRetroForId(retroId));\n      } else {\n        store.dispatch(errorsUpdated({login_error_message: 'Oops, wrong password!'}));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'DELETE_RETRO_ITEM') {\n    Logger.info('deleteRetroItem');\n    const {retroId, item} = action.payload;\n    retroClient.deleteRetroItem(retroId, item.id, getApiToken(retroId));\n    store.dispatch(currentRetroItemDeleted(item));\n    return;\n  }\n\n  if (action.type === 'CREATE_RETRO_ITEM') {\n    Logger.info('createRetroItem');\n    const {retroId, category, description} = action.payload;\n    retroClient.createRetroItem(retroId, category, description, getApiToken(retroId)).then(([, data]) => {\n      store.dispatch(currentRetroItemUpdated(data.item));\n      store.dispatch(createdRetroItem(retroId, data.item.category));\n    });\n    return;\n  }\n\n  if (action.type === 'UPDATE_RETRO_ITEM') {\n    Logger.info('updateRetroItem');\n    const {retroId, item, description} = action.payload;\n    retroClient.updateRetroItem(retroId, item.id, description, getApiToken(retroId));\n    return;\n  }\n\n  if (action.type === 'VOTE_RETRO_ITEM') {\n    const {retroId, item} = action.payload;\n    Logger.info('voteRetroItem');\n    retroClient.voteRetroItem(retroId, item.id, getApiToken(retroId)).then(([, data]) => {\n      store.dispatch(currentRetroItemUpdated(data.item));\n    });\n    return;\n  }\n  if (action.type === 'NEXT_RETRO_ITEM') {\n    Logger.info('nextRetroItem');\n    const retro = action.payload;\n    if (retro.highlighted_item_id !== null) {\n      store.dispatch(currentRetroItemDoneUpdated(retro.highlighted_item_id, true));\n    }\n    retroClient.nextRetroItem(retro.slug, getApiToken(retro.slug));\n    return;\n  }\n\n  if (action.type === 'HIGHLIGHT_RETRO_ITEM') {\n    Logger.info('highlightRetroItem');\n    const {retroId, item} = action.payload;\n    retroClient.highlightRetroItem(retroId, item.id, getApiToken(retroId)).then(([, data]) => {\n      store.dispatch(currentRetroUpdated(data.retro));\n    });\n    return;\n  }\n\n  if (action.type === 'UNHIGHLIGHT_RETRO_ITEM') {\n    Logger.info('unhighlightRetroItem');\n    const retroId = action.payload;\n    retroClient.unhighlightRetroItem(retroId, getApiToken(retroId));\n    store.dispatch(currentRetroHighlightCleared());\n    return;\n  }\n\n  if (action.type === 'DONE_RETRO_ITEM') {\n    Logger.info('doneRetroItem');\n    const {retroId, item} = action.payload;\n    retroClient.doneRetroItem(retroId, item.id, getApiToken(retroId));\n    store.dispatch(currentRetroItemDoneUpdated(item.id, true));\n    return;\n  }\n\n  if (action.type === 'UNDONE_RETRO_ITEM') {\n    Logger.info('undoneRetroItem');\n    const {retroId, item} = action.payload;\n    retroClient.undoneRetroItem(retroId, item.id, getApiToken(retroId));\n    store.dispatch(currentRetroItemDoneUpdated(item.id, false));\n    return;\n  }\n\n  if (action.type === 'EXTEND_TIMER') {\n    Logger.info('extendTimer');\n    const retroId = action.payload;\n    retroClient.extendTimer(retroId, getApiToken(retroId)).then(([, data]) => {\n      store.dispatch(currentRetroUpdated(data.retro));\n    });\n    return;\n  }\n\n  if (action.type === 'ARCHIVE_RETRO') {\n    Logger.info('archiveRetro');\n    const retro = action.payload;\n    retroClient.archiveRetro(retro.slug, getApiToken(retro.slug), retro.send_archive_email).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        store.dispatch(currentRetroUpdated(data.retro));\n        store.dispatch(archivedRetro(data.retro.id));\n        store.dispatch(showAlert({message: 'Archived!'}));\n      } else if (status === 403) {\n        store.dispatch(retroLogin(retro.slug));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'CREATE_RETRO_ACTION_ITEM') {\n    Logger.info('createRetroActionItem');\n    const {retroId, description} = action.payload;\n    retroClient.createRetroActionItem(retroId, description, getApiToken(retroId));\n    return;\n  }\n\n  if (action.type === 'DONE_RETRO_ACTION_ITEM') {\n    const {retroId, actionItemId, done} = action.payload;\n    Logger.info('doneRetroActionItem');\n    retroClient.doneRetroActionItem(retroId, actionItemId, done, getApiToken(retroId)).then(([, data]) => {\n      store.dispatch(currentRetroActionItemUpdated(data.action_item));\n\n      if (data.action_item.done) {\n        store.dispatch(doneActionItem(retroId));\n      } else {\n        store.dispatch(undoneActionItem(retroId));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'DELETE_RETRO_ACTION_ITEM') {\n    const {retroId, actionItem} = action.payload;\n    Logger.info('deleteRetroActionItem');\n    retroClient.deleteRetroActionItem(retroId, actionItem.id, getApiToken(retroId));\n    store.dispatch(currentRetroActionItemDeleted(actionItem));\n    return;\n  }\n\n  if (action.type === 'EDIT_RETRO_ACTION_ITEM') {\n    Logger.info('editRetroActionItem');\n    const {retroId, actionItemId, description} = action.payload;\n    retroClient.editRetroActionItem(retroId, actionItemId, description, getApiToken(retroId)).then(([, data]) => {\n      store.dispatch(currentRetroActionItemUpdated(data.action_item));\n    });\n    return;\n  }\n\n  if (action.type === 'GET_RETRO_ARCHIVES') {\n    const retroId = action.payload;\n    Logger.info('getRetroArchives');\n    retroClient.getRetroArchives(retroId, getApiToken(retroId)).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        store.dispatch(updateRetroArchives(data.archives));\n      } else if (status === 403) {\n        store.dispatch(retroLogin(retroId));\n      } else if (status === 404) {\n        store.dispatch(setNotFound({retro_not_found: true}));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'GET_RETRO_ARCHIVE') {\n    Logger.info('getRetroArchive');\n    const {retroId, archiveId} = action.payload;\n    retroClient.getRetroArchive(retroId, archiveId, getApiToken(retroId)).then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        store.dispatch(updateCurrentArchivedRetro(data.retro));\n      } else if (status === 403) {\n        store.dispatch(retroLogin(retroId));\n      } else if (status === 404) {\n        store.dispatch(setNotFound({not_found: true}));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'CREATE_USER') {\n    Logger.info('createUser');\n    const {accessToken, companyName, fullName} = action.payload;\n    retroClient.createUser(accessToken, companyName, fullName).then(([, response]) => {\n      localStorage.setItem('authToken', response.auth_token);\n      store.dispatch(newRetro());\n    });\n    return;\n  }\n\n  if (action.type === 'CREATE_SESSION') {\n    const {accessToken, email, name} = action.payload;\n    retroClient.createSession(accessToken).then(([status, data]) => {\n      if (status === 200) {\n        localStorage.setItem('authToken', data.auth_token);\n        if (data.new_user) {\n          store.dispatch(newRetro());\n        } else {\n          store.dispatch(home());\n        }\n      } else if (status === 404) {\n        store.dispatch(registration(accessToken, email, name));\n      }\n    });\n    return;\n  }\n\n  if (action.type === 'RETRIEVE_CONFIG') {\n    Logger.info('retrieveConfig');\n    retroClient.retrieveConfig().then(([status, data]) => {\n      if (status >= 200 && status < 400) {\n        store.dispatch(updateFeatureFlags({\n          archiveEmails: data.archive_emails,\n        }));\n      } else if (status === 404) {\n        store.dispatch(setNotFound({not_found: true}));\n      }\n    });\n    return;\n  }\n\n\n  next(action);\n};\n\nexport default ApiMiddleware;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst LoggingMiddleware = () => () => (next) => (action) => {\n  // eslint-disable-next-line no-console\n  console.info('dispatching event', action);\n  next(action);\n};\n\nexport default LoggingMiddleware;\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\nimport RetroReducer from './reducers/retro_reducer';\nimport MessageReducer from './reducers/message_reducer';\nimport UserReducer from './reducers/user_reducer';\nimport ConfigReducer from './reducers/config_reducer';\nimport ArchiveMiddleware from './middleware/archive_retro_middleware';\nimport RouterMiddleware from './middleware/router_middleware';\nimport AuthMiddleware from './middleware/auth_middleware';\nimport AnalyticsMiddleware from './middleware/analytics_middleware';\nimport MessageMiddleware from './middleware/message_middleware';\nimport ApiMiddleware from './middleware/api_middleware';\nimport LoggingMiddleware from './middleware/logging_middleware';\n\n// eslint-disable-next-line no-underscore-dangle\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst getReduxStore = (router, retroClient, analyticsClient) => createStore(combineReducers({\n  retro: RetroReducer(),\n  messages: MessageReducer(),\n  user: UserReducer(),\n  config: ConfigReducer(),\n}), composeEnhancers(applyMiddleware(\n  LoggingMiddleware(),\n  ArchiveMiddleware(),\n  AnalyticsMiddleware(analyticsClient),\n  RouterMiddleware(router),\n  AuthMiddleware(window.localStorage),\n  MessageMiddleware(),\n  ApiMiddleware(retroClient),\n)));\n\n\nexport default getReduxStore;\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\n\nexport default class SessionCable extends React.Component {\n  static propTypes = {\n    cable: types.object.isRequired,\n    // eslint-disable-next-line react/no-unused-prop-types\n    websocketSessionDataReceived: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {subscription: null};\n  }\n\n  UNSAFE_componentWillMount() {\n    this.initialize(this.props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.initialize(nextProps);\n  }\n\n  componentWillUnmount() {\n    const {cable} = this.props;\n    cable.connection.close({allowReconnect: false});\n    cable.subscriptions.remove(this.state.subscription);\n  }\n\n  initialize(props) {\n    const {cable, websocketSessionDataReceived} = props;\n    const {subscription} = this.state;\n    if (cable && !subscription) {\n      this.subscribe(cable, websocketSessionDataReceived);\n    }\n  }\n\n  subscribe(cable, onRecieved) {\n    const subscription = cable.subscriptions.create(\n      {channel: 'SessionsChannel'},\n      {received: (data) => onRecieved(data.payload)},\n    );\n\n    this.setState({subscription});\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport types from 'prop-types';\nimport ActionCable from 'actioncable';\nimport SessionCable from './session_cable';\n\nexport default class SessionWebsocket extends React.Component {\n  static propTypes = {\n    url: types.string.isRequired,\n    websocketSessionDataReceived: types.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {cable: null};\n  }\n\n  componentDidMount() {\n    const {url} = this.props;\n    this.initialize(url);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {url} = nextProps;\n    this.initialize(url);\n  }\n\n  initialize(url) {\n    this.setState((oldState) => ({\n      cable: oldState.cable || ActionCable.createConsumer(url),\n    }));\n  }\n\n  render() {\n    const {cable} = this.state;\n    if (cable) {\n      return <SessionCable cable={cable} websocketSessionDataReceived={this.props.websocketSessionDataReceived}/>;\n    }\n    return null;\n  }\n}\n","/*\n * Postfacto, a free, open-source and self-hosted retro tool aimed at helping\n * remote teams.\n *\n * Copyright (C) 2016 - Present Pivotal Software, Inc.\n *\n * This program is free software: you can redistribute it and/or modify\n *\n * it under the terms of the GNU Affero General Public License as\n *\n * published by the Free Software Foundation, either version 3 of the\n *\n * License, or (at your option) any later version.\n *\n *\n *\n * This program is distributed in the hope that it will be useful,\n *\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n *\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *\n * GNU Affero General Public License for more details.\n *\n *\n *\n * You should have received a copy of the GNU Affero General Public License\n *\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './stylesheets/application.scss';\nimport EnhancedApplication from './Application';\n\nconst {config} = global.Retro;\n\nif (process.env.REACT_APP_USE_MOCK_GOOGLE === 'true') {\n  // Mock Google auth (mock-google-server)\n  config.mock_google_auth = true;\n  config.google_oauth_client_id = null;\n  window.mock_google_auth = 'expected-valid-access-token_manual-testing';\n} else if (process.env.REACT_APP_GOOGLE_OAUTH_CLIENT_ID) {\n  // Real Google auth\n  config.mock_google_auth = false;\n  config.google_oauth_client_id = process.env.REACT_APP_GOOGLE_OAUTH_CLIENT_ID;\n} else if (!config.google_oauth_client_id) {\n  // No login (must create retros via admin interface)\n  config.mock_google_auth = false;\n  config.google_oauth_client_id = null;\n}\n\nwindow.Retro = {config};\n\nReactDOM.render(<EnhancedApplication {...{config}}/>, document.getElementById('root'));\n","const event = (type, data) => ({\n  type: 'TRACK_ANALYTICS',\n  payload: {\n    type,\n    data,\n  },\n});\n\nconst createdRetro = (retroId) => event('Created Retro', {'retroId': retroId});\nconst visitedRetro = (retroId) => event('Retro visited', {'retroId': retroId});\nconst visitedRetroMagicLink = (retroId) => event('Retro visited - Magic Link', {'retroId': retroId});\nconst createdRetroItem = (retroId, category) => event('Created Retro Item', {'retroId': retroId, 'category': category});\nconst completedRetroItem = (retroId, category) => event('Completed Retro Item', {\n  'retroId': retroId,\n  'category': category,\n});\nconst createdActionItem = (retroId) => event('Created Action Item', {'retroId': retroId});\nconst doneActionItem = (retroId) => event('Done Action Item', {'retroId': retroId});\nconst undoneActionItem = (retroId) => event('Undone Action Item', {'retroId': retroId});\nconst archivedRetro = (retroId) => event('Archived Retro', {'retroId': retroId});\nconst viewedMagicLink = (retroId) => event('Viewed Magic Link', {'retroId': retroId});\nconst copiedMagicLink = (retroId) => event('Copied Magic Link to Clipboard', {'retroId': retroId});\nconst homePageShown = () => event('Loaded homepage');\n\nexport {\n  createdRetro,\n  visitedRetro,\n  visitedRetroMagicLink,\n  createdRetroItem,\n  completedRetroItem,\n  createdActionItem,\n  doneActionItem,\n  undoneActionItem,\n  archivedRetro,\n  viewedMagicLink,\n  copiedMagicLink,\n  homePageShown,\n};\n","// eslint-disable-next-line import/prefer-default-export\nexport const websocketUrl = (config) => {\n  if (config.websocket_port) {\n    const a = document.createElement('a');\n    a.href = config.websocket_url;\n    a.port = config.websocket_port;\n    return a.href;\n  }\n  return config.websocket_url;\n};\n"],"sourceRoot":""}